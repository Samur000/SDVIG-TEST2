function Of(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jc={exports:{}},Cl={},Zc={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Uf=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),Gf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),wi=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=wi&&e[wi]||e["@@iterator"],typeof e=="function"?e:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eu=Object.assign,tu={};function gr(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||qc}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nu(){}nu.prototype=gr.prototype;function Na(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||qc}var Sa=Na.prototype=new nu;Sa.constructor=Na;eu(Sa,gr.prototype);Sa.isPureReactComponent=!0;var ki=Array.isArray,ru=Object.prototype.hasOwnProperty,Ca={current:null},su={key:!0,ref:!0,__self:!0,__source:!0};function lu(e,t,n){var s,l={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ru.call(t,s)&&!su.hasOwnProperty(s)&&(l[s]=t[s]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)l[s]===void 0&&(l[s]=i[s]);return{$$typeof:ps,type:e,key:o,ref:a,props:l,_owner:Ca.current}}function Zf(e,t){return{$$typeof:ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ta(e){return typeof e=="object"&&e!==null&&e.$$typeof===ps}function qf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ni=/\/+/g;function Hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qf(""+e.key):t.toString(36)}function Os(e,t,n,s,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ps:case Wf:a=!0}}if(a)return a=e,l=l(a),e=s===""?"."+Hl(a,0):s,ki(l)?(n="",e!=null&&(n=e.replace(Ni,"$&/")+"/"),Os(l,t,n,"",function(u){return u})):l!=null&&(Ta(l)&&(l=Zf(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Ni,"$&/")+"/")+e)),t.push(l)),1;if(a=0,s=s===""?".":s+":",ki(e))for(var i=0;i<e.length;i++){o=e[i];var c=s+Hl(o,i);a+=Os(o,t,n,c,l)}else if(c=Jf(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=s+Hl(o,i++),a+=Os(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ws(e,t,n){if(e==null)return e;var s=[],l=0;return Os(e,s,"","",function(o){return t.call(n,o,l++)}),s}function em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},$s={transition:null},tm={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Ca};function ou(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ws,forEach:function(e,t,n){ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Ta(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=gr;de.Fragment=Uf;de.Profiler=Hf;de.PureComponent=Na;de.StrictMode=zf;de.Suspense=Kf;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;de.act=ou;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=eu({},e.props),l=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ca.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ru.call(t,c)&&!su.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];s.children=i}return{$$typeof:ps,type:e.type,key:l,ref:o,props:s,_owner:a}};de.createContext=function(e){return e={$$typeof:Yf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};de.createElement=lu;de.createFactory=function(e){var t=lu.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Gf,render:e}};de.isValidElement=Ta;de.lazy=function(e){return{$$typeof:Xf,_payload:{_status:-1,_result:e},_init:em}};de.memo=function(e,t){return{$$typeof:Qf,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};de.unstable_act=ou;de.useCallback=function(e,t){return Ke.current.useCallback(e,t)};de.useContext=function(e){return Ke.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};de.useEffect=function(e,t){return Ke.current.useEffect(e,t)};de.useId=function(){return Ke.current.useId()};de.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Ke.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};de.useRef=function(e){return Ke.current.useRef(e)};de.useState=function(e){return Ke.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Ke.current.useTransition()};de.version="18.3.1";Zc.exports=de;var f=Zc.exports;const au=$f(f),nm=Of({__proto__:null,default:au},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=f,sm=Symbol.for("react.element"),lm=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,am=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,im={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var s,l={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)om.call(t,s)&&!im.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:sm,type:e,key:o,ref:a,props:l,_owner:am.current}}Cl.Fragment=lm;Cl.jsx=iu;Cl.jsxs=iu;Jc.exports=Cl;var r=Jc.exports,No={},cu={exports:{}},at={},uu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var G=D.length;D.push(z);e:for(;0<G;){var te=G-1>>>1,ce=D[te];if(0<l(ce,z))D[te]=z,D[G]=ce,G=te;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var z=D[0],G=D.pop();if(G!==z){D[0]=G;e:for(var te=0,ce=D.length,pe=ce>>>1;te<pe;){var ge=2*(te+1)-1,P=D[ge],q=ge+1,ne=D[q];if(0>l(P,G))q<ce&&0>l(ne,P)?(D[te]=ne,D[q]=G,te=q):(D[te]=P,D[ge]=G,te=ge);else if(q<ce&&0>l(ne,G))D[te]=ne,D[q]=G,te=q;else break e}}return z}function l(D,z){var G=D.sortIndex-z.sortIndex;return G!==0?G:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],m=1,d=null,h=3,y=!1,j=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var z=n(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=D)s(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function w(D){if(v=!1,g(D),!j)if(n(c)!==null)j=!0,R(C);else{var z=n(u);z!==null&&Q(w,z.startTime-D)}}function C(D,z){j=!1,v&&(v=!1,x(I),I=-1),y=!0;var G=h;try{for(g(z),d=n(c);d!==null&&(!(d.expirationTime>z)||D&&!K());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var ce=te(d.expirationTime<=z);z=e.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(c)&&s(c),g(z)}else s(c);d=n(c)}if(d!==null)var pe=!0;else{var ge=n(u);ge!==null&&Q(w,ge.startTime-z),pe=!1}return pe}finally{d=null,h=G,y=!1}}var _=!1,E=null,I=-1,L=5,F=-1;function K(){return!(e.unstable_now()-F<L)}function Y(){if(E!==null){var D=e.unstable_now();F=D;var z=!0;try{z=E(!0,D)}finally{z?V():(_=!1,E=null)}}else _=!1}var V;if(typeof p=="function")V=function(){p(Y)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,T=oe.port2;oe.port1.onmessage=Y,V=function(){T.postMessage(null)}}else V=function(){k(Y,0)};function R(D){E=D,_||(_=!0,V())}function Q(D,z){I=k(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,R(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var G=h;h=z;try{return D()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return z()}finally{h=G}},e.unstable_scheduleCallback=function(D,z,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,D){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=G+ce,D={id:m++,callback:z,priorityLevel:D,startTime:G,expirationTime:ce,sortIndex:-1},G>te?(D.sortIndex=G,t(u,D),n(c)===null&&D===n(u)&&(v?(x(I),I=-1):v=!0,Q(w,G-te))):(D.sortIndex=ce,t(c,D),j||y||(j=!0,R(C))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var z=h;return function(){var G=h;h=z;try{return D.apply(this,arguments)}finally{h=G}}}})(du);uu.exports=du;var cm=uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=f,ot=cm;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fu=new Set,Kr={};function Ln(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Kr[e]=t,e=0;e<t.length;e++)fu.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=Object.prototype.hasOwnProperty,dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Si={},Ci={};function fm(e){return So.call(Ci,e)?!0:So.call(Si,e)?!1:dm.test(e)?Ci[e]=!0:(Si[e]=!0,!1)}function mm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hm(e,t,n,s){if(t===null||typeof t>"u"||mm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,s,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function Da(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ea,Da);$e[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ea,Da);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ea,Da);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ma(e,t,n,s){var l=$e.hasOwnProperty(t)?$e[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hm(t,n,l,s)&&(n=null),s||l===null?fm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ht=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Un=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),ba=Symbol.for("react.strict_mode"),Co=Symbol.for("react.profiler"),mu=Symbol.for("react.provider"),hu=Symbol.for("react.context"),_a=Symbol.for("react.forward_ref"),To=Symbol.for("react.suspense"),Eo=Symbol.for("react.suspense_list"),Ra=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),pu=Symbol.for("react.offscreen"),Ti=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=Ti&&e[Ti]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Vl;function Rr(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Yl=!1;function Gl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=s.stack.split(`
`),a=l.length-1,i=o.length-1;1<=a&&0<=i&&l[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==o[i]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function pm(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=Gl(e.type,!1),e;case 11:return e=Gl(e.type.render,!1),e;case 1:return e=Gl(e.type,!0),e;default:return""}}function Do(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Un:return"Portal";case Co:return"Profiler";case ba:return"StrictMode";case To:return"Suspense";case Eo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hu:return(e.displayName||"Context")+".Consumer";case mu:return(e._context.displayName||"Context")+".Provider";case _a:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ra:return t=e.displayName||null,t!==null?t:Do(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Do(e(t))}catch{}}return null}function xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(t);case 8:return t===ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vm(e){var t=xu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=vm(e))}function vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=xu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mo(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ei(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gu(e,t){t=t.checked,t!=null&&Ma(e,"checked",t,!1)}function bo(e,t){gu(e,t);var n=mn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_o(e,t.type,n):t.hasOwnProperty("defaultValue")&&_o(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Di(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _o(e,t,n){(t!=="number"||Zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pr=Array.isArray;function er(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Pr(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function yu(e,t){var n=mn(t.value),s=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function bi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gm=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){gm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function ku(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function Nu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ku(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ym=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(e,t){if(t){if(ym[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bo=null,tr=null,nr=null;function _i(e){if(e=gs(e)){if(typeof Bo!="function")throw Error($(280));var t=e.stateNode;t&&(t=bl(t),Bo(e.stateNode,e.type,t))}}function Su(e){tr?nr?nr.push(e):nr=[e]:tr=e}function Cu(){if(tr){var e=tr,t=nr;if(nr=tr=null,_i(e),t)for(e=0;e<t.length;e++)_i(t[e])}}function Tu(e,t){return e(t)}function Eu(){}var Kl=!1;function Du(e,t,n){if(Kl)return e(t,n);Kl=!0;try{return Tu(e,t,n)}finally{Kl=!1,(tr!==null||nr!==null)&&(Eu(),Cu())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var s=bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Fo=!1;if($t)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Fo=!1}function jm(e,t,n,s,l,o,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Fr=!1,qs=null,el=!1,Oo=null,wm={onError:function(e){Fr=!0,qs=e}};function km(e,t,n,s,l,o,a,i,c){Fr=!1,qs=null,jm.apply(wm,arguments)}function Nm(e,t,n,s,l,o,a,i,c){if(km.apply(this,arguments),Fr){if(Fr){var u=qs;Fr=!1,qs=null}else throw Error($(198));el||(el=!0,Oo=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ri(e){if(Bn(e)!==e)throw Error($(188))}function Sm(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Ri(l),e;if(o===s)return Ri(l),t;o=o.sibling}throw Error($(188))}if(n.return!==s.return)n=l,s=o;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,s=o;break}if(i===s){a=!0,s=l,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,s=l;break}if(i===s){a=!0,s=o,n=l;break}i=i.sibling}if(!a)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function bu(e){return e=Sm(e),e!==null?_u(e):null}function _u(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_u(e);if(t!==null)return t;e=e.sibling}return null}var Ru=ot.unstable_scheduleCallback,Pi=ot.unstable_cancelCallback,Cm=ot.unstable_shouldYield,Tm=ot.unstable_requestPaint,be=ot.unstable_now,Em=ot.unstable_getCurrentPriorityLevel,Ia=ot.unstable_ImmediatePriority,Pu=ot.unstable_UserBlockingPriority,tl=ot.unstable_NormalPriority,Dm=ot.unstable_LowPriority,Iu=ot.unstable_IdlePriority,Tl=null,Rt=null;function Mm(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Rm,bm=Math.log,_m=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(bm(e)/_m|0)|0}var Cs=64,Ts=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?s=Ir(i):(o&=a,o!==0&&(s=Ir(o)))}else a=n&~l,a!==0?s=Ir(a):o!==0&&(s=Ir(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-kt(t),l=1<<n,s|=e[n],t&=~l;return s}function Pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Im(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-kt(o),i=1<<a,c=l[a];c===-1?(!(i&n)||i&s)&&(l[a]=Pm(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Au(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function Ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Am(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-kt(n),o=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~o}}function Aa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-kt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var xe=0;function Lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bu,La,Fu,Ou,$u,Wo=!1,Es=[],nn=null,rn=null,sn=null,Jr=new Map,Zr=new Map,Xt=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Cr(e,t,n,s,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[l]},t!==null&&(t=gs(t),t!==null&&La(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Bm(e,t,n,s,l){switch(t){case"focusin":return nn=Cr(nn,e,t,n,s,l),!0;case"dragenter":return rn=Cr(rn,e,t,n,s,l),!0;case"mouseover":return sn=Cr(sn,e,t,n,s,l),!0;case"pointerover":var o=l.pointerId;return Jr.set(o,Cr(Jr.get(o)||null,e,t,n,s,l)),!0;case"gotpointercapture":return o=l.pointerId,Zr.set(o,Cr(Zr.get(o)||null,e,t,n,s,l)),!0}return!1}function Wu(e){var t=Nn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mu(n),t!==null){e.blockedOn=t,$u(e.priority,function(){Fu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Lo=s,n.target.dispatchEvent(s),Lo=null}else return t=gs(n),t!==null&&La(t),e.blockedOn=n,!1;t.shift()}return!0}function Ai(e,t,n){Ws(e)&&n.delete(t)}function Fm(){Wo=!1,nn!==null&&Ws(nn)&&(nn=null),rn!==null&&Ws(rn)&&(rn=null),sn!==null&&Ws(sn)&&(sn=null),Jr.forEach(Ai),Zr.forEach(Ai)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Fm)))}function qr(e){function t(l){return Tr(l,e)}if(0<Es.length){Tr(Es[0],e);for(var n=1;n<Es.length;n++){var s=Es[n];s.blockedOn===e&&(s.blockedOn=null)}}for(nn!==null&&Tr(nn,e),rn!==null&&Tr(rn,e),sn!==null&&Tr(sn,e),Jr.forEach(t),Zr.forEach(t),n=0;n<Xt.length;n++)s=Xt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Wu(n),n.blockedOn===null&&Xt.shift()}var rr=Ht.ReactCurrentBatchConfig,rl=!0;function Om(e,t,n,s){var l=xe,o=rr.transition;rr.transition=null;try{xe=1,Ba(e,t,n,s)}finally{xe=l,rr.transition=o}}function $m(e,t,n,s){var l=xe,o=rr.transition;rr.transition=null;try{xe=4,Ba(e,t,n,s)}finally{xe=l,rr.transition=o}}function Ba(e,t,n,s){if(rl){var l=Uo(e,t,n,s);if(l===null)lo(e,t,s,sl,n),Ii(e,s);else if(Bm(l,e,t,n,s))s.stopPropagation();else if(Ii(e,s),t&4&&-1<Lm.indexOf(e)){for(;l!==null;){var o=gs(l);if(o!==null&&Bu(o),o=Uo(e,t,n,s),o===null&&lo(e,t,s,sl,n),o===l)break;l=o}l!==null&&s.stopPropagation()}else lo(e,t,s,null,n)}}var sl=null;function Uo(e,t,n,s){if(sl=null,e=Pa(s),e=Nn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function Uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case Ia:return 1;case Pu:return 4;case tl:case Dm:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var Zt=null,Fa=null,Us=null;function zu(){if(Us)return Us;var e,t=Fa,n=t.length,s,l="value"in Zt?Zt.value:Zt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===l[o-s];s++);return Us=l.slice(e,1<s?1-s:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Li(){return!1}function it(e){function t(n,s,l,o,a){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ds:Li,this.isPropagationStopped=Li,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=it(yr),vs=Ee({},yr,{view:0,detail:0}),Wm=it(vs),Xl,Jl,Er,El=Ee({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Xl=e.screenX-Er.screenX,Jl=e.screenY-Er.screenY):Jl=Xl=0,Er=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),Bi=it(El),Um=Ee({},El,{dataTransfer:0}),zm=it(Um),Hm=Ee({},vs,{relatedTarget:0}),Zl=it(Hm),Vm=Ee({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=it(Vm),Gm=Ee({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Km=it(Gm),Qm=Ee({},yr,{data:0}),Fi=it(Qm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zm[e])?!!t[e]:!1}function $a(){return qm}var eh=Ee({},vs,{key:function(e){if(e.key){var t=Xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),th=it(eh),nh=Ee({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=it(nh),rh=Ee({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),sh=it(rh),lh=Ee({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=it(lh),ah=Ee({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ih=it(ah),ch=[9,13,27,32],Wa=$t&&"CompositionEvent"in window,Or=null;$t&&"documentMode"in document&&(Or=document.documentMode);var uh=$t&&"TextEvent"in window&&!Or,Hu=$t&&(!Wa||Or&&8<Or&&11>=Or),$i=" ",Wi=!1;function Vu(e,t){switch(e){case"keyup":return ch.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function dh(e,t){switch(e){case"compositionend":return Yu(t);case"keypress":return t.which!==32?null:(Wi=!0,$i);case"textInput":return e=t.data,e===$i&&Wi?null:e;default:return null}}function fh(e,t){if(Hn)return e==="compositionend"||!Wa&&Vu(e,t)?(e=zu(),Us=Fa=Zt=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hu&&t.locale!=="ko"?null:t.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mh[e.type]:t==="textarea"}function Gu(e,t,n,s){Su(s),t=ll(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $r=null,es=null;function hh(e){sd(e,0)}function Dl(e){var t=Gn(e);if(vu(t))return e}function ph(e,t){if(e==="change")return t}var Ku=!1;if($t){var ql;if($t){var eo="oninput"in document;if(!eo){var zi=document.createElement("div");zi.setAttribute("oninput","return;"),eo=typeof zi.oninput=="function"}ql=eo}else ql=!1;Ku=ql&&(!document.documentMode||9<document.documentMode)}function Hi(){$r&&($r.detachEvent("onpropertychange",Qu),es=$r=null)}function Qu(e){if(e.propertyName==="value"&&Dl(es)){var t=[];Gu(t,es,e,Pa(e)),Du(hh,t)}}function xh(e,t,n){e==="focusin"?(Hi(),$r=t,es=n,$r.attachEvent("onpropertychange",Qu)):e==="focusout"&&Hi()}function vh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(es)}function gh(e,t){if(e==="click")return Dl(t)}function yh(e,t){if(e==="input"||e==="change")return Dl(t)}function jh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:jh;function ts(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!So.call(t,l)||!St(e[l],t[l]))return!1}return!0}function Vi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yi(e,t){var n=Vi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vi(n)}}function Xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ju(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wh(e){var t=Ju(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xu(n.ownerDocument.documentElement,n)){if(s!==null&&Ua(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(s.start,l);s=s.end===void 0?o:Math.min(s.end,l),!e.extend&&o>s&&(l=s,s=o,o=l),l=Yi(n,o);var a=Yi(n,s);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kh=$t&&"documentMode"in document&&11>=document.documentMode,Vn=null,zo=null,Wr=null,Ho=!1;function Gi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||Vn==null||Vn!==Zs(s)||(s=Vn,"selectionStart"in s&&Ua(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wr&&ts(Wr,s)||(Wr=s,s=ll(zo,"onSelect"),0<s.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Vn)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},to={},Zu={};$t&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function Ml(e){if(to[e])return to[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zu)return to[e]=t[n];return e}var qu=Ml("animationend"),ed=Ml("animationiteration"),td=Ml("animationstart"),nd=Ml("transitionend"),rd=new Map,Ki="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){rd.set(e,t),Ln(t,[e])}for(var no=0;no<Ki.length;no++){var ro=Ki[no],Nh=ro.toLowerCase(),Sh=ro[0].toUpperCase()+ro.slice(1);pn(Nh,"on"+Sh)}pn(qu,"onAnimationEnd");pn(ed,"onAnimationIteration");pn(td,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(nd,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ch=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Qi(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Nm(s,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var i=s[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&l.isPropagationStopped())break e;Qi(l,i,u),o=c}else for(a=0;a<s.length;a++){if(i=s[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&l.isPropagationStopped())break e;Qi(l,i,u),o=c}}}if(el)throw e=Oo,el=!1,Oo=null,e}function je(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var s=e+"__bubble";n.has(s)||(ld(t,e,2,!1),n.add(s))}function so(e,t,n){var s=0;t&&(s|=4),ld(n,e,s,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[bs]){e[bs]=!0,fu.forEach(function(n){n!=="selectionchange"&&(Ch.has(n)||so(n,!1,e),so(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,so("selectionchange",!1,t))}}function ld(e,t,n,s){switch(Uu(t)){case 1:var l=Om;break;case 4:l=$m;break;default:l=Ba}n=l.bind(null,t,n,e),l=void 0,!Fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function lo(e,t,n,s,l){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var i=s.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Nn(i),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}i=i.parentNode}}s=s.return}Du(function(){var u=o,m=Pa(n),d=[];e:{var h=rd.get(e);if(h!==void 0){var y=Oa,j=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":y=th;break;case"focusin":j="focus",y=Zl;break;case"focusout":j="blur",y=Zl;break;case"beforeblur":case"afterblur":y=Zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sh;break;case qu:case ed:case td:y=Ym;break;case nd:y=oh;break;case"scroll":y=Wm;break;case"wheel":y=ih;break;case"copy":case"cut":case"paste":y=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Oi}var v=(t&4)!==0,k=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,x!==null&&(w=Xr(p,x),w!=null&&v.push(rs(p,w,g)))),k)break;p=p.return}0<v.length&&(h=new y(h,j,null,n,m),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Lo&&(j=n.relatedTarget||n.fromElement)&&(Nn(j)||j[Wt]))break e;if((y||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=u,j=j?Nn(j):null,j!==null&&(k=Bn(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(v=Bi,w="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Oi,w="onPointerLeave",x="onPointerEnter",p="pointer"),k=y==null?h:Gn(y),g=j==null?h:Gn(j),h=new v(w,p+"leave",y,n,m),h.target=k,h.relatedTarget=g,w=null,Nn(m)===u&&(v=new v(x,p+"enter",j,n,m),v.target=g,v.relatedTarget=k,w=v),k=w,y&&j)t:{for(v=y,x=j,p=0,g=v;g;g=On(g))p++;for(g=0,w=x;w;w=On(w))g++;for(;0<p-g;)v=On(v),p--;for(;0<g-p;)x=On(x),g--;for(;p--;){if(v===x||x!==null&&v===x.alternate)break t;v=On(v),x=On(x)}v=null}else v=null;y!==null&&Xi(d,h,y,v,!1),j!==null&&k!==null&&Xi(d,k,j,v,!0)}}e:{if(h=u?Gn(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var C=ph;else if(Ui(h))if(Ku)C=yh;else{C=vh;var _=xh}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=gh);if(C&&(C=C(e,u))){Gu(d,C,n,m);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&_o(h,"number",h.value)}switch(_=u?Gn(u):window,e){case"focusin":(Ui(_)||_.contentEditable==="true")&&(Vn=_,zo=u,Wr=null);break;case"focusout":Wr=zo=Vn=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Gi(d,n,m);break;case"selectionchange":if(kh)break;case"keydown":case"keyup":Gi(d,n,m)}var E;if(Wa)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Hn?Vu(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Hu&&n.locale!=="ko"&&(Hn||I!=="onCompositionStart"?I==="onCompositionEnd"&&Hn&&(E=zu()):(Zt=m,Fa="value"in Zt?Zt.value:Zt.textContent,Hn=!0)),_=ll(u,I),0<_.length&&(I=new Fi(I,e,null,n,m),d.push({event:I,listeners:_}),E?I.data=E:(E=Yu(n),E!==null&&(I.data=E)))),(E=uh?dh(e,n):fh(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(m=new Fi("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:u}),m.data=E))}sd(d,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Xr(e,n),o!=null&&s.unshift(rs(e,o,l)),o=Xr(e,t),o!=null&&s.push(rs(e,o,l))),e=e.return}return s}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xi(e,t,n,s,l){for(var o=t._reactName,a=[];n!==null&&n!==s;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&u!==null&&(i=u,l?(c=Xr(n,o),c!=null&&a.unshift(rs(n,c,i))):l||(c=Xr(n,o),c!=null&&a.push(rs(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Th=/\r\n?/g,Eh=/\u0000|\uFFFD/g;function Ji(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Eh,"")}function _s(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error($(425))}function ol(){}var Vo=null,Yo=null;function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,Dh=typeof clearTimeout=="function"?clearTimeout:void 0,Zi=typeof Promise=="function"?Promise:void 0,Mh=typeof queueMicrotask=="function"?queueMicrotask:typeof Zi<"u"?function(e){return Zi.resolve(null).then(e).catch(bh)}:Ko;function bh(e){setTimeout(function(){throw e})}function oo(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),qr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);qr(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),bt="__reactFiber$"+jr,ss="__reactProps$"+jr,Wt="__reactContainer$"+jr,Qo="__reactEvents$"+jr,_h="__reactListeners$"+jr,Rh="__reactHandles$"+jr;function Nn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qi(e);e!==null;){if(n=e[bt])return n;e=qi(e)}return t}e=n,n=e.parentNode}return null}function gs(e){return e=e[bt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function bl(e){return e[ss]||null}var Xo=[],Kn=-1;function xn(e){return{current:e}}function we(e){0>Kn||(e.current=Xo[Kn],Xo[Kn]=null,Kn--)}function ye(e,t){Kn++,Xo[Kn]=e.current,e.current=t}var hn={},He=xn(hn),Ze=xn(!1),Mn=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function qe(e){return e=e.childContextTypes,e!=null}function al(){we(Ze),we(He)}function ec(e,t,n){if(He.current!==hn)throw Error($(168));ye(He,t),ye(Ze,n)}function od(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error($(108,xm(e)||"Unknown",l));return Ee({},n,s)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Mn=He.current,ye(He,e),ye(Ze,Ze.current),!0}function tc(e,t,n){var s=e.stateNode;if(!s)throw Error($(169));n?(e=od(e,t,Mn),s.__reactInternalMemoizedMergedChildContext=e,we(Ze),we(He),ye(He,e)):we(Ze),ye(Ze,n)}var Lt=null,_l=!1,ao=!1;function ad(e){Lt===null?Lt=[e]:Lt.push(e)}function Ph(e){_l=!0,ad(e)}function vn(){if(!ao&&Lt!==null){ao=!0;var e=0,t=xe;try{var n=Lt;for(xe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Lt=null,_l=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),Ru(Ia,vn),l}finally{xe=t,ao=!1}}return null}var Qn=[],Xn=0,cl=null,ul=0,ct=[],ut=0,bn=null,Bt=1,Ft="";function wn(e,t){Qn[Xn++]=ul,Qn[Xn++]=cl,cl=e,ul=t}function id(e,t,n){ct[ut++]=Bt,ct[ut++]=Ft,ct[ut++]=bn,bn=e;var s=Bt;e=Ft;var l=32-kt(s)-1;s&=~(1<<l),n+=1;var o=32-kt(t)+l;if(30<o){var a=l-l%5;o=(s&(1<<a)-1).toString(32),s>>=a,l-=a,Bt=1<<32-kt(t)+l|n<<l|s,Ft=o+e}else Bt=1<<o|n<<l|s,Ft=e}function za(e){e.return!==null&&(wn(e,1),id(e,1,0))}function Ha(e){for(;e===cl;)cl=Qn[--Xn],Qn[Xn]=null,ul=Qn[--Xn],Qn[Xn]=null;for(;e===bn;)bn=ct[--ut],ct[ut]=null,Ft=ct[--ut],ct[ut]=null,Bt=ct[--ut],ct[ut]=null}var lt=null,st=null,Se=!1,wt=null;function cd(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:Bt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(Se){var t=st;if(t){var n=t;if(!nc(e,t)){if(Jo(e))throw Error($(418));t=ln(n.nextSibling);var s=lt;t&&nc(e,t)?cd(s,n):(e.flags=e.flags&-4097|2,Se=!1,lt=e)}}else{if(Jo(e))throw Error($(418));e.flags=e.flags&-4097|2,Se=!1,lt=e}}}function rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Rs(e){if(e!==lt)return!1;if(!Se)return rc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Go(e.type,e.memoizedProps)),t&&(t=st)){if(Jo(e))throw ud(),Error($(418));for(;t;)cd(e,t),t=ln(t.nextSibling)}if(rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?ln(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=st;e;)e=ln(e.nextSibling)}function ur(){st=lt=null,Se=!1}function Va(e){wt===null?wt=[e]:wt.push(e)}var Ih=Ht.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var s=n.stateNode}if(!s)throw Error($(147,e));var l=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=l.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sc(e){var t=e._init;return t(e._payload)}function dd(e){function t(x,p){if(e){var g=x.deletions;g===null?(x.deletions=[p],x.flags|=16):g.push(p)}}function n(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function s(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function l(x,p){return x=un(x,p),x.index=0,x.sibling=null,x}function o(x,p,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<p?(x.flags|=2,p):g):(x.flags|=2,p)):(x.flags|=1048576,p)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,p,g,w){return p===null||p.tag!==6?(p=po(g,x.mode,w),p.return=x,p):(p=l(p,g),p.return=x,p)}function c(x,p,g,w){var C=g.type;return C===zn?m(x,p,g.props.children,w,g.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&sc(C)===p.type)?(w=l(p,g.props),w.ref=Dr(x,p,g),w.return=x,w):(w=Xs(g.type,g.key,g.props,null,x.mode,w),w.ref=Dr(x,p,g),w.return=x,w)}function u(x,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=xo(g,x.mode,w),p.return=x,p):(p=l(p,g.children||[]),p.return=x,p)}function m(x,p,g,w,C){return p===null||p.tag!==7?(p=En(g,x.mode,w,C),p.return=x,p):(p=l(p,g),p.return=x,p)}function d(x,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=po(""+p,x.mode,g),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return g=Xs(p.type,p.key,p.props,null,x.mode,g),g.ref=Dr(x,null,p),g.return=x,g;case Un:return p=xo(p,x.mode,g),p.return=x,p;case Kt:var w=p._init;return d(x,w(p._payload),g)}if(Pr(p)||Nr(p))return p=En(p,x.mode,g,null),p.return=x,p;Ps(x,p)}return null}function h(x,p,g,w){var C=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:i(x,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ks:return g.key===C?c(x,p,g,w):null;case Un:return g.key===C?u(x,p,g,w):null;case Kt:return C=g._init,h(x,p,C(g._payload),w)}if(Pr(g)||Nr(g))return C!==null?null:m(x,p,g,w,null);Ps(x,g)}return null}function y(x,p,g,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(g)||null,i(p,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ks:return x=x.get(w.key===null?g:w.key)||null,c(p,x,w,C);case Un:return x=x.get(w.key===null?g:w.key)||null,u(p,x,w,C);case Kt:var _=w._init;return y(x,p,g,_(w._payload),C)}if(Pr(w)||Nr(w))return x=x.get(g)||null,m(p,x,w,C,null);Ps(p,w)}return null}function j(x,p,g,w){for(var C=null,_=null,E=p,I=p=0,L=null;E!==null&&I<g.length;I++){E.index>I?(L=E,E=null):L=E.sibling;var F=h(x,E,g[I],w);if(F===null){E===null&&(E=L);break}e&&E&&F.alternate===null&&t(x,E),p=o(F,p,I),_===null?C=F:_.sibling=F,_=F,E=L}if(I===g.length)return n(x,E),Se&&wn(x,I),C;if(E===null){for(;I<g.length;I++)E=d(x,g[I],w),E!==null&&(p=o(E,p,I),_===null?C=E:_.sibling=E,_=E);return Se&&wn(x,I),C}for(E=s(x,E);I<g.length;I++)L=y(E,x,I,g[I],w),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?I:L.key),p=o(L,p,I),_===null?C=L:_.sibling=L,_=L);return e&&E.forEach(function(K){return t(x,K)}),Se&&wn(x,I),C}function v(x,p,g,w){var C=Nr(g);if(typeof C!="function")throw Error($(150));if(g=C.call(g),g==null)throw Error($(151));for(var _=C=null,E=p,I=p=0,L=null,F=g.next();E!==null&&!F.done;I++,F=g.next()){E.index>I?(L=E,E=null):L=E.sibling;var K=h(x,E,F.value,w);if(K===null){E===null&&(E=L);break}e&&E&&K.alternate===null&&t(x,E),p=o(K,p,I),_===null?C=K:_.sibling=K,_=K,E=L}if(F.done)return n(x,E),Se&&wn(x,I),C;if(E===null){for(;!F.done;I++,F=g.next())F=d(x,F.value,w),F!==null&&(p=o(F,p,I),_===null?C=F:_.sibling=F,_=F);return Se&&wn(x,I),C}for(E=s(x,E);!F.done;I++,F=g.next())F=y(E,x,I,F.value,w),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?I:F.key),p=o(F,p,I),_===null?C=F:_.sibling=F,_=F);return e&&E.forEach(function(Y){return t(x,Y)}),Se&&wn(x,I),C}function k(x,p,g,w){if(typeof g=="object"&&g!==null&&g.type===zn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ks:e:{for(var C=g.key,_=p;_!==null;){if(_.key===C){if(C=g.type,C===zn){if(_.tag===7){n(x,_.sibling),p=l(_,g.props.children),p.return=x,x=p;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&sc(C)===_.type){n(x,_.sibling),p=l(_,g.props),p.ref=Dr(x,_,g),p.return=x,x=p;break e}n(x,_);break}else t(x,_);_=_.sibling}g.type===zn?(p=En(g.props.children,x.mode,w,g.key),p.return=x,x=p):(w=Xs(g.type,g.key,g.props,null,x.mode,w),w.ref=Dr(x,p,g),w.return=x,x=w)}return a(x);case Un:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(x,p.sibling),p=l(p,g.children||[]),p.return=x,x=p;break e}else{n(x,p);break}else t(x,p);p=p.sibling}p=xo(g,x.mode,w),p.return=x,x=p}return a(x);case Kt:return _=g._init,k(x,p,_(g._payload),w)}if(Pr(g))return j(x,p,g,w);if(Nr(g))return v(x,p,g,w);Ps(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(x,p.sibling),p=l(p,g),p.return=x,x=p):(n(x,p),p=po(g,x.mode,w),p.return=x,x=p),a(x)):n(x,p)}return k}var dr=dd(!0),fd=dd(!1),dl=xn(null),fl=null,Jn=null,Ya=null;function Ga(){Ya=Jn=fl=null}function Ka(e){var t=dl.current;we(dl),e._currentValue=t}function qo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){fl=e,Ya=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Ya!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(fl===null)throw Error($(308));Jn=e,fl.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var Sn=null;function Qa(e){Sn===null?Sn=[e]:Sn.push(e)}function md(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Qa(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ut(e,s)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,me&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ut(e,n)}return l=s.interleaved,l===null?(t.next=t,Qa(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ut(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Aa(e,n)}}function lc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ml(e,t,n,s){var l=e.updateQueue;Qt=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==a&&(i===null?m.firstBaseUpdate=u:i.next=u,m.lastBaseUpdate=c))}if(o!==null){var d=l.baseState;a=0,m=u=c=null,i=o;do{var h=i.lane,y=i.eventTime;if((s&h)===h){m!==null&&(m=m.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var j=e,v=i;switch(h=t,y=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){d=j.call(y,d,h);break e}d=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,h=typeof j=="function"?j.call(y,d,h):j,h==null)break e;d=Ee({},d,h);break e;case 2:Qt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else y={eventTime:y,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(u=m=y,c=d):m=m.next=y,a|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(m===null&&(c=d),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Rn|=a,e.lanes=a,e.memoizedState=d}}function oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error($(191,l));l.call(s)}}}var ys={},Pt=xn(ys),ls=xn(ys),os=xn(ys);function Cn(e){if(e===ys)throw Error($(174));return e}function Ja(e,t){switch(ye(os,t),ye(ls,e),ye(Pt,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}we(Pt),ye(Pt,t)}function fr(){we(Pt),we(ls),we(os)}function pd(e){Cn(os.current);var t=Cn(Pt.current),n=Po(t,e.type);t!==n&&(ye(ls,e),ye(Pt,n))}function Za(e){ls.current===e&&(we(Pt),we(ls))}var Ce=xn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=[];function qa(){for(var e=0;e<io.length;e++)io[e]._workInProgressVersionPrimary=null;io.length=0}var Vs=Ht.ReactCurrentDispatcher,co=Ht.ReactCurrentBatchConfig,_n=0,Te=null,Pe=null,Ae=null,pl=!1,Ur=!1,as=0,Ah=0;function We(){throw Error($(321))}function ei(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function ti(e,t,n,s,l,o){if(_n=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Oh:$h,e=n(s,l),Ur){o=0;do{if(Ur=!1,as=0,25<=o)throw Error($(301));o+=1,Ae=Pe=null,t.updateQueue=null,Vs.current=Wh,e=n(s,l)}while(Ur)}if(Vs.current=xl,t=Pe!==null&&Pe.next!==null,_n=0,Ae=Pe=Te=null,pl=!1,t)throw Error($(300));return e}function ni(){var e=as!==0;return as=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Te.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function vt(){if(Pe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Ae===null?Te.memoizedState:Ae.next;if(t!==null)Ae=t,Pe=e;else{if(e===null)throw Error($(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ae===null?Te.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function is(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=vt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=Pe,l=s.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}s.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,s=s.baseState;var i=a=null,c=null,u=o;do{var m=u.lane;if((_n&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=d,a=s):c=c.next=d,Te.lanes|=m,Rn|=m}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=i,St(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Te.lanes|=o,Rn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=vt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);St(o,t.memoizedState)||(Je=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function xd(){}function vd(e,t){var n=Te,s=vt(),l=t(),o=!St(s.memoizedState,l);if(o&&(s.memoizedState=l,Je=!0),s=s.queue,ri(jd.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,cs(9,yd.bind(null,n,s,l,t),void 0,null),Le===null)throw Error($(349));_n&30||gd(n,t,l)}return l}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,s){t.value=n,t.getSnapshot=s,wd(t)&&kd(e)}function jd(e,t,n){return n(function(){wd(t)&&kd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function kd(e){var t=Ut(e,1);t!==null&&Nt(t,e,1,-1)}function ac(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=Fh.bind(null,Te,e),[t.memoizedState,e]}function cs(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Nd(){return vt().memoizedState}function Ys(e,t,n,s){var l=Mt();Te.flags|=e,l.memoizedState=cs(1|t,n,void 0,s===void 0?null:s)}function Rl(e,t,n,s){var l=vt();s=s===void 0?null:s;var o=void 0;if(Pe!==null){var a=Pe.memoizedState;if(o=a.destroy,s!==null&&ei(s,a.deps)){l.memoizedState=cs(t,n,o,s);return}}Te.flags|=e,l.memoizedState=cs(1|t,n,o,s)}function ic(e,t){return Ys(8390656,8,e,t)}function ri(e,t){return Rl(2048,8,e,t)}function Sd(e,t){return Rl(4,2,e,t)}function Cd(e,t){return Rl(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Td.bind(null,t,e),n)}function si(){}function Dd(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ei(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ei(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function bd(e,t,n){return _n&21?(St(n,t)||(n=Au(),Te.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Lh(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var s=co.transition;co.transition={};try{e(!1),t()}finally{xe=n,co.transition=s}}function _d(){return vt().memoizedState}function Bh(e,t,n){var s=cn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(e))Pd(t,n);else if(n=md(e,t,n,s),n!==null){var l=Ge();Nt(n,e,s,l),Id(n,t,s)}}function Fh(e,t,n){var s=cn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Pd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(l.hasEagerState=!0,l.eagerState=i,St(i,a)){var c=t.interleaved;c===null?(l.next=l,Qa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=md(e,t,l,s),n!==null&&(l=Ge(),Nt(n,e,s,l),Id(n,t,s))}}function Rd(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Pd(e,t){Ur=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Id(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Aa(e,n)}}var xl={readContext:xt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Oh={readContext:xt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,Td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Mt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bh.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:ac,useDebugValue:si,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=ac(!1),t=e[0];return e=Lh.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Te,l=Mt();if(Se){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Le===null)throw Error($(349));_n&30||gd(s,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,ic(jd.bind(null,s,o,e),[e]),s.flags|=2048,cs(9,yd.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Le.identifierPrefix;if(Se){var n=Ft,s=Bt;n=(s&~(1<<32-kt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=as++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ah++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$h={readContext:xt,useCallback:Dd,useContext:xt,useEffect:ri,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Md,useReducer:uo,useRef:Nd,useState:function(){return uo(is)},useDebugValue:si,useDeferredValue:function(e){var t=vt();return bd(t,Pe.memoizedState,e)},useTransition:function(){var e=uo(is)[0],t=vt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:_d,unstable_isNewReconciler:!1},Wh={readContext:xt,useCallback:Dd,useContext:xt,useEffect:ri,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Md,useReducer:fo,useRef:Nd,useState:function(){return fo(is)},useDebugValue:si,useDeferredValue:function(e){var t=vt();return Pe===null?t.memoizedState=e:bd(t,Pe.memoizedState,e)},useTransition:function(){var e=fo(is)[0],t=vt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:_d,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ea(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pl={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ge(),l=cn(e),o=Ot(s,l);o.payload=t,n!=null&&(o.callback=n),t=on(e,o,l),t!==null&&(Nt(t,e,l,s),Hs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ge(),l=cn(e),o=Ot(s,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=on(e,o,l),t!==null&&(Nt(t,e,l,s),Hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),s=cn(e),l=Ot(n,s);l.tag=2,t!=null&&(l.callback=t),t=on(e,l,s),t!==null&&(Nt(t,e,s,n),Hs(t,e,s))}};function cc(e,t,n,s,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):t.prototype&&t.prototype.isPureReactComponent?!ts(n,s)||!ts(l,o):!0}function Ad(e,t,n){var s=!1,l=hn,o=t.contextType;return typeof o=="object"&&o!==null?o=xt(o):(l=qe(t)?Mn:He.current,s=t.contextTypes,o=(s=s!=null)?cr(e,l):hn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function uc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Pl.enqueueReplaceState(t,t.state,null)}function ta(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Xa(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=xt(o):(o=qe(t)?Mn:He.current,l.context=cr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ea(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Pl.enqueueReplaceState(l,l.state,null),ml(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",s=t;do n+=pm(s),s=s.return;while(s);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uh=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){gl||(gl=!0,fa=s),na(e,t)},n}function Bd(e,t,n){n=Ot(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){na(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){na(e,t),typeof s!="function"&&(an===null?an=new Set([this]):an.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function dc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Uh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=np.bind(null,e,t,n),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ot(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e)}var zh=Ht.ReactCurrentOwner,Je=!1;function Ye(e,t,n,s){t.child=e===null?fd(t,null,n,s):dr(t,e.child,n,s)}function hc(e,t,n,s,l){n=n.render;var o=t.ref;return sr(t,l),s=ti(e,t,n,s,o,l),n=ni(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(Se&&n&&za(t),t.flags|=1,Ye(e,t,s,l),t.child)}function pc(e,t,n,s,l){if(e===null){var o=n.type;return typeof o=="function"&&!fi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Fd(e,t,o,s,l)):(e=Xs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(a,s)&&e.ref===t.ref)return zt(e,t,l)}return t.flags|=1,e=un(o,s),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,s,l){if(e!==null){var o=e.memoizedProps;if(ts(o,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=o,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,zt(e,t,l)}return ra(e,t,n,s,l)}function Od(e,t,n){var s=t.pendingProps,l=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(qn,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(qn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,ye(qn,nt),nt|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,ye(qn,nt),nt|=s;return Ye(e,t,l,n),t.child}function $d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ra(e,t,n,s,l){var o=qe(n)?Mn:He.current;return o=cr(t,o),sr(t,l),n=ti(e,t,n,s,o,l),s=ni(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(Se&&s&&za(t),t.flags|=1,Ye(e,t,n,l),t.child)}function xc(e,t,n,s,l){if(qe(n)){var o=!0;il(t)}else o=!1;if(sr(t,l),t.stateNode===null)Gs(e,t),Ad(t,n,s),ta(t,n,s,l),s=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=qe(n)?Mn:He.current,u=cr(t,u));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==s||c!==u)&&uc(t,a,s,u),Qt=!1;var h=t.memoizedState;a.state=h,ml(t,s,a,l),c=t.memoizedState,i!==s||h!==c||Ze.current||Qt?(typeof m=="function"&&(ea(t,n,m,s),c=t.memoizedState),(i=Qt||cc(t,n,i,s,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,hd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:yt(t.type,i),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=qe(n)?Mn:He.current,c=cr(t,c));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==d||h!==c)&&uc(t,a,s,c),Qt=!1,h=t.memoizedState,a.state=h,ml(t,s,a,l);var j=t.memoizedState;i!==d||h!==j||Ze.current||Qt?(typeof y=="function"&&(ea(t,n,y,s),j=t.memoizedState),(u=Qt||cc(t,n,u,s,h,j,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,j,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,j,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),a.props=s,a.state=j,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return sa(e,t,n,s,o,l)}function sa(e,t,n,s,l,o){$d(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return l&&tc(t,n,!1),zt(e,t,o);s=t.stateNode,zh.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=dr(t,e.child,null,o),t.child=dr(t,null,i,o)):Ye(e,t,i,o),t.memoizedState=s.state,l&&tc(t,n,!0),t.child}function Wd(e){var t=e.stateNode;t.pendingContext?ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ec(e,t.context,!1),Ja(e,t.containerInfo)}function vc(e,t,n,s,l){return ur(),Va(l),t.flags|=256,Ye(e,t,n,s),t.child}var la={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var s=t.pendingProps,l=Ce.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(Ce,l&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ll(a,s,0,null),e=En(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=oa(n),t.memoizedState=la,e):li(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Hh(e,t,a,s,i,l,n);if(o){o=s.fallback,a=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=un(l,c),s.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=un(i,o):(o=En(o,a,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=e.child.memoizedState,a=a===null?oa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=la,s}return o=e.child,e=o.sibling,s=un(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function li(e,t){return t=Ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,n,s){return s!==null&&Va(s),dr(t,e.child,null,n),e=li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hh(e,t,n,s,l,o,a){if(n)return t.flags&256?(t.flags&=-257,s=mo(Error($(422))),Is(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,l=t.mode,s=Ll({mode:"visible",children:s.children},l,0,null),o=En(o,l,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&dr(t,e.child,null,a),t.child.memoizedState=oa(a),t.memoizedState=la,o);if(!(t.mode&1))return Is(e,t,a,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var i=s.dgst;return s=i,o=Error($(419)),s=mo(o,s,void 0),Is(e,t,a,s)}if(i=(a&e.childLanes)!==0,Je||i){if(s=Le,s!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Ut(e,l),Nt(s,e,l,-1))}return di(),s=mo(Error($(421))),Is(e,t,a,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=ln(l.nextSibling),lt=t,Se=!0,wt=null,e!==null&&(ct[ut++]=Bt,ct[ut++]=Ft,ct[ut++]=bn,Bt=e.id,Ft=e.overflow,bn=t),t=li(t,s.children),t.flags|=4096,t)}function gc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qo(e.return,t,n)}function ho(e,t,n,s,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=l)}function zd(e,t,n){var s=t.pendingProps,l=s.revealOrder,o=s.tail;if(Ye(e,t,s.children,n),s=Ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,n,t);else if(e.tag===19)gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ye(Ce,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ho(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&hl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ho(t,!0,n,null,o);break;case"together":ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vh(e,t,n){switch(t.tag){case 3:Wd(t),ur();break;case 5:pd(t);break;case 1:qe(t.type)&&il(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ye(dl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(ye(Ce,Ce.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return zd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,Od(e,t,n)}return zt(e,t,n)}var Hd,aa,Vd,Yd;Hd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aa=function(){};Vd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Cn(Pt.current);var o=null;switch(n){case"input":l=Mo(e,l),s=Mo(e,s),o=[];break;case"select":l=Ee({},l,{value:void 0}),s=Ee({},s,{value:void 0}),o=[];break;case"textarea":l=Ro(e,l),s=Ro(e,s),o=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ol)}Io(n,s);var a;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(i=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Yd=function(e,t,n,s){n!==s&&(t.flags|=4)};function Mr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Yh(e,t,n){var s=t.pendingProps;switch(Ha(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return qe(t.type)&&al(),Ue(t),null;case 3:return s=t.stateNode,fr(),we(Ze),we(He),qa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(pa(wt),wt=null))),aa(e,t),Ue(t),null;case 5:Za(t);var l=Cn(os.current);if(n=t.type,e!==null&&t.stateNode!=null)Vd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return Ue(t),null}if(e=Cn(Pt.current),Rs(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[bt]=t,s[ss]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<Ar.length;l++)je(Ar[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":Ei(s,o),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},je("invalid",s);break;case"textarea":Mi(s,o),je("invalid",s)}Io(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?s.textContent!==i&&(o.suppressHydrationWarning!==!0&&_s(s.textContent,i,e),l=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&_s(s.textContent,i,e),l=["children",""+i]):Kr.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&je("scroll",s)}switch(n){case"input":Ns(s),Di(s,o,!0);break;case"textarea":Ns(s),bi(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=ol)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[bt]=t,e[ss]=s,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ao(n,s),n){case"dialog":je("cancel",e),je("close",e),l=s;break;case"iframe":case"object":case"embed":je("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ar.length;l++)je(Ar[l],e);l=s;break;case"source":je("error",e),l=s;break;case"img":case"image":case"link":je("error",e),je("load",e),l=s;break;case"details":je("toggle",e),l=s;break;case"input":Ei(e,s),l=Mo(e,s),je("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Ee({},s,{value:void 0}),je("invalid",e);break;case"textarea":Mi(e,s),l=Ro(e,s),je("invalid",e);break;default:l=s}Io(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?Nu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wu(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qr(e,c):typeof c=="number"&&Qr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",e):c!=null&&Ma(e,o,c,a))}switch(n){case"input":Ns(e),Di(e,s,!1);break;case"textarea":Ns(e),bi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+mn(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?er(e,!!s.multiple,o,!1):s.defaultValue!=null&&er(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(n=Cn(os.current),Cn(Pt.current),Rs(t)){if(s=t.stateNode,n=t.memoizedProps,s[bt]=t,(o=s.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:_s(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[bt]=t,t.stateNode=s}return Ue(t),null;case 13:if(we(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&st!==null&&t.mode&1&&!(t.flags&128))ud(),ur(),t.flags|=98560,o=!1;else if(o=Rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[bt]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else wt!==null&&(pa(wt),wt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ie===0&&(Ie=3):di())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return fr(),aa(e,t),e===null&&ns(t.stateNode.containerInfo),Ue(t),null;case 10:return Ka(t.type._context),Ue(t),null;case 17:return qe(t.type)&&al(),Ue(t),null;case 19:if(we(Ce),o=t.memoizedState,o===null)return Ue(t),null;if(s=(t.flags&128)!==0,a=o.rendering,a===null)if(s)Mr(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hl(e),a!==null){for(t.flags|=128,Mr(o,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&be()>hr&&(t.flags|=128,s=!0,Mr(o,!1),t.lanes=4194304)}else{if(!s)if(e=hl(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Se)return Ue(t),null}else 2*be()-o.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,s=!0,Mr(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=be(),t.sibling=null,n=Ce.current,ye(Ce,s?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return ui(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?nt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Gh(e,t){switch(Ha(t),t.tag){case 1:return qe(t.type)&&al(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),we(Ze),we(He),qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Za(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return fr(),null;case 10:return Ka(t.type._context),null;case 22:case 23:return ui(),null;case 24:return null;default:return null}}var As=!1,ze=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,J=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function ia(e,t,n){try{n()}catch(s){De(e,t,s)}}var yc=!1;function Qh(e,t){if(Vo=rl,e=Ju(),Ua(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,u=0,m=0,d=e,h=null;t:for(;;){for(var y;d!==n||l!==0&&d.nodeType!==3||(i=a+l),d!==o||s!==0&&d.nodeType!==3||(c=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===e)break t;if(h===n&&++u===l&&(i=a),h===o&&++m===s&&(c=a),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:e,selectionRange:n},rl=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,k=j.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:yt(t.type,v),k);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(w){De(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return j=yc,yc=!1,j}function zr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ia(t,n,o)}l=l.next}while(l!==s)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[ss],delete t[Qo],delete t[_h],delete t[Rh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ua(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(s!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}function da(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(da(e,t,n),e=e.sibling;e!==null;)da(e,t,n),e=e.sibling}var Fe=null,jt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Qd(e,t,n),n=n.sibling}function Qd(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:ze||Zn(n,t);case 6:var s=Fe,l=jt;Fe=null,Gt(e,t,n),Fe=s,jt=l,Fe!==null&&(jt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(jt?(e=Fe,n=n.stateNode,e.nodeType===8?oo(e.parentNode,n):e.nodeType===1&&oo(e,n),qr(e)):oo(Fe,n.stateNode));break;case 4:s=Fe,l=jt,Fe=n.stateNode.containerInfo,jt=!0,Gt(e,t,n),Fe=s,jt=l;break;case 0:case 11:case 14:case 15:if(!ze&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ia(n,t,a),l=l.next}while(l!==s)}Gt(e,t,n);break;case 1:if(!ze&&(Zn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){De(n,t,i)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(ze=(s=ze)||n.memoizedState!==null,Gt(e,t,n),ze=s):Gt(e,t,n);break;default:Gt(e,t,n)}}function wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kh),t.forEach(function(s){var l=sp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,jt=!1;break e;case 3:Fe=i.stateNode.containerInfo,jt=!0;break e;case 4:Fe=i.stateNode.containerInfo,jt=!0;break e}i=i.return}if(Fe===null)throw Error($(160));Qd(o,a,l),Fe=null,jt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){De(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xd(t,e),t=t.sibling}function Xd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Et(e),s&4){try{zr(3,e,e.return),Il(3,e)}catch(v){De(e,e.return,v)}try{zr(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:gt(t,e),Et(e),s&512&&n!==null&&Zn(n,n.return);break;case 5:if(gt(t,e),Et(e),s&512&&n!==null&&Zn(n,n.return),e.flags&32){var l=e.stateNode;try{Qr(l,"")}catch(v){De(e,e.return,v)}}if(s&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&gu(l,o),Ao(i,a);var u=Ao(i,o);for(a=0;a<c.length;a+=2){var m=c[a],d=c[a+1];m==="style"?Nu(l,d):m==="dangerouslySetInnerHTML"?wu(l,d):m==="children"?Qr(l,d):Ma(l,m,d,u)}switch(i){case"input":bo(l,o);break;case"textarea":yu(l,o);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?er(l,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?er(l,!!o.multiple,o.defaultValue,!0):er(l,!!o.multiple,o.multiple?[]:"",!1))}l[ss]=o}catch(v){De(e,e.return,v)}}break;case 6:if(gt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error($(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(v){De(e,e.return,v)}}break;case 3:if(gt(t,e),Et(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:gt(t,e),Et(e);break;case 13:gt(t,e),Et(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ii=be())),s&4&&wc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||m,gt(t,e),ze=u):gt(t,e),Et(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(J=e,m=e.child;m!==null;){for(d=J=m;J!==null;){switch(h=J,y=h.child,h.tag){case 0:case 11:case 14:case 15:zr(4,h,h.return);break;case 1:Zn(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){De(s,n,v)}}break;case 5:Zn(h,h.return);break;case 22:if(h.memoizedState!==null){Nc(d);continue}}y!==null?(y.return=h,J=y):Nc(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=ku("display",a))}catch(v){De(e,e.return,v)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){De(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gt(t,e),Et(e),s&4&&wc(e);break;case 21:break;default:gt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kd(n)){var s=n;break e}n=n.return}throw Error($(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Qr(l,""),s.flags&=-33);var o=jc(e);da(e,o,l);break;case 3:case 4:var a=s.stateNode.containerInfo,i=jc(e);ua(e,i,a);break;default:throw Error($(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e,t,n){J=e,Jd(e)}function Jd(e,t,n){for(var s=(e.mode&1)!==0;J!==null;){var l=J,o=l.child;if(l.tag===22&&s){var a=l.memoizedState!==null||As;if(!a){var i=l.alternate,c=i!==null&&i.memoizedState!==null||ze;i=As;var u=ze;if(As=a,(ze=c)&&!u)for(J=l;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?Sc(l):c!==null?(c.return=a,J=c):Sc(l);for(;o!==null;)J=o,Jd(o),o=o.sibling;J=l,As=i,ze=u}kc(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,J=o):kc(e)}}function kc(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Il(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ze)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&oc(t,o,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&qr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ze||t.flags&512&&ca(t)}catch(h){De(t,t.return,h)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Nc(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Sc(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(c){De(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){De(t,l,c)}}var o=t.return;try{ca(t)}catch(c){De(t,o,c)}break;case 5:var a=t.return;try{ca(t)}catch(c){De(t,a,c)}}}catch(c){De(t,t.return,c)}if(t===e){J=null;break}var i=t.sibling;if(i!==null){i.return=t.return,J=i;break}J=t.return}}var Jh=Math.ceil,vl=Ht.ReactCurrentDispatcher,oi=Ht.ReactCurrentOwner,ht=Ht.ReactCurrentBatchConfig,me=0,Le=null,_e=null,Oe=0,nt=0,qn=xn(0),Ie=0,us=null,Rn=0,Al=0,ai=0,Hr=null,Xe=null,ii=0,hr=1/0,At=null,gl=!1,fa=null,an=null,Ls=!1,qt=null,yl=0,Vr=0,ma=null,Ks=-1,Qs=0;function Ge(){return me&6?be():Ks!==-1?Ks:Ks=be()}function cn(e){return e.mode&1?me&2&&Oe!==0?Oe&-Oe:Ih.transition!==null?(Qs===0&&(Qs=Au()),Qs):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Uu(e.type)),e):1}function Nt(e,t,n,s){if(50<Vr)throw Vr=0,ma=null,Error($(185));xs(e,n,s),(!(me&2)||e!==Le)&&(e===Le&&(!(me&2)&&(Al|=n),Ie===4&&Jt(e,Oe)),et(e,s),n===1&&me===0&&!(t.mode&1)&&(hr=be()+500,_l&&vn()))}function et(e,t){var n=e.callbackNode;Im(e,t);var s=nl(e,e===Le?Oe:0);if(s===0)n!==null&&Pi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Pi(n),t===1)e.tag===0?Ph(Cc.bind(null,e)):ad(Cc.bind(null,e)),Mh(function(){!(me&6)&&vn()}),n=null;else{switch(Lu(s)){case 1:n=Ia;break;case 4:n=Pu;break;case 16:n=tl;break;case 536870912:n=Iu;break;default:n=tl}n=lf(n,Zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zd(e,t){if(Ks=-1,Qs=0,me&6)throw Error($(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var s=nl(e,e===Le?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=jl(e,s);else{t=s;var l=me;me|=2;var o=ef();(Le!==e||Oe!==t)&&(At=null,hr=be()+500,Tn(e,t));do try{ep();break}catch(i){qd(e,i)}while(!0);Ga(),vl.current=o,me=l,_e!==null?t=0:(Le=null,Oe=0,t=Ie)}if(t!==0){if(t===2&&(l=$o(e),l!==0&&(s=l,t=ha(e,l))),t===1)throw n=us,Tn(e,0),Jt(e,s),et(e,be()),n;if(t===6)Jt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Zh(l)&&(t=jl(e,s),t===2&&(o=$o(e),o!==0&&(s=o,t=ha(e,o))),t===1))throw n=us,Tn(e,0),Jt(e,s),et(e,be()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:kn(e,Xe,At);break;case 3:if(Jt(e,s),(s&130023424)===s&&(t=ii+500-be(),10<t)){if(nl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ko(kn.bind(null,e,Xe,At),t);break}kn(e,Xe,At);break;case 4:if(Jt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var a=31-kt(s);o=1<<a,a=t[a],a>l&&(l=a),s&=~o}if(s=l,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jh(s/1960))-s,10<s){e.timeoutHandle=Ko(kn.bind(null,e,Xe,At),s);break}kn(e,Xe,At);break;case 5:kn(e,Xe,At);break;default:throw Error($(329))}}}return et(e,be()),e.callbackNode===n?Zd.bind(null,e):null}function ha(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&pa(t)),e}function pa(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],o=l.getSnapshot;l=l.value;try{if(!St(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~ai,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),s=1<<n;e[n]=-1,t&=~s}}function Cc(e){if(me&6)throw Error($(327));lr();var t=nl(e,0);if(!(t&1))return et(e,be()),null;var n=jl(e,t);if(e.tag!==0&&n===2){var s=$o(e);s!==0&&(t=s,n=ha(e,s))}if(n===1)throw n=us,Tn(e,0),Jt(e,t),et(e,be()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kn(e,Xe,At),et(e,be()),null}function ci(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(hr=be()+500,_l&&vn())}}function Pn(e){qt!==null&&qt.tag===0&&!(me&6)&&lr();var t=me;me|=1;var n=ht.transition,s=xe;try{if(ht.transition=null,xe=1,e)return e()}finally{xe=s,ht.transition=n,me=t,!(me&6)&&vn()}}function ui(){nt=qn.current,we(qn)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dh(n)),_e!==null)for(n=_e.return;n!==null;){var s=n;switch(Ha(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&al();break;case 3:fr(),we(Ze),we(He),qa();break;case 5:Za(s);break;case 4:fr();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Ka(s.type._context);break;case 22:case 23:ui()}n=n.return}if(Le=e,_e=e=un(e.current,null),Oe=nt=t,Ie=0,us=null,ai=Al=Rn=0,Xe=Hr=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,s.next=a}n.pending=s}Sn=null}return e}function qd(e,t){do{var n=_e;try{if(Ga(),Vs.current=xl,pl){for(var s=Te.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}pl=!1}if(_n=0,Ae=Pe=Te=null,Ur=!1,as=0,oi.current=null,n===null||n.return===null){Ie=1,us=t,_e=null;break}e:{var o=e,a=n.return,i=n,c=t;if(t=Oe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=i,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=fc(a);if(y!==null){y.flags&=-257,mc(y,a,i,o,t),y.mode&1&&dc(o,u,t),t=y,c=u;var j=t.updateQueue;if(j===null){var v=new Set;v.add(c),t.updateQueue=v}else j.add(c);break e}else{if(!(t&1)){dc(o,u,t),di();break e}c=Error($(426))}}else if(Se&&i.mode&1){var k=fc(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),mc(k,a,i,o,t),Va(mr(c,i));break e}}o=c=mr(c,i),Ie!==4&&(Ie=2),Hr===null?Hr=[o]:Hr.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Ld(o,c,t);lc(o,x);break e;case 1:i=c;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(an===null||!an.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Bd(o,i,t);lc(o,w);break e}}o=o.return}while(o!==null)}nf(n)}catch(C){t=C,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function ef(){var e=vl.current;return vl.current=xl,e===null?xl:e}function di(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Le===null||!(Rn&268435455)&&!(Al&268435455)||Jt(Le,Oe)}function jl(e,t){var n=me;me|=2;var s=ef();(Le!==e||Oe!==t)&&(At=null,Tn(e,t));do try{qh();break}catch(l){qd(e,l)}while(!0);if(Ga(),me=n,vl.current=s,_e!==null)throw Error($(261));return Le=null,Oe=0,Ie}function qh(){for(;_e!==null;)tf(_e)}function ep(){for(;_e!==null&&!Cm();)tf(_e)}function tf(e){var t=sf(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?nf(e):_e=t,oi.current=null}function nf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Gh(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,_e=null;return}}else if(n=Yh(n,t,nt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ie===0&&(Ie=5)}function kn(e,t,n){var s=xe,l=ht.transition;try{ht.transition=null,xe=1,tp(e,t,n,s)}finally{ht.transition=l,xe=s}return null}function tp(e,t,n,s){do lr();while(qt!==null);if(me&6)throw Error($(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Am(e,o),e===Le&&(_e=Le=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,lf(tl,function(){return lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ht.transition,ht.transition=null;var a=xe;xe=1;var i=me;me|=4,oi.current=null,Qh(e,n),Xd(n,e),wh(Yo),rl=!!Vo,Yo=Vo=null,e.current=n,Xh(n),Tm(),me=i,xe=a,ht.transition=o}else e.current=n;if(Ls&&(Ls=!1,qt=e,yl=l),o=e.pendingLanes,o===0&&(an=null),Mm(n.stateNode),et(e,be()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(gl)throw gl=!1,e=fa,fa=null,e;return yl&1&&e.tag!==0&&lr(),o=e.pendingLanes,o&1?e===ma?Vr++:(Vr=0,ma=e):Vr=0,vn(),null}function lr(){if(qt!==null){var e=Lu(yl),t=ht.transition,n=xe;try{if(ht.transition=null,xe=16>e?16:e,qt===null)var s=!1;else{if(e=qt,qt=null,yl=0,me&6)throw Error($(331));var l=me;for(me|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(J=u;J!==null;){var m=J;switch(m.tag){case 0:case 11:case 15:zr(8,m,o)}var d=m.child;if(d!==null)d.return=m,J=d;else for(;J!==null;){m=J;var h=m.sibling,y=m.return;if(Gd(m),m===u){J=null;break}if(h!==null){h.return=y,J=h;break}J=y}}}var j=o.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,J=x;break e}J=o.return}}var p=e.current;for(J=p;J!==null;){a=J;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,J=g;else e:for(a=p;J!==null;){if(i=J,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Il(9,i)}}catch(C){De(i,i.return,C)}if(i===a){J=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,J=w;break e}J=i.return}}if(me=l,vn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Tl,e)}catch{}s=!0}return s}finally{xe=n,ht.transition=t}}return!1}function Tc(e,t,n){t=mr(n,t),t=Ld(e,t,1),e=on(e,t,1),t=Ge(),e!==null&&(xs(e,1,t),et(e,t))}function De(e,t,n){if(e.tag===3)Tc(e,e,n);else for(;t!==null;){if(t.tag===3){Tc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=mr(n,e),e=Bd(t,e,1),t=on(t,e,1),e=Ge(),t!==null&&(xs(t,1,e),et(t,e));break}}t=t.return}}function np(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(Oe&n)===n&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>be()-ii?Tn(e,0):ai|=n),et(e,t)}function rf(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=Ge();e=Ut(e,t),e!==null&&(xs(e,t,n),et(e,n))}function rp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rf(e,n)}function sp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),rf(e,n)}var sf;sf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Vh(e,t,n);Je=!!(e.flags&131072)}else Je=!1,Se&&t.flags&1048576&&id(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Gs(e,t),e=t.pendingProps;var l=cr(t,He.current);sr(t,n),l=ti(null,t,s,e,l,n);var o=ni();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(s)?(o=!0,il(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Xa(t),l.updater=Pl,t.stateNode=l,l._reactInternals=t,ta(t,s,e,n),t=sa(null,t,s,!0,o,n)):(t.tag=0,Se&&o&&za(t),Ye(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=op(s),e=yt(s,e),l){case 0:t=ra(null,t,s,e,n);break e;case 1:t=xc(null,t,s,e,n);break e;case 11:t=hc(null,t,s,e,n);break e;case 14:t=pc(null,t,s,yt(s.type,e),n);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:yt(s,l),ra(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:yt(s,l),xc(e,t,s,l,n);case 3:e:{if(Wd(t),e===null)throw Error($(387));s=t.pendingProps,o=t.memoizedState,l=o.element,hd(e,t),ml(t,s,null,n);var a=t.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=mr(Error($(423)),t),t=vc(e,t,s,n,l);break e}else if(s!==l){l=mr(Error($(424)),t),t=vc(e,t,s,n,l);break e}else for(st=ln(t.stateNode.containerInfo.firstChild),lt=t,Se=!0,wt=null,n=fd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===l){t=zt(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return pd(t),e===null&&Zo(t),s=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,Go(s,l)?a=null:o!==null&&Go(s,o)&&(t.flags|=32),$d(e,t),Ye(e,t,a,n),t.child;case 6:return e===null&&Zo(t),null;case 13:return Ud(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=dr(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:yt(s,l),hc(e,t,s,l,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,ye(dl,s._currentValue),s._currentValue=a,o!==null)if(St(o.value,a)){if(o.children===l.children&&!Ze.current){t=zt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=Ot(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qo(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error($(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),qo(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ye(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,sr(t,n),l=xt(l),s=s(l),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,l=yt(s,t.pendingProps),l=yt(s.type,l),pc(e,t,s,l,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:yt(s,l),Gs(e,t),t.tag=1,qe(s)?(e=!0,il(t)):e=!1,sr(t,n),Ad(t,s,l),ta(t,s,l,n),sa(null,t,s,!0,e,n);case 19:return zd(e,t,n);case 22:return Od(e,t,n)}throw Error($(156,t.tag))};function lf(e,t){return Ru(e,t)}function lp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new lp(e,t,n,s)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function op(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_a)return 11;if(e===Ra)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xs(e,t,n,s,l,o){var a=2;if(s=e,typeof e=="function")fi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zn:return En(n.children,l,o,t);case ba:a=8,l|=8;break;case Co:return e=mt(12,n,t,l|2),e.elementType=Co,e.lanes=o,e;case To:return e=mt(13,n,t,l),e.elementType=To,e.lanes=o,e;case Eo:return e=mt(19,n,t,l),e.elementType=Eo,e.lanes=o,e;case pu:return Ll(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mu:a=10;break e;case hu:a=9;break e;case _a:a=11;break e;case Ra:a=14;break e;case Kt:a=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=mt(a,n,t,l),t.elementType=e,t.type=s,t.lanes=o,t}function En(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function Ll(e,t,n,s){return e=mt(22,e,s,t),e.elementType=pu,e.lanes=n,e.stateNode={isHidden:!1},e}function po(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ap(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function mi(e,t,n,s,l,o,a,i,c){return e=new ap(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(o),e}function ip(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function of(e){if(!e)return hn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(qe(n))return od(e,n,t)}return t}function af(e,t,n,s,l,o,a,i,c){return e=mi(n,s,!0,e,l,o,a,i,c),e.context=of(null),n=e.current,s=Ge(),l=cn(n),o=Ot(s,l),o.callback=t??null,on(n,o,l),e.current.lanes=l,xs(e,l,s),et(e,s),e}function Bl(e,t,n,s){var l=t.current,o=Ge(),a=cn(l);return n=of(n),t.context===null?t.context=n:t.pendingContext=n,t=Ot(o,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=on(l,t,a),e!==null&&(Nt(e,l,a,o),Hs(e,l,a)),a}function wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hi(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function cp(){return null}var cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function pi(e){this._internalRoot=e}Fl.prototype.render=pi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Bl(e,t,null,null)};Fl.prototype.unmount=pi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Bl(null,e,null,null)}),t[Wt]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ou();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Wu(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dc(){}function up(e,t,n,s,l){if(l){if(typeof s=="function"){var o=s;s=function(){var u=wl(a);o.call(u)}}var a=af(t,s,e,0,null,!1,!1,"",Dc);return e._reactRootContainer=a,e[Wt]=a.current,ns(e.nodeType===8?e.parentNode:e),Pn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var i=s;s=function(){var u=wl(c);i.call(u)}}var c=mi(e,0,!1,null,null,!1,!1,"",Dc);return e._reactRootContainer=c,e[Wt]=c.current,ns(e.nodeType===8?e.parentNode:e),Pn(function(){Bl(t,c,n,s)}),c}function $l(e,t,n,s,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var i=l;l=function(){var c=wl(a);i.call(c)}}Bl(t,a,e,l)}else a=up(n,t,e,l,s);return wl(a)}Bu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(Aa(t,n|1),et(t,be()),!(me&6)&&(hr=be()+500,vn()))}break;case 13:Pn(function(){var s=Ut(e,1);if(s!==null){var l=Ge();Nt(s,e,1,l)}}),hi(e,1)}};La=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Ge();Nt(t,e,134217728,n)}hi(e,134217728)}};Fu=function(e){if(e.tag===13){var t=cn(e),n=Ut(e,t);if(n!==null){var s=Ge();Nt(n,e,t,s)}hi(e,t)}};Ou=function(){return xe};$u=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Bo=function(e,t,n){switch(t){case"input":if(bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=bl(s);if(!l)throw Error($(90));vu(s),bo(s,l)}}}break;case"textarea":yu(e,n);break;case"select":t=n.value,t!=null&&er(e,!!n.multiple,t,!1)}};Tu=ci;Eu=Pn;var dp={usingClientEntryPoint:!1,Events:[gs,Gn,bl,Su,Cu,ci]},br={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fp={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bu(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||cp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Tl=Bs.inject(fp),Rt=Bs}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(t))throw Error($(200));return ip(e,t,null,n)};at.createRoot=function(e,t){if(!xi(e))throw Error($(299));var n=!1,s="",l=cf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=mi(e,1,!1,null,null,n,!1,s,l),e[Wt]=t.current,ns(e.nodeType===8?e.parentNode:e),new pi(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=bu(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Pn(e)};at.hydrate=function(e,t,n){if(!Ol(t))throw Error($(200));return $l(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!xi(e))throw Error($(405));var s=n!=null&&n.hydratedSources||null,l=!1,o="",a=cf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=af(t,null,e,1,n??null,l,!1,o,a),e[Wt]=t.current,ns(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Fl(t)};at.render=function(e,t,n){if(!Ol(t))throw Error($(200));return $l(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Ol(e))throw Error($(40));return e._reactRootContainer?(Pn(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};at.unstable_batchedUpdates=ci;at.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ol(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return $l(e,t,n,!1,s)};at.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),cu.exports=at;var mp=cu.exports,Mc=mp;No.createRoot=Mc.createRoot,No.hydrateRoot=Mc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ds.apply(this,arguments)}var en;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(en||(en={}));const bc="popstate";function hp(e){e===void 0&&(e={});function t(s,l){let{pathname:o,search:a,hash:i}=s.location;return xa("",{pathname:o,search:a,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:kl(l)}return xp(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pp(){return Math.random().toString(36).substr(2,8)}function _c(e,t){return{usr:e.state,key:e.key,idx:t}}function xa(e,t,n,s){return n===void 0&&(n=null),ds({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wr(t):t,{state:n,key:t&&t.key||s||pp()})}function kl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function xp(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:o=!1}=s,a=l.history,i=en.Pop,c=null,u=m();u==null&&(u=0,a.replaceState(ds({},a.state,{idx:u}),""));function m(){return(a.state||{idx:null}).idx}function d(){i=en.Pop;let k=m(),x=k==null?null:k-u;u=k,c&&c({action:i,location:v.location,delta:x})}function h(k,x){i=en.Push;let p=xa(v.location,k,x);u=m()+1;let g=_c(p,u),w=v.createHref(p);try{a.pushState(g,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(w)}o&&c&&c({action:i,location:v.location,delta:1})}function y(k,x){i=en.Replace;let p=xa(v.location,k,x);u=m();let g=_c(p,u),w=v.createHref(p);a.replaceState(g,"",w),o&&c&&c({action:i,location:v.location,delta:0})}function j(k){let x=l.location.origin!=="null"?l.location.origin:l.location.href,p=typeof k=="string"?k:kl(k);return p=p.replace(/ $/,"%20"),Me(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let v={get action(){return i},get location(){return e(l,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(bc,d),c=k,()=>{l.removeEventListener(bc,d),c=null}},createHref(k){return t(l,k)},createURL:j,encodeLocation(k){let x=j(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:y,go(k){return a.go(k)}};return v}var Rc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rc||(Rc={}));function vp(e,t,n){return n===void 0&&(n="/"),gp(e,t,n)}function gp(e,t,n,s){let l=typeof t=="string"?wr(t):t,o=pr(l.pathname||"/",n);if(o==null)return null;let a=df(e);yp(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=bp(o);i=Dp(a[c],u)}return i}function df(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(o,a,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=dn([s,c.relativePath]),m=n.concat(c);o.children&&o.children.length>0&&(Me(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),df(o.children,t,m,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Tp(u,o.index),routesMeta:m})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))l(o,a);else for(let c of ff(o.path))l(o,a,c)}),t}function ff(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let a=ff(s.join("/")),i=[];return i.push(...a.map(c=>c===""?o:[o,c].join("/"))),l&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function yp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ep(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const jp=/^:[\w-]+$/,wp=3,kp=2,Np=1,Sp=10,Cp=-2,Pc=e=>e==="*";function Tp(e,t){let n=e.split("/"),s=n.length;return n.some(Pc)&&(s+=Cp),t&&(s+=kp),n.filter(l=>!Pc(l)).reduce((l,o)=>l+(jp.test(o)?wp:o===""?Np:Sp),s)}function Ep(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Dp(e,t,n){let{routesMeta:s}=e,l={},o="/",a=[];for(let i=0;i<s.length;++i){let c=s[i],u=i===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",d=va({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),h=c.route;if(!d)return null;Object.assign(l,d.params),a.push({params:l,pathname:dn([o,d.pathname]),pathnameBase:Ap(dn([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=dn([o,d.pathnameBase]))}return a}function va(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Mp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],a=o.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:s.reduce((u,m,d)=>{let{paramName:h,isOptional:y}=m;if(h==="*"){let v=i[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const j=i[d];return y&&!j?u[h]=void 0:u[h]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Mp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function bp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const _p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=e=>_p.test(e);function Pp(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?wr(e):e,o;if(n)if(Rp(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),vi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Ic(n.substring(1),"/"):o=Ic(n,t)}else o=t;return{pathname:o,search:Lp(s),hash:Bp(l)}}function Ic(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vo(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ip(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mf(e,t){let n=Ip(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function hf(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=wr(e):(l=ds({},e),Me(!l.pathname||!l.pathname.includes("?"),vo("?","pathname","search",l)),Me(!l.pathname||!l.pathname.includes("#"),vo("#","pathname","hash",l)),Me(!l.search||!l.search.includes("#"),vo("#","search","hash",l)));let o=e===""||l.pathname==="",a=o?"/":l.pathname,i;if(a==null)i=n;else{let d=t.length-1;if(!s&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;l.pathname=h.join("/")}i=d>=0?t[d]:"/"}let c=Pp(l,i),u=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const dn=e=>e.join("/").replace(/\/\/+/g,"/"),Ap=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pf=["post","put","patch","delete"];new Set(pf);const Op=["get",...pf];new Set(Op);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fs.apply(this,arguments)}const Wl=f.createContext(null),xf=f.createContext(null),gn=f.createContext(null),Ul=f.createContext(null),Fn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),vf=f.createContext(null);function $p(e,t){let{relative:n}=t===void 0?{}:t;js()||Me(!1);let{basename:s,navigator:l}=f.useContext(gn),{hash:o,pathname:a,search:i}=zl(e,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:dn([s,a])),l.createHref({pathname:c,search:i,hash:o})}function js(){return f.useContext(Ul)!=null}function yn(){return js()||Me(!1),f.useContext(Ul).location}function gf(e){f.useContext(gn).static||f.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=f.useContext(Fn);return e?qp():Wp()}function Wp(){js()||Me(!1);let e=f.useContext(Wl),{basename:t,future:n,navigator:s}=f.useContext(gn),{matches:l}=f.useContext(Fn),{pathname:o}=yn(),a=JSON.stringify(mf(l,n.v7_relativeSplatPath)),i=f.useRef(!1);return gf(()=>{i.current=!0}),f.useCallback(function(u,m){if(m===void 0&&(m={}),!i.current)return;if(typeof u=="number"){s.go(u);return}let d=hf(u,JSON.parse(a),o,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:dn([t,d.pathname])),(m.replace?s.replace:s.push)(d,m.state,m)},[t,s,a,o,e])}function zl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=f.useContext(gn),{matches:l}=f.useContext(Fn),{pathname:o}=yn(),a=JSON.stringify(mf(l,s.v7_relativeSplatPath));return f.useMemo(()=>hf(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Up(e,t){return zp(e,t)}function zp(e,t,n,s){js()||Me(!1);let{navigator:l}=f.useContext(gn),{matches:o}=f.useContext(Fn),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=yn(),m;if(t){var d;let k=typeof t=="string"?wr(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||Me(!1),m=k}else m=u;let h=m.pathname||"/",y=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=vp(e,{pathname:y}),v=Kp(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},i,k.params),pathname:dn([c,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:dn([c,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,s);return t&&v?f.createElement(Ul.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:en.Pop}},v):v}function Hp(){let e=Zp(),t=Fp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:l},n):null,null)}const Vp=f.createElement(Hp,null);class Yp extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(Fn.Provider,{value:this.props.routeContext},f.createElement(vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gp(e){let{routeContext:t,match:n,children:s}=e,l=f.useContext(Wl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Fn.Provider,{value:t},s)}function Kp(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let m=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);m>=0||Me(!1),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let m=0;m<a.length;m++){let d=a[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:h,errors:y}=n,j=d.route.loader&&h[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||j){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((m,d,h)=>{let y,j=!1,v=null,k=null;n&&(y=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||Vp,c&&(u<0&&h===0?(e0("route-fallback"),j=!0,k=null):u===h&&(j=!0,k=d.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),p=()=>{let g;return y?g=v:j?g=k:d.route.Component?g=f.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,f.createElement(Gp,{match:d,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?f.createElement(Yp,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var yf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yf||{}),jf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jf||{});function Qp(e){let t=f.useContext(Wl);return t||Me(!1),t}function Xp(e){let t=f.useContext(xf);return t||Me(!1),t}function Jp(e){let t=f.useContext(Fn);return t||Me(!1),t}function wf(e){let t=Jp(),n=t.matches[t.matches.length-1];return n.route.id||Me(!1),n.route.id}function Zp(){var e;let t=f.useContext(vf),n=Xp(),s=wf();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function qp(){let{router:e}=Qp(yf.UseNavigateStable),t=wf(jf.UseNavigateStable),n=f.useRef(!1);return gf(()=>{n.current=!0}),f.useCallback(function(l,o){o===void 0&&(o={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,fs({fromRouteId:t},o)))},[e,t])}const Ac={};function e0(e,t,n){Ac[e]||(Ac[e]=!0)}function t0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Dt(e){Me(!1)}function n0(e){let{basename:t="/",children:n=null,location:s,navigationType:l=en.Pop,navigator:o,static:a=!1,future:i}=e;js()&&Me(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:a,future:fs({v7_relativeSplatPath:!1},i)}),[c,i,o,a]);typeof s=="string"&&(s=wr(s));let{pathname:m="/",search:d="",hash:h="",state:y=null,key:j="default"}=s,v=f.useMemo(()=>{let k=pr(m,c);return k==null?null:{location:{pathname:k,search:d,hash:h,state:y,key:j},navigationType:l}},[c,m,d,h,y,j,l]);return v==null?null:f.createElement(gn.Provider,{value:u},f.createElement(Ul.Provider,{children:n,value:v}))}function r0(e){let{children:t,location:n}=e;return Up(ga(t),n)}new Promise(()=>{});function ga(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(s,l)=>{if(!f.isValidElement(s))return;let o=[...t,l];if(s.type===f.Fragment){n.push.apply(n,ga(s.props.children,o));return}s.type!==Dt&&Me(!1),!s.props.index||!s.props.children||Me(!1);let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=ga(s.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nl.apply(this,arguments)}function kf(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,o;for(o=0;o<s.length;o++)l=s[o],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function s0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l0(e,t){return e.button===0&&(!t||t==="_self")&&!s0(e)}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i0="6";try{window.__reactRouterVersion=i0}catch{}const c0=f.createContext({isTransitioning:!1}),u0="startTransition",Lc=nm[u0];function d0(e){let{basename:t,children:n,future:s,window:l}=e,o=f.useRef();o.current==null&&(o.current=hp({window:l,v5Compat:!0}));let a=o.current,[i,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},m=f.useCallback(d=>{u&&Lc?Lc(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>a.listen(m),[a,m]),f.useEffect(()=>t0(s),[s]),f.createElement(n0,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:s})}const f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h0=f.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:o,replace:a,state:i,target:c,to:u,preventScrollReset:m,viewTransition:d}=t,h=kf(t,o0),{basename:y}=f.useContext(gn),j,v=!1;if(typeof u=="string"&&m0.test(u)&&(j=u,f0))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),C=pr(w.pathname,y);w.origin===g.origin&&C!=null?u=C+w.search+w.hash:v=!0}catch{}let k=$p(u,{relative:l}),x=v0(u,{replace:a,state:i,target:c,preventScrollReset:m,relative:l,viewTransition:d});function p(g){s&&s(g),g.defaultPrevented||x(g)}return f.createElement("a",Nl({},h,{href:j||k,onClick:v||o?s:p,ref:n,target:c}))}),p0=f.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:l=!1,className:o="",end:a=!1,style:i,to:c,viewTransition:u,children:m}=t,d=kf(t,a0),h=zl(c,{relative:d.relative}),y=yn(),j=f.useContext(xf),{navigator:v,basename:k}=f.useContext(gn),x=j!=null&&g0(h)&&u===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,g=y.pathname,w=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(g=g.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&k&&(w=pr(w,k)||w);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let _=g===p||!a&&g.startsWith(p)&&g.charAt(C)==="/",E=w!=null&&(w===p||!a&&w.startsWith(p)&&w.charAt(p.length)==="/"),I={isActive:_,isPending:E,isTransitioning:x},L=_?s:void 0,F;typeof o=="function"?F=o(I):F=[o,_?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(I):i;return f.createElement(h0,Nl({},d,{"aria-current":L,className:F,ref:n,style:K,to:c,viewTransition:u}),typeof m=="function"?m(I):m)});var ya;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ya||(ya={}));var Bc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bc||(Bc={}));function x0(e){let t=f.useContext(Wl);return t||Me(!1),t}function v0(e,t){let{target:n,replace:s,state:l,preventScrollReset:o,relative:a,viewTransition:i}=t===void 0?{}:t,c=Vt(),u=yn(),m=zl(e,{relative:a});return f.useCallback(d=>{if(l0(d,n)){d.preventDefault();let h=s!==void 0?s:kl(u)===kl(m);c(e,{replace:h,state:l,preventScrollReset:o,relative:a,viewTransition:i})}},[u,c,m,s,l,n,e,o,a,i])}function g0(e,t){t===void 0&&(t={});let n=f.useContext(c0);n==null&&Me(!1);let{basename:s}=x0(ya.useViewTransitionState),l=zl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return va(l.pathname,a)!=null||va(l.pathname,o)!=null}const dt={RUB:"",USD:"$",EUR:"",KZT:"",BYN:"Br",GEL:"",AMD:"",UZS:"",KGS:"",TJS:".",TRY:"",AED:".",CNY:"",USDT:""},Fc={RUB:" ",USD:" ",EUR:"",KZT:" ",BYN:" ",GEL:" ",AMD:" ",UZS:" ",KGS:" ",TJS:" ",TRY:" ",AED:" ",CNY:" ",USDT:"Tether (USDT)"},y0=["RUB","USD","EUR","KZT","BYN","GEL","AMD","UZS","KGS","TJS","TRY","AED","CNY","USDT"],j0=["#6366F1","#8B5CF6","#EC4899","#EF4444","#F59E0B","#10B981","#14B8A6","#3B82F6","#6B7280","#84CC16","#FCD34D","#06B6D4","#A855F7","#FB7185","#059669","#D97706","#C084FC","#34D399","#FCA5A5","#60A5FA"],w0=["#4285F4","#34A853","#FBBC04","#EA4335","#9C27B0","#009688","#FF9800","#795548","#607D8B","#E91E63","#00BCD4","#4CAF50"],go="#4285F4",k0=[{value:"card",label:""},{value:"cash",label:""},{value:"bank",label:""},{value:"safe",label:""},{value:"crypto",label:""},{value:"sber",label:""},{value:"tinkoff",label:""},{value:"home",label:""},{value:"wallet",label:""},{value:"treasure",label:""},{value:"money-bag",label:" "},{value:"diamond",label:""},{value:"gift",label:""},{value:"briefcase",label:""},{value:"coin",label:""},{value:"bills",label:""},{value:"vault",label:""},{value:"investment",label:""},{value:"savings",label:""},{value:"paypal",label:"PayPal"},{value:"visa",label:"Visa"},{value:"mastercard",label:"Mastercard"},{value:"t-bank",label:"-"},{value:"sberbank",label:""},{value:"gazprombank",label:""},{value:"rosselhozbank",label:""},{value:"vtb",label:""}],N0=["","","","","","","","",""],pt={routines:[],events:[],dayTasks:{},wallets:[{id:"wallet-cash",name:"",icon:"cash",color:"#10B981",currency:"RUB",balance:0},{id:"wallet-card",name:"",icon:"card",color:"#3B82F6",currency:"RUB",balance:0}],transactions:[],categories:N0,tasks:[],habits:[],ideas:[],folders:[{id:"inbox",name:"",color:"#6B7280",icon:"",order:0},{id:"work",name:"",color:"#3B82F6",icon:"",order:1},{id:"home",name:"",color:"#10B981",icon:"",order:2},{id:"ideas",name:"",color:"#F59E0B",icon:"",order:3},{id:"projects",name:"",color:"#8B5CF6",icon:"",order:4}],profile:{name:"",bio:"",goals:[]},documents:[],focusSessions:[],timerState:void 0,settings:{theme:"light"}};function S0(e,t){var a,i;if(!e.some(c=>c.type&&!c.icon))return{wallets:e,transactions:t};const s={id:"wallet-cash-migrated",name:"",icon:"cash",color:"#10B981",currency:"RUB",balance:((a=e.find(c=>c.type==="cash"))==null?void 0:a.balance)||0},l={id:"wallet-card-migrated",name:"",icon:"card",color:"#3B82F6",currency:"RUB",balance:((i=e.find(c=>c.type==="card"))==null?void 0:i.balance)||e.reduce((c,u)=>c+u.balance,0)-s.balance},o=t.map(c=>({...c,walletId:"wallet-card-migrated"}));return{wallets:[s,l],transactions:o}}function C0(e){return{id:e.id||"",title:e.title||"",description:e.description,icon:e.icon||"book",color:e.color||"#2f04fd",records:Array.isArray(e.records)?e.records:[],streak:typeof e.streak=="number"?e.streak:0,bestStreak:typeof e.bestStreak=="number"?e.bestStreak:0,createdAt:e.createdAt||new Date().toISOString()}}function ms(e){const t={...pt,...e};return Array.isArray(t.habits)?t.habits=t.habits.map(C0):t.habits=[],!t.profile||typeof t.profile!="object"?t.profile=pt.profile:t.profile={name:t.profile.name||"",bio:t.profile.bio||"",goals:Array.isArray(t.profile.goals)?t.profile.goals:[],avatar:t.profile.avatar},Array.isArray(t.tasks)||(t.tasks=[]),Array.isArray(t.wallets)||(t.wallets=pt.wallets),Array.isArray(t.transactions)||(t.transactions=[]),Array.isArray(t.documents)||(t.documents=[]),Array.isArray(t.focusSessions)||(t.focusSessions=[]),Array.isArray(t.ideas)||(t.ideas=[]),Array.isArray(t.routines)||(t.routines=[]),Array.isArray(t.events)||(t.events=[]),t}const T0="sdvig-db",E0=1,Dn="appState",Nf="main",ja="data_migrated_to_indexeddb",hs="sdvig-app-state";let $n=null;function gi(){return new Promise((e,t)=>{if($n){e($n);return}const n=indexedDB.open(T0,E0);n.onerror=()=>{console.error("  IndexedDB:",n.error),t(n.error)},n.onsuccess=()=>{$n=n.result,$n.onclose=()=>{$n=null},e($n)},n.onupgradeneeded=s=>{const l=s.target.result;l.objectStoreNames.contains(Dn)||(l.createObjectStore(Dn),console.log("IndexedDB:  object store",Dn))}})}async function Sf(){try{const e=await gi();return new Promise((t,n)=>{const o=e.transaction(Dn,"readonly").objectStore(Dn).get(Nf);o.onerror=()=>{console.error("   IndexedDB:",o.error),n(o.error)},o.onsuccess=()=>{if(o.result){const a=ms(o.result);t(a)}else t(pt)}})}catch(e){return console.error("    IndexedDB:",e),pt}}async function yi(e){try{const t=await gi();return new Promise((n,s)=>{const l=t.transaction(Dn,"readwrite"),a=l.objectStore(Dn).put(e,Nf);a.onerror=()=>{console.error("   IndexedDB:",a.error),s(a.error)},a.onsuccess=()=>{n(!0)},l.onerror=()=>{console.error("  IndexedDB:",l.error),s(l.error)}})}catch(t){return console.error("    IndexedDB:",t),!1}}function D0(){return localStorage.getItem(ja)==="true"}async function M0(){if(D0())return console.log("IndexedDB:    "),!0;console.log("IndexedDB:    localStorage...");try{const e=localStorage.getItem(hs);if(!e)return console.log("IndexedDB:   localStorage ,   "),localStorage.setItem(ja,"true"),!0;const t=JSON.parse(e),n=ms(t);return await yi(n)?(localStorage.setItem(ja,"true"),console.log("IndexedDB:   "),console.log("IndexedDB:   localStorage   "),!0):(console.error("IndexedDB:    "),!1)}catch(e){return console.error("IndexedDB:  :",e),!1}}async function b0(){try{if(await gi(),!await M0()){console.warn("IndexedDB:   ,    localStorage");const n=localStorage.getItem(hs);return n?ms(JSON.parse(n)):pt}return await Sf()}catch(e){console.error("IndexedDB:  :",e);try{const t=localStorage.getItem(hs);if(t)return console.log("IndexedDB:  fallback  localStorage"),ms(JSON.parse(t))}catch{}return pt}}async function _0(){try{const e=await Sf();return{_exportVersion:2,_exportDate:new Date().toISOString(),_appVersion:"2.0",appState:e}}catch(e){throw console.error("  :",e),e}}async function R0(e){try{let t;e._exportVersion===2&&e.appState?(console.log(":    (v2)"),t=e.appState):e[hs]?(console.log(":    (localStorage)"),t=e[hs]):(console.log(":   "),t=e);const n=ms(t);if(!await yi(n))throw new Error("    ");return console.log("   "),n}catch(t){throw console.error("  :",t),t}}function Cf(){try{return typeof indexedDB<"u"&&indexedDB!==null}catch{return!1}}const Tf="sdvig-app-state";async function P0(){return Cf()?b0():(console.warn("IndexedDB ,  localStorage"),I0())}async function Js(e){if(!Cf())return Oc(e);try{return await yi(e)}catch(t){return console.error("   IndexedDB, fallback  localStorage:",t),Oc(e)}}function I0(){try{const e=localStorage.getItem(Tf);if(e){const t=JSON.parse(e);return{...pt,...t}}}catch(e){console.error("   localStorage:",e)}return pt}function Oc(e){try{return localStorage.setItem(Tf,JSON.stringify(e)),!0}catch(t){return console.error("   localStorage:",t),!1}}let Fs;const A0=new Uint8Array(16);function L0(){if(!Fs&&(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(A0)}const Be=[];for(let e=0;e<256;++e)Be.push((e+256).toString(16).slice(1));function B0(e,t=0){return Be[e[t+0]]+Be[e[t+1]]+Be[e[t+2]]+Be[e[t+3]]+"-"+Be[e[t+4]]+Be[e[t+5]]+"-"+Be[e[t+6]]+Be[e[t+7]]+"-"+Be[e[t+8]]+Be[e[t+9]]+"-"+Be[e[t+10]]+Be[e[t+11]]+Be[e[t+12]]+Be[e[t+13]]+Be[e[t+14]]+Be[e[t+15]]}const F0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$c={randomUUID:F0};function Re(e,t,n){if($c.randomUUID&&!e)return $c.randomUUID();e=e||{};const s=e.random||(e.rng||L0)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,B0(s)}const Wc="sdvig_install_prompt_shown";function O0(){const e=window.matchMedia("(display-mode: standalone)").matches,t=navigator.standalone===!0;return e||t}function Lr(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function $0(e,t=60){if(e.includes("-")){const[n,s]=e.split("-").map(c=>c.trim()),[l,o]=n.split(":").map(Number),[a,i]=s.split(":").map(Number);return{startHour:l,startMinute:o,endHour:a,endMinute:i}}else{const[n,s]=e.split(":").map(Number),l=new Date;return l.setHours(n,s,0,0),l.setMinutes(l.getMinutes()+t),{startHour:n,startMinute:s,endHour:l.getHours(),endMinute:l.getMinutes()}}}function W0(e){const t=[],n=new Date;n.setHours(0,0,0,0);const s=Object.keys(e.completed).filter(u=>e.completed[u]);if(s.length===0)return t;const l=e.duration&&e.duration>=10?e.duration:60;let o=9,a=0,i=10,c=0;if(e.time){const u=$0(e.time,l);o=u.startHour,a=u.startMinute,i=u.endHour,c=u.endMinute}for(const u of s){const m=new Date(u+"T00:00:00");if(isNaN(m.getTime())||m>=n)continue;const d=new Date(m);d.setHours(o,a,0,0);const h=new Date(m);h.setHours(i,c,0,0),h<d&&h.setDate(h.getDate()+1),t.push({id:Re(),title:e.title,description:e.description,startTime:d,endTime:h,color:"#9C27B0",icon:e.icon,completed:!0})}return t}function Uc(e){if(!Array.isArray(e)||e.length===0)return 0;const t=[...e].sort().reverse(),n=new Date;n.setHours(0,0,0,0);const s=Lr(n);if(t.includes(s)){let c=0;const u=new Date(n);for(let m=0;m<365;m++){const d=Lr(u);if(t.includes(d))c++,u.setDate(u.getDate()-1);else break}return c>0?c:1}const l=new Date(n);l.setDate(l.getDate()-1);const o=Lr(l);if(!t.includes(o))return 0;let a=0;const i=new Date(l);for(let c=0;c<365;c++){const u=Lr(i);if(t.includes(u))a++,i.setDate(i.getDate()-1);else break}return a}function U0(e,t){switch(t.type){case"ADD_ROUTINE":return{...e,routines:[...e.routines,t.payload]};case"UPDATE_ROUTINE":return{...e,routines:e.routines.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_ROUTINE":{const n=e.routines.find(s=>s.id===t.payload);if(n){const s=W0(n);return{...e,routines:e.routines.filter(l=>l.id!==t.payload),events:[...e.events,...s]}}return{...e,routines:e.routines.filter(s=>s.id!==t.payload)}}case"TOGGLE_ROUTINE":return{...e,routines:e.routines.map(n=>{if(n.id===t.payload.id){const s={...n.completed};return s[t.payload.date]=!s[t.payload.date],{...n,completed:s}}return n})};case"ADD_EVENT":return{...e,events:[...e.events,t.payload]};case"UPDATE_EVENT":return{...e,events:e.events.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_EVENT":return{...e,events:e.events.filter(n=>n.id!==t.payload)};case"TOGGLE_EVENT":return{...e,events:e.events.map(n=>n.id===t.payload?{...n,completed:!n.completed}:n)};case"MOVE_EVENT_TO_TOMORROW":{const n=e.events.find(s=>s.id===t.payload);if(!n)return e;if(n.startTime&&n.endTime){const s=typeof n.startTime=="string"?new Date(n.startTime):n.startTime,o=(typeof n.endTime=="string"?new Date(n.endTime):n.endTime).getTime()-s.getTime(),a=new Date(s);a.setDate(a.getDate()+1);const i=new Date(a.getTime()+o);return{...e,events:e.events.map(c=>c.id===t.payload?{...c,startTime:a,endTime:i}:c)}}if(n.date){const s=new Date(n.date+"T00:00:00");s.setDate(s.getDate()+1);const l=Lr(s);return{...e,events:e.events.map(o=>o.id===t.payload?{...o,date:l}:o)}}return e}case"SET_DAY_TASKS":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:t.payload.tasks}};case"TOGGLE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).map(n=>n.id===t.payload.taskId?{...n,completed:!n.completed}:n)}};case"UPDATE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).map(n=>n.id===t.payload.task.id?t.payload.task:n)}};case"DELETE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).filter(n=>n.id!==t.payload.taskId)}};case"ADD_WALLET":return{...e,wallets:[...e.wallets,t.payload]};case"UPDATE_WALLET":return{...e,wallets:e.wallets.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_WALLET":return{...e,wallets:e.wallets.filter(n=>n.id!==t.payload),transactions:e.transactions.filter(n=>n.walletId!==t.payload)};case"ADD_TRANSACTION":{const n=t.payload;if(n.type==="transfer"){const o=e.wallets.find(c=>c.id===n.walletId),a=e.wallets.find(c=>c.id===n.toWalletId);if(!o||!a)return e;const i=n.toAmount||n.amount;return{...e,transactions:[...e.transactions,n],wallets:e.wallets.map(c=>c.id===n.walletId?{...c,balance:c.balance-n.amount}:c.id===n.toWalletId?{...c,balance:c.balance+i}:c)}}if(!e.wallets.find(o=>o.id===n.walletId))return e;const l=n.type==="income"?n.amount:-n.amount;return{...e,transactions:[...e.transactions,n],wallets:e.wallets.map(o=>o.id===n.walletId?{...o,balance:o.balance+l}:o)}}case"DELETE_TRANSACTION":{const n=e.transactions.find(l=>l.id===t.payload);if(!n)return e;if(n.type==="transfer"){const l=n.toAmount||n.amount;return{...e,transactions:e.transactions.filter(o=>o.id!==t.payload),wallets:e.wallets.map(o=>o.id===n.walletId?{...o,balance:o.balance+n.amount}:o.id===n.toWalletId?{...o,balance:o.balance-l}:o)}}const s=n.type==="income"?-n.amount:n.amount;return{...e,transactions:e.transactions.filter(l=>l.id!==t.payload),wallets:e.wallets.map(l=>l.id===n.walletId?{...l,balance:l.balance+s}:l)}}case"ADD_CATEGORY":return e.categories.includes(t.payload)?e:{...e,categories:[...e.categories,t.payload]};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(n=>n.id!==t.payload&&n.parentId!==t.payload)};case"TOGGLE_TASK":{const n=new Date().toISOString();let s=e.tasks.map(o=>{if(o.id===t.payload){const a=!o.completed;return{...o,completed:a,completedAt:a?n:void 0}}return o});const l=s.find(o=>o.id===t.payload);return l!=null&&l.parentId&&s.filter(i=>i.parentId===l.parentId).every(i=>i.completed)&&(s=s.map(i=>i.id===l.parentId?{...i,completed:!0,completedAt:n}:i)),{...e,tasks:s}}case"ADD_HABIT":return{...e,habits:[...e.habits,t.payload]};case"UPDATE_HABIT":return{...e,habits:e.habits.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_HABIT":return{...e,habits:e.habits.filter(n=>n.id!==t.payload)};case"TOGGLE_HABIT":{const{id:n,date:s}=t.payload;return{...e,habits:(e.habits||[]).map(l=>{if(l.id!==n)return l;const o=Array.isArray(l.records)?l.records:[],a=typeof l.bestStreak=="number"?l.bestStreak:0,c=o.includes(s)?o.filter(d=>d!==s):[...o,s].sort(),u=Uc(c),m=Math.max(a,u);return{...l,records:c,streak:u,bestStreak:m}})}}case"RECALCULATE_STREAKS":return{...e,habits:(e.habits||[]).map(n=>{const s=Array.isArray(n.records)?n.records:[],l=Uc(s),o=typeof n.bestStreak=="number"?n.bestStreak:0;return{...n,streak:l,bestStreak:Math.max(o,l)}})};case"ADD_IDEA":return{...e,ideas:[...e.ideas,t.payload]};case"UPDATE_IDEA":return{...e,ideas:e.ideas.map(n=>n.id===t.payload.id?{...n,title:t.payload.title,text:t.payload.text||n.text,tags:t.payload.tags||[],folderId:t.payload.folderId!==void 0?t.payload.folderId:n.folderId||null,isPinned:t.payload.isPinned!==void 0?t.payload.isPinned:n.isPinned||!1,status:t.payload.status||n.status||"inbox",imageBase64:t.payload.imageBase64,updatedAt:new Date().toISOString()}:n)};case"DELETE_IDEA":return{...e,ideas:e.ideas.filter(n=>n.id!==t.payload)};case"TOGGLE_IDEA_PIN":return{...e,ideas:e.ideas.map(n=>n.id===t.payload?{...n,isPinned:!n.isPinned}:n)};case"MOVE_IDEA_TO_FOLDER":return{...e,ideas:e.ideas.map(n=>n.id===t.payload.id?{...n,folderId:t.payload.folderId}:n)};case"ADD_FOLDER":return{...e,folders:[...e.folders,t.payload]};case"UPDATE_FOLDER":return{...e,folders:e.folders.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_FOLDER":return{...e,folders:e.folders.filter(n=>n.id!==t.payload),ideas:e.ideas.map(n=>n.folderId===t.payload?{...n,folderId:null}:n)};case"UPDATE_PROFILE":return{...e,profile:t.payload};case"ADD_DOCUMENT":return{...e,documents:[...e.documents,t.payload]};case"DELETE_DOCUMENT":return{...e,documents:e.documents.filter(n=>n.id!==t.payload)};case"ADD_FOCUS_SESSION":return{...e,focusSessions:[...e.focusSessions,t.payload]};case"UPDATE_TIMER_STATE":return{...e,timerState:t.payload};case"SET_THEME":return{...e,settings:{...e.settings,theme:t.payload}};case"SET_START_PAGE_MODE":return{...e,settings:{...e.settings,startPageMode:t.payload}};case"SET_CUSTOM_START_PAGE":return{...e,settings:{...e.settings,customStartPage:t.payload}};case"SET_LAST_VISITED_PAGE":return{...e,settings:{...e.settings,lastVisitedPage:t.payload}};case"UPDATE_SETTINGS":return{...e,settings:{...e.settings,...t.payload}};case"LOAD_STATE":return t.payload;default:return e}}const Ef=f.createContext(void 0);function z0({onClose:e}){return r.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)",animation:"fadeIn 0.3s ease"},children:[r.jsxs("div",{style:{background:"var(--bg, #fff)",borderRadius:"16px",maxWidth:"400px",width:"100%",overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s ease"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #0F766E 0%, #14B8A6 100%)",padding:"24px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{color:"white",fontSize:"22px",fontWeight:700,margin:0},children:" "}),r.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",margin:"8px 0 0 0"},children:"    "})]}),r.jsxs("div",{style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-soft, #D1FAE5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx("span",{style:{fontSize:"16px"},children:""})}),r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"15px",fontWeight:600,color:"var(--text, #1F2937)",margin:"0 0 4px 0"},children:" "}),r.jsx("p",{style:{fontSize:"13px",color:"var(--muted, #6B7280)",margin:0,lineHeight:1.5},children:"         ."})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-soft, #D1FAE5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx("span",{style:{fontSize:"16px"},children:""})}),r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"15px",fontWeight:600,color:"var(--text, #1F2937)",margin:"0 0 4px 0"},children:" "}),r.jsx("p",{style:{fontSize:"13px",color:"var(--muted, #6B7280)",margin:0,lineHeight:1.5},children:"   .     ."})]})]}),r.jsxs("a",{href:"https://samur000.github.io/SDVIG-INFO/#install",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"14px",background:"linear-gradient(135deg, #0F766E 0%, #14B8A6 100%)",borderRadius:"10px",color:"white",fontSize:"15px",fontWeight:600,textDecoration:"none",marginBottom:"12px",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="scale(1.02)",t.currentTarget.style.boxShadow="0 4px 12px rgba(15, 118, 110, 0.4)"},onMouseLeave:t=>{t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="none"},children:[r.jsx("span",{children:" ?"}),r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),r.jsx("polyline",{points:"15 3 21 3 21 9"}),r.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),r.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",background:"var(--bg-secondary, #F3F4F6)",border:"none",borderRadius:"10px",color:"var(--muted, #6B7280)",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.background="var(--border, #E5E7EB)"},onMouseLeave:t=>{t.currentTarget.style.background="var(--bg-secondary, #F3F4F6)"},children:""})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
      `})]})}function H0({children:e}){var h;const[t,n]=f.useReducer(U0,pt),[s,l]=f.useState(!1),[o,a]=f.useState(null),[i,c]=f.useState(!1),u=f.useRef(!0),m=f.useRef(null);f.useEffect(()=>{async function y(){try{console.log("AppContext:  ...");const j=await P0();let v={...j,settings:j.settings||pt.settings};const k=S0(v.wallets,v.transactions);v={...v,wallets:k.wallets,transactions:k.transactions},v.ideas&&v.ideas.length>0&&(v.ideas=v.ideas.map(p=>"tags"in p&&"folderId"in p&&"isPinned"in p?p:{...p,title:void 0,text:p.text||"",tags:[],folderId:null,isPinned:!1,status:p.status==="processed"?"archived":"inbox",imageBase64:void 0})),(!v.folders||v.folders.length===0)&&(v.folders=[{id:"inbox",name:"",color:"#6B7280",icon:"",order:0},{id:"work",name:"",color:"#3B82F6",icon:"",order:1},{id:"home",name:"",color:"#10B981",icon:"",order:2},{id:"ideas",name:"",color:"#F59E0B",icon:"",order:3},{id:"projects",name:"",color:"#8B5CF6",icon:"",order:4}]),n({type:"LOAD_STATE",payload:v}),n({type:"RECALCULATE_STREAKS"}),l(!0),!localStorage.getItem(Wc)&&!O0()&&c(!0),console.log("AppContext:   ")}catch(j){console.error("AppContext:   :",j),a("  .   ."),l(!0)}}y()},[]),f.useEffect(()=>{if(u.current||!s){u.current=!1;return}return m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{try{await Js(t)}catch(y){console.error("AppContext:  :",y)}},300),()=>{m.current&&clearTimeout(m.current)}},[t,s]),f.useEffect(()=>{var j;const y=((j=t.settings)==null?void 0:j.theme)||"light";document.documentElement.setAttribute("data-theme",y)},[(h=t.settings)==null?void 0:h.theme]);const d=()=>{localStorage.setItem(Wc,"true"),c(!1)};return s?o?r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui",padding:"20px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),r.jsx("p",{style:{color:"#DC2626",marginBottom:"16px"},children:o}),r.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#0F766E",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"inherit"},children:" "})]}):r.jsxs(Ef.Provider,{value:{state:t,dispatch:n},children:[e,i&&r.jsx(z0,{onClose:d})]}):r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui",gap:"12px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E7EB",borderTopColor:"#0F766E",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r.jsx("span",{style:{color:"#6B7280"},children:"..."}),r.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]})}function Ct(){const e=f.useContext(Ef);if(e===void 0)throw new Error("useApp must be used within AppProvider");return e}function xr({checked:e,onChange:t,size:n="md",color:s}){const l=s?{"--checkbox-color":s,borderColor:s,...e?{background:s}:{}}:void 0;return r.jsx("button",{className:`checkbox ${e?"checked":""} checkbox-${n}`,onClick:t,type:"button","aria-checked":e,style:l,children:e&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})})}function vr({icon:e,title:t,text:n,action:s}){return r.jsxs("div",{className:"empty-state",children:[e&&r.jsx("div",{className:"empty-state-icon",children:e}),r.jsx("p",{className:"empty-state-title",children:t}),n&&r.jsx("p",{className:"empty-state-text",children:n}),s]})}const Df=f.createContext(void 0);function V0({children:e}){const[t,n]=f.useState([]),s=f.useCallback(l=>{const o=Date.now().toString();n(a=>[...a,{id:o,message:l}]),setTimeout(()=>{n(a=>a.filter(i=>i.id!==o))},2500)},[]);return r.jsxs(Df.Provider,{value:{showToast:s},children:[e,r.jsx("div",{className:"toast-container",children:t.map(l=>r.jsx("div",{className:"toast animate-toast",children:l.message},l.id))})]})}function Mf(){const e=f.useContext(Df);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const Y0=[{path:"/",label:"",icon:"day"},{path:"/finance",label:"",icon:"finance"},{path:"/tasks",label:"",icon:"tasks"},{path:"/inbox",label:"",icon:"inbox"},{path:"/profile",label:"",icon:"profile"}];function G0({type:e}){switch(e){case"day":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]});case"finance":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),r.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]});case"tasks":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]});case"inbox":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 002 2h16a2 2 0 002-2v-6l-3.45-6.89A2 2 0 0016.76 4H7.24a2 2 0 00-1.79 1.11z"})]});case"profile":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]});default:return null}}function K0(){return r.jsx("nav",{className:"nav",children:Y0.map(e=>r.jsxs(p0,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,end:e.path==="/",children:[r.jsx("span",{className:"nav-icon",children:r.jsx(G0,{type:e.icon})}),r.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function Yt({children:e,title:t,subtitle:n,showHeader:s=!0,headerRight:l}){return r.jsxs("div",{className:"layout",children:[s&&r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-content",children:[t?r.jsxs("div",{className:"header-title-section",children:[r.jsx("h1",{className:"header-title",children:t}),n&&r.jsx("p",{className:"header-subtitle",children:n})]}):r.jsx("span",{className:"header-logo",children:""}),l&&r.jsx("div",{className:"header-right",children:l})]})}),r.jsx("main",{className:"main",children:e}),r.jsx(K0,{})]})}function Ne({isOpen:e,onClose:t,title:n,children:s,size:l="md",hasChanges:o=!1,onSave:a,onRequestClose:i,confirmMessage:c}){const[u,m]=f.useState(!1),d=i||t;f.useEffect(()=>(e?document.body.style.overflow="hidden":(document.body.style.overflow="",m(!1)),()=>{document.body.style.overflow=""}),[e]),f.useEffect(()=>{const k=x=>{x.key==="Escape"&&h()};return e&&window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,d]);const h=()=>{o?m(!0):d()},y=()=>{m(!1),t()},j=()=>{a&&a(),m(!1)},v=()=>{m(!1)};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"modal-overlay",onClick:h,children:r.jsxs("div",{className:`modal-content modal-${l}`,onClick:k=>k.stopPropagation(),children:[n&&r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:n}),r.jsxs("div",{className:"modal-header-actions",children:[o&&a&&r.jsx("button",{className:"modal-save-btn",onClick:j,"aria-label":"",children:""}),r.jsx("button",{className:"modal-close",onClick:h,"aria-label":"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),r.jsx("div",{className:"modal-body",children:s})]})}),u&&r.jsx("div",{className:"modal-overlay",onClick:v,children:r.jsxs("div",{className:"modal-content modal-sm",onClick:k=>k.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:" ?"}),r.jsx("button",{className:"modal-close",onClick:v,"aria-label":"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("p",{style:{margin:"0 0 8px 0",color:"var(--muted)"},children:["    ",c?` ${c}`:"","."]}),r.jsxs("div",{className:"form-actions",style:{justifyContent:"flex-end",gap:"8px",marginTop:"20px"},children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:y,children:" "}),r.jsx("button",{type:"button",className:"btn btn-primary filled",onClick:j,children:""})]})]})]})})]}):null}function Q0(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}function fn(e=50){const t=Array.isArray(e)?e:[e];if("vibrate"in navigator)try{if(Q0())if(t.length>=3){const[n,s,l]=t;navigator.vibrate(n),setTimeout(()=>{navigator.vibrate(l)},(n||0)+(s||30))}else t.length===1?navigator.vibrate(t[0]):navigator.vibrate(t);else navigator.vibrate(t)}catch(n){console.warn("Vibration failed:",n);try{const s=t.length>0?t[0]:50;navigator.vibrate(s)}catch(s){console.warn("Simple vibration also failed:",s)}}}const zc=["!  ! "," !  ! ","!    ! "," ! ! ","!   ! ","!   ! "];function Yr(){return zc[Math.floor(Math.random()*zc.length)]}const X0=["","","","","","",""],J0=["","","","","","",""],bf=["","","","","","","","","","","",""];function fe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function ji(e){return new Date(e+"T00:00:00")}function _t(){return fe(new Date)}function tn(e){return X0[e.getDay()]}function _f(e){return J0[e.getDay()]}function wa(e){const t=e.getDate(),n=bf[e.getMonth()],s=e.getFullYear();return`${t} ${n} ${s} .`}function Gr(e=new Date){const t=[],n=new Date(e),s=n.getDay(),l=s===0?-6:1-s;n.setDate(n.getDate()+l);for(let o=0;o<7;o++)t.push(new Date(n)),n.setDate(n.getDate()+1);return t}function Sl(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function In(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function rt(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Z0(e){const t=new Date(e),n=t.getDay(),s=n===0?-6:1-n;return t.setDate(t.getDate()+s),t.setHours(0,0,0,0),t}function q0(e){const t=ji(e),s=Z0(new Date),l=rt(s,7);return t>=s&&t<l}function Hc(e){const t=ji(e),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}function ex(e){return e.reduce((t,n)=>{const s=n.date;return t[s]||(t[s]=[]),t[s].push(n),t},{})}function tx(e){const t=ji(e),n=new Date;if(Sl(t))return"";const s=rt(n,-1);if(In(t,s))return"";const l=rt(n,1);return In(t,l)?"":`${t.getDate()} ${bf[t.getMonth()]}`}function nx(e,t){const n=[],s=new Date(e,t,1),l=new Date(e,t+1,0);let o=s.getDay();o=o===0?6:o-1;const a=new Date(e,t,1-o);let i=l.getDay();i=i===0?6:i-1;const c=new Date(l);c.setDate(l.getDate()+(6-i));const u=new Date(a);for(let m=0;m<42&&!(u>c);m++)n.push(new Date(u)),u.setDate(u.getDate()+1);return n}const rx=["","","","","","","","","","","",""];function _r(e){return rx[e]}function sx(e,t,n){return e.getMonth()===t&&e.getFullYear()===n}function kr(e,t,n){const[s,l]=f.useState(!1),o=f.useRef(e),i=n||((m,d)=>JSON.stringify(m)===JSON.stringify(d));f.useEffect(()=>{o.current=e},[e]),f.useEffect(()=>{const m=t(),d=!i(m,o.current);l(d)},[t,i]);const c=f.useCallback(()=>{o.current=t(),l(!1)},[t]),u=f.useCallback(()=>t(),[t]);return{hasChanges:s,resetChanges:c,getChanges:u}}const yo=["","","","","","",""],lx=f.forwardRef(({routine:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.title)||""),[i,c]=f.useState((e==null?void 0:e.description)||""),[u,m]=f.useState((e==null?void 0:e.time)||""),[d,h]=f.useState((e==null?void 0:e.duration)||30),[y,j]=f.useState((e==null?void 0:e.days)||yo),v=f.useMemo(()=>e?{title:e.title,description:e.description||"",time:e.time||"",duration:e.duration||30,days:e.days}:{title:"",description:"",time:"",duration:30,days:yo},[e]),{hasChanges:k}=kr(v,()=>({title:o,description:i,time:u,duration:d,days:[...y].sort()}),(w,C)=>w.title===C.title&&w.description===C.description&&w.time===C.time&&w.duration===C.duration&&JSON.stringify([...w.days].sort())===JSON.stringify([...C.days].sort()));f.useEffect(()=>{s&&s(k)},[k,s]);const x=w=>{y.includes(w)?j(y.filter(C=>C!==w)):j([...y,w])},p=()=>{!o.trim()||y.length===0||d<10||(e||fn([10,30,10]),t({id:(e==null?void 0:e.id)||Re(),title:o.trim(),description:i.trim()||void 0,time:u||void 0,duration:d>=10?d:30,days:y,completed:(e==null?void 0:e.completed)||{},createdAt:(e==null?void 0:e.createdAt)||fe(new Date)}))};f.useImperativeHandle(l,()=>({hasChanges:k,save:p}),[k,o,i,u,d,y]);const g=w=>{w.preventDefault(),p()};return r.jsxs("form",{className:"form",onSubmit:g,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:w=>a(w.target.value),placeholder:":  ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("textarea",{value:i,onChange:w=>c(w.target.value),placeholder:"  ...",rows:3})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"time",value:u,onChange:w=>m(w.target.value)})]}),r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"number",min:"10",step:"5",value:d,onChange:w=>{const C=parseInt(w.target.value)||10;h(Math.max(10,C))},placeholder:"30"})]})]}),r.jsx("small",{style:{color:"var(--muted)",fontSize:"12px",marginTop:"4px",display:"block"},children:" 10 "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("div",{className:"days-selector",children:yo.map(w=>r.jsx("button",{type:"button",className:`day-btn ${y.includes(w)?"active":""}`,onClick:()=>x(w),children:w},w))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})}),Rf=f.forwardRef(({event:e,defaultDate:t,onSave:n,onCancel:s,onChangesChange:l},o)=>{const a=()=>{const T=new Date,Q=T.getMinutes()<30?30:60;return T.setMinutes(Q,0,0),Q===60&&T.setHours(T.getHours()+1,0,0),T},i=T=>{const R=new Date(T);return R.setHours(R.getHours()+1),R},u=(()=>{if(e){const T=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,R=typeof e.endTime=="string"?new Date(e.endTime):e.endTime;return{date:fe(T),startTime:T,endTime:R}}else{const T=new Date(t+"T09:00:00");if(isNaN(T.getTime())){const R=a(),Q=i(R);return{date:t,startTime:R,endTime:Q}}else{const R=a();R.setFullYear(T.getFullYear(),T.getMonth(),T.getDate());const Q=i(R);return{date:t,startTime:R,endTime:Q}}}})(),[m,d]=f.useState((e==null?void 0:e.title)||""),[h,y]=f.useState((e==null?void 0:e.description)||""),[j,v]=f.useState(u.date),[k,x]=f.useState(u.startTime),[p,g]=f.useState(u.endTime),[w,C]=f.useState((e==null?void 0:e.color)||go),[_,E]=f.useState(""),I=f.useMemo(()=>e?{title:e.title,description:e.description||"",date:fe(typeof e.startTime=="string"?new Date(e.startTime):e.startTime),startTime:typeof e.startTime=="string"?new Date(e.startTime):e.startTime,endTime:typeof e.endTime=="string"?new Date(e.endTime):e.endTime,color:e.color||go}:{title:"",description:"",date:t,startTime:u.startTime,endTime:u.endTime,color:go},[e,t,u]),{hasChanges:L}=kr(I,()=>({title:m,description:h,date:j,startTime:k,endTime:p,color:w}),(T,R)=>T.title===R.title&&T.description===R.description&&T.date===R.date&&T.startTime.getTime()===R.startTime.getTime()&&T.endTime.getTime()===R.endTime.getTime()&&T.color===R.color);f.useEffect(()=>{l&&l(L)},[L,l]),f.useImperativeHandle(o,()=>({hasChanges:L,save:V}),[L,m,h,j,k,p,w]),f.useEffect(()=>{if(j){const T=new Date(j+"T00:00:00");if(!isNaN(T.getTime())){const R=new Date(k);R.setFullYear(T.getFullYear(),T.getMonth(),T.getDate());const Q=new Date(p);Q.setFullYear(T.getFullYear(),T.getMonth(),T.getDate()),x(R),g(Q)}}},[j]),f.useEffect(()=>{k>=p?E("    "):(p.getTime()-k.getTime())/6e4<30?E("    30 "):E("")},[k,p]);const F=T=>{const R=T.getHours().toString().padStart(2,"0"),Q=T.getMinutes().toString().padStart(2,"0");return`${R}:${Q}`},K=T=>{const[R,Q]=T.split(":").map(Number),D=new Date(k);D.setHours(R,Q,0,0),x(D);const z=(p.getTime()-D.getTime())/(1e3*60);if(D>=p||z<30){const G=new Date(D);G.setMinutes(G.getMinutes()+30),g(G)}},Y=T=>{const[R,Q]=T.split(":").map(Number),D=new Date(p);if(D.setHours(R,Q,0,0),(D.getTime()-k.getTime())/(1e3*60)<30){const G=new Date(k);G.setMinutes(G.getMinutes()+30),g(G),E("    30 "),setTimeout(()=>E(""),2e3)}else g(D),E("")},V=()=>{!m.trim()||!j||k>=p||(e||fn([10,30,10]),n({id:(e==null?void 0:e.id)||Re(),title:m.trim(),description:h.trim()||void 0,startTime:k,endTime:p,color:w,completed:(e==null?void 0:e.completed)||!1}))},oe=T=>{T.preventDefault(),V()};return r.jsxs("form",{className:"form",onSubmit:oe,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:m,onChange:T=>d(T.target.value),placeholder:":   ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("textarea",{value:h,onChange:T=>y(T.target.value),placeholder:"  ...",rows:3})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"date",value:j,onChange:T=>v(T.target.value),required:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",style:{flex:1},children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"time",value:F(k),onChange:T=>K(T.target.value),required:!0})]}),r.jsxs("div",{className:"form-group",style:{flex:1},children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"time",value:F(p),onChange:T=>Y(T.target.value),required:!0})]})]}),_&&r.jsx("div",{className:"form-error",style:{color:"var(--danger)",fontSize:"13px",marginTop:"-8px",marginBottom:"8px"},children:_}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"color-picker",style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:w0.map(T=>r.jsx("button",{type:"button",className:"color-option",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:T,border:w===T?"3px solid var(--text)":"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>C(T),title:T},T))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:s,children:""})})]})});function Pf(e,t){const n=fe(t);return e.filter(s=>{if(s.startTime){const l=typeof s.startTime=="string"?new Date(s.startTime):s.startTime;return In(l,t)}return s.date?s.date===n:!1}).sort((s,l)=>{if(s.startTime&&l.startTime){const o=typeof s.startTime=="string"?new Date(s.startTime):s.startTime,a=typeof l.startTime=="string"?new Date(l.startTime):l.startTime;return o.getTime()-a.getTime()}return 0})}function ox(e,t){const n=new Date(t[0]);n.setHours(0,0,0,0);const s=new Date(t[t.length-1]);return s.setHours(23,59,59,999),e.filter(l=>{if(l.startTime){const o=typeof l.startTime=="string"?new Date(l.startTime):l.startTime;return isNaN(o.getTime())?!1:o>=n&&o<=s}if(l.date){const o=new Date(l.date+"T00:00:00");return isNaN(o.getTime())?!1:o>=n&&o<=s}return!1})}function or(e){if(!e)return 0;const t=typeof e=="string"?new Date(e):e,n=t.getHours(),s=t.getMinutes();return n*60+s}function ar(e,t){if(!e||!t)return 60;const n=typeof e=="string"?new Date(e):e,s=typeof t=="string"?new Date(t):t;if(isNaN(n.getTime())||isNaN(s.getTime()))return 60;const l=(s.getTime()-n.getTime())/(1e3*60);return Math.max(30,l)}function ax(e,t){if(!e.startTime||!e.endTime||!t.startTime||!t.endTime)return!1;const n=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,s=typeof e.endTime=="string"?new Date(e.endTime):e.endTime,l=typeof t.startTime=="string"?new Date(t.startTime):t.startTime,o=typeof t.endTime=="string"?new Date(t.endTime):t.endTime;return isNaN(n.getTime())||isNaN(s.getTime())||isNaN(l.getTime())||isNaN(o.getTime())?!1:n<o&&l<s}function If(e){if(e.length===0)return[];const t=new Map,n=new Map;for(const i of e)t.set(i.id,i.id),n.set(i.id,0);const s=i=>(t.get(i)!==i&&t.set(i,s(t.get(i))),t.get(i)),l=(i,c)=>{const u=s(i),m=s(c);if(u===m)return;const d=n.get(u)||0,h=n.get(m)||0;d<h?t.set(u,m):d>h?t.set(m,u):(t.set(m,u),n.set(u,d+1))};for(let i=0;i<e.length;i++)for(let c=i+1;c<e.length;c++)ax(e[i],e[c])&&l(e[i].id,e[c].id);const o=new Map;for(const i of e){const c=s(i.id);o.has(c)||o.set(c,[]),o.get(c).push(i)}const a=[];for(const i of o.values())i.sort((c,u)=>{const m=typeof c.startTime=="string"?new Date(c.startTime):c.startTime,d=typeof u.startTime=="string"?new Date(u.startTime):u.startTime;return!m||!d?0:m.getTime()-d.getTime()}),a.push(i);return a.sort((i,c)=>{const u=typeof i[0].startTime=="string"?new Date(i[0].startTime):i[0].startTime,m=typeof c[0].startTime=="string"?new Date(c[0].startTime):c[0].startTime;return!u||!m?0:u.getTime()-m.getTime()}),a}function An(e){if(!e)return"00:00";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"00:00";const n=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0");return`${n}:${s}`}function Af(){const e=new Date,t=e.getHours(),n=e.getMinutes();return t*60+n}function Lf({event:e,onClose:t,onEdit:n,onDelete:s,onToggle:l}){let o,a,i="",c="",u="",m="";if(e.startTime&&e.endTime){if(o=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,a=typeof e.endTime=="string"?new Date(e.endTime):e.endTime,!isNaN(o.getTime())&&!isNaN(a.getTime())){i=An(o),c=An(a);const h=a.getTime()-o.getTime(),y=Math.floor(h/(1e3*60*60)),j=Math.floor(h%(1e3*60*60)/(1e3*60));y>0?(u=`${y} `,j>0&&(u+=` ${j} `)):u=`${j} `,m=wa(o)}}else if(e.date&&e.time){const h=new Date(e.date+"T"+e.time);isNaN(h.getTime())||(o=h,m=wa(o),i=e.time,c="",u="")}const d=e.color||"#4285F4";return r.jsx(Ne,{isOpen:!0,onClose:t,title:"",children:r.jsxs("div",{className:"event-details",children:[r.jsx("div",{className:"event-details-color-bar",style:{backgroundColor:d}}),r.jsx("div",{className:"event-details-header",children:r.jsxs("div",{className:"event-details-title-row",children:[r.jsx("h2",{className:`event-details-title ${e.completed?"completed":""}`,children:e.title}),l&&r.jsx(xr,{checked:e.completed,onChange:l,size:"md",color:d})]})}),r.jsxs("div",{className:"event-details-info",children:[r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),""]}),r.jsx("div",{className:"event-details-item-value",children:m||""})]}),r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),""]}),r.jsxs("div",{className:"event-details-item-value",children:[i,"  ",c," (",u,")"]})]}),e.description&&r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),""]}),r.jsx("div",{className:"event-details-item-value event-details-description",children:e.description})]})]}),r.jsxs("div",{className:"event-details-actions",children:[r.jsx("button",{className:"btn btn-primary filled",onClick:n,children:""}),r.jsx("button",{className:"btn text-danger",onClick:s,children:""})]})]})})}const ix=["","","","","","",""];function cx(){const{state:e,dispatch:t}=Ct(),{showToast:n}=Mf(),s=Vt(),l=yn(),[o,a]=f.useState(new Date),[i,c]=f.useState(!1),[u,m]=f.useState(!1),[d,h]=f.useState(!1),[y,j]=f.useState(""),[v,k]=f.useState(null),[x,p]=f.useState(null),[g,w]=f.useState(null),[C,_]=f.useState(null),E=f.useRef(null),[I,L]=f.useState(!1),F=f.useRef(null),[K,Y]=f.useState(!1),[V,oe]=f.useState(!1),T=f.useMemo(()=>(v==null?void 0:v.title)||"",[v]),R=y.trim()!==T;f.useEffect(()=>{oe(R)},[R]);const Q=f.useRef(null),D=f.useRef(null),z=fe(o),G=tn(o),te=f.useMemo(()=>Gr(o),[o]),ce=Sl(o),pe=f.useMemo(()=>{const M={};return e.events.forEach(Z=>{Z.date&&(M[Z.date]=!0)}),Object.keys(e.dayTasks).forEach(Z=>{var he;((he=e.dayTasks[Z])==null?void 0:he.length)>0&&(M[Z]=!0)}),te.forEach(Z=>{const he=tn(Z);e.routines.some(Ve=>Ve.days.includes(he))&&(M[fe(Z)]=!0)}),M},[e.events,e.dayTasks,e.routines,te]),ge=f.useMemo(()=>e.routines.filter(M=>M.days.includes(G)),[e.routines,G]),P=f.useMemo(()=>e.events.filter(M=>{if(M.routineId)return!1;if(M.startTime){const Z=typeof M.startTime=="string"?new Date(M.startTime):M.startTime;return fe(Z)===z}return M.date?M.date===z:!1}),[e.events,z]),q=e.dayTasks[z]||[],ne=M=>{if(M.startTime&&M.endTime){const Z=typeof M.startTime=="string"?new Date(M.startTime):M.startTime,he=typeof M.endTime=="string"?new Date(M.endTime):M.endTime;if(!isNaN(Z.getTime())&&!isNaN(he.getTime()))return`${An(Z)} - ${An(he)}`}return M.time?M.time:""},se=M=>{if(M.startTime){const Z=typeof M.startTime=="string"?new Date(M.startTime):M.startTime;if(!isNaN(Z.getTime())){const he=Z.getHours().toString().padStart(2,"0"),ke=Z.getMinutes().toString().padStart(2,"0");return`${he}:${ke}`}}return M.time||"99:99"},le=f.useMemo(()=>{const M=[];return ge.forEach(Z=>{M.push({type:"routine",item:Z,time:Z.time||"99:99"})}),P.forEach(Z=>{M.push({type:"event",item:Z,time:se(Z),timeDisplay:ne(Z)})}),M.sort((Z,he)=>Z.time.localeCompare(he.time))},[ge,P]),B=f.useCallback(()=>{a(M=>rt(M,-1))},[]),N=f.useCallback(()=>{a(M=>rt(M,1))},[]),S=f.useCallback(()=>{a(new Date)},[]),A=M=>{Q.current=M.touches[0].clientX,D.current=null},H=M=>{D.current=M.touches[0].clientX},ee=M=>M.completed[z]||!1,O=q.filter(M=>M.completed).length,W=()=>{q.length>=3||h(!0)},X=()=>{if(y.trim()){if(v)t({type:"UPDATE_DAY_TASK",payload:{date:z,task:{...v,title:y.trim()}}});else{const M={id:Re(),title:y.trim(),completed:!1,date:z};t({type:"SET_DAY_TASKS",payload:{date:z,tasks:[...q,M]}})}j(""),k(null),h(!1)}},b=M=>{confirm(" ?")&&t({type:"DELETE_DAY_TASK",payload:{date:z,taskId:M}})},re=M=>{k(M),j(M.title),h(!0)},ue=M=>{const Z=q.find(ke=>ke.id===M),he=Z&&!Z.completed;t({type:"TOGGLE_DAY_TASK",payload:{date:z,taskId:M}}),he&&(fn(50),n(Yr()))},U=M=>{const Z=e.routines.find(ke=>ke.id===M),he=Z&&!Z.completed[z];t({type:"TOGGLE_ROUTINE",payload:{id:M,date:z}}),he&&(fn(50),n(Yr()))},ae=M=>{const Z=e.events.find(ke=>ke.id===M),he=Z&&!Z.completed;t({type:"TOGGLE_EVENT",payload:M}),he&&(fn(50),n(Yr()))},ie=M=>{t({type:"MOVE_EVENT_TO_TOMORROW",payload:M})},ve=M=>{t(x?{type:"UPDATE_ROUTINE",payload:M}:{type:"ADD_ROUTINE",payload:M}),c(!1),p(null)},Tt=M=>{t(g?{type:"UPDATE_EVENT",payload:M}:{type:"ADD_EVENT",payload:M}),m(!1),w(null)},jn=M=>{confirm(" ?")&&t({type:"DELETE_ROUTINE",payload:M})},tt=M=>{confirm(" ?")&&t({type:"DELETE_EVENT",payload:M})};return f.useEffect(()=>{var M;(M=l.state)!=null&&M.selectedDate&&a(new Date(l.state.selectedDate))},[l.state]),r.jsxs(Yt,{title:_f(o),subtitle:wa(o),headerRight:r.jsx("button",{className:"header-calendar-btn",onClick:()=>s("/calendar",{state:{selectedDate:o}}),title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),children:[r.jsxs("div",{className:"week-navigation",onTouchStart:A,onTouchMove:H,children:[r.jsx("button",{className:"week-nav-arrow",onClick:B,title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("div",{className:"week-strip",children:te.map((M,Z)=>{const he=fe(M)===z,ke=Sl(M),Ve=fe(M),It=pe[Ve];return r.jsxs("button",{className:`week-day ${he?"selected":""} ${ke?"today":""}`,onClick:()=>a(M),children:[r.jsx("span",{className:"week-day-name",children:ix[Z]}),r.jsx("span",{className:"week-day-num",children:M.getDate()}),It&&r.jsx("span",{className:"week-day-dot"}),ke&&!he&&r.jsx("span",{className:"week-day-today-mark"})]},Z)})}),r.jsx("button",{className:"week-nav-arrow",onClick:N,title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!ce&&r.jsxs("button",{className:"today-chip",onClick:S,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),""]}),r.jsxs("div",{className:"day-content",onTouchStart:A,onTouchMove:H,children:[r.jsxs("div",{className:"day-tasks-card card-accent",children:[r.jsxs("div",{className:"day-tasks-header",children:[r.jsx("h3",{children:"3   "}),r.jsxs("span",{className:"day-tasks-counter",children:[O," / 3"]})]}),r.jsxs("div",{className:"day-tasks-list",children:[q.map(M=>r.jsxs("div",{className:"day-task-item",children:[r.jsx(xr,{checked:M.completed,onChange:()=>ue(M.id)}),r.jsx("span",{className:`day-task-title ${M.completed?"line-through":""}`,children:M.title}),r.jsxs("div",{className:"day-task-actions",children:[r.jsx("button",{className:"btn-icon-mini",title:"",onClick:()=>re(M),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"btn-icon-mini text-danger",title:"",onClick:()=>b(M.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]},M.id)),q.length<3&&r.jsxs("button",{className:"day-task-add",onClick:W,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]})]})]}),r.jsxs("div",{className:"schedule-section",children:[r.jsxs("div",{className:"schedule-header",children:[r.jsx("h3",{children:""}),r.jsxs("div",{className:"schedule-actions",children:[r.jsx("button",{className:"btn btn-sm",onClick:()=>c(!0),children:"+ "}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>m(!0),children:"+ "})]})]}),le.length===0?r.jsx(vr,{title:" ",text:"      ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}):r.jsx("div",{className:"schedule-list",children:le.map(({type:M,item:Z,timeDisplay:he})=>{const ke=M==="event"?Z:null,Ve=(ke==null?void 0:ke.color)||"#4285F4";return r.jsxs("div",{className:`schedule-item ${M==="event"?"schedule-item-event":""}`,style:M==="event"?{backgroundColor:Ve+"15",borderLeftColor:Ve,borderLeftWidth:"4px",cursor:"pointer"}:void 0,onClick:M==="event"?()=>_(Z):void 0,children:[r.jsx("div",{className:"schedule-item-time",children:M==="event"&&he?he:Z.time||""}),r.jsxs("div",{className:"schedule-item-content",children:[r.jsxs("div",{className:"schedule-item-main",children:[r.jsx("div",{onClick:M==="event"?It=>It.stopPropagation():void 0,children:r.jsx(xr,{checked:M==="routine"?ee(Z):Z.completed,onChange:()=>M==="routine"?U(Z.id):ae(Z.id)})}),r.jsxs("div",{className:"schedule-item-text",children:[r.jsx("span",{className:(M==="routine"?ee(Z):Z.completed)?"line-through":"",children:Z.title}),Z.description&&r.jsx("span",{className:"schedule-item-description",children:Z.description})]}),M==="routine"&&r.jsx("span",{className:"chip chip-sm",children:""})]}),r.jsxs("div",{className:"schedule-item-actions",onClick:M==="event"?It=>It.stopPropagation():void 0,children:[r.jsx("button",{className:"btn-icon",title:"",onClick:()=>{t({type:"UPDATE_TIMER_STATE",payload:{mode:"focus",timeLeft:25*60,isRunning:!1,sessionsCompleted:0,currentTask:Z.title,focusDuration:25,startedAt:void 0}}),s("/focus")},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),r.jsx("button",{className:"btn-icon",title:"",onClick:()=>{M==="routine"?(p(Z),c(!0)):(w(Z),m(!0))},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),M==="event"&&r.jsx("button",{className:"btn-icon",title:"  ",onClick:()=>ie(Z.id),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})}),r.jsx("button",{className:"btn-icon text-danger",title:"",onClick:()=>M==="routine"?jn(Z.id):tt(Z.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})]},Z.id)})})]})]}),r.jsx(Ne,{isOpen:i,onClose:()=>{c(!1),p(null),Y(!1)},onRequestClose:()=>{var M;if((M=F.current)!=null&&M.hasChanges){Y(!0);return}c(!1),p(null)},hasChanges:K,onSave:()=>{F.current&&F.current.save()},confirmMessage:"",title:x?" ":" ",children:r.jsx(lx,{ref:F,routine:x,onChangesChange:Y,onSave:M=>{ve(M),c(!1),p(null),Y(!1)},onCancel:()=>{c(!1),p(null),Y(!1)}})}),r.jsx(Ne,{isOpen:u,onClose:()=>{m(!1),w(null),L(!1)},onRequestClose:()=>{var M;if((M=E.current)!=null&&M.hasChanges){L(!0);return}m(!1),w(null)},hasChanges:I,onSave:()=>{E.current&&E.current.save()},confirmMessage:"",title:g?" ":" ",children:r.jsx(Rf,{ref:E,event:g,defaultDate:z,onChangesChange:L,onSave:M=>{Tt(M),m(!1),w(null),L(!1)},onCancel:()=>{m(!1),w(null),L(!1)}})}),r.jsx(Ne,{isOpen:d,onClose:()=>{h(!1),j((v==null?void 0:v.title)||""),k(null),oe(!1)},onRequestClose:()=>{if(V){oe(!0);return}h(!1),j((v==null?void 0:v.title)||""),k(null)},hasChanges:V,onSave:()=>{X(),h(!1),j(""),k(null),oe(!1)},confirmMessage:"  ",title:v?" ":"  ",children:r.jsxs("form",{onSubmit:M=>{M.preventDefault(),X()},className:"form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:y,onChange:M=>j(M.target.value),placeholder:"   ?",autoFocus:!0})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:()=>{h(!1),j((v==null?void 0:v.title)||""),k(null),oe(!1)},children:""})})]})}),C&&r.jsx(Lf,{event:C,onClose:()=>_(null),onEdit:()=>{w(C),_(null),m(!0)},onDelete:()=>{confirm(" ?")&&(tt(C.id),_(null))},onToggle:()=>{ae(C.id);const M={...C,completed:!C.completed};_(M)}})]})}function ux(e,t=60){if(e.includes("-")){const[n,s]=e.split("-").map(c=>c.trim()),[l,o]=n.split(":").map(Number),[a,i]=s.split(":").map(Number);return{startHour:l,startMinute:o,endHour:a,endMinute:i}}else{const[n,s]=e.split(":").map(Number),l=new Date;return l.setHours(n,s,0,0),l.setMinutes(l.getMinutes()+t),{startHour:n,startMinute:s,endHour:l.getHours(),endMinute:l.getMinutes()}}}function dx(e,t,n,s=[]){const l=[],o=e.duration&&e.duration>=10?e.duration:60;let a=9,i=0,c=10,u=0;if(e.time){const y=ux(e.time,o);a=y.startHour,i=y.startMinute,c=y.endHour,u=y.endMinute}else{const y=new Date;y.setHours(9,0,0,0),y.setMinutes(y.getMinutes()+o),c=y.getHours(),u=y.getMinutes()}const m=new Set(s.filter(y=>y.routineId===e.id).map(y=>{const j=typeof y.startTime=="string"?new Date(y.startTime):y.startTime;return fe(j)}));let d=new Date(t);if(d.setHours(0,0,0,0),e.createdAt){const y=new Date(e.createdAt+"T00:00:00");!isNaN(y.getTime())&&y>d&&(d=y)}const h=new Date(d);for(h.setHours(0,0,0,0);h<=n;){const y=fe(h),j=tn(h);if(e.days.includes(j)&&!m.has(y)){const v=new Date(h);v.setHours(a,i,0,0);const k=new Date(h);k.setHours(c,u,0,0),k<v&&k.setDate(k.getDate()+1);const x={id:Re(),title:e.title,description:e.description,startTime:v,endTime:k,color:"#9C27B0",icon:e.icon,completed:e.completed[y]||!1,routineId:e.id};l.push(x)}h.setDate(h.getDate()+1)}return l}const Vc=Array.from({length:24},(e,t)=>t);function fx({date:e,events:t,onEventClick:n}){const s=f.useRef(null),[l,o]=f.useState(null),a=In(e,new Date);f.useEffect(()=>{if(!a){o(null);return}const u=()=>{o(Af())};u();const m=setInterval(u,6e4);return()=>clearInterval(m)},[a]);const i=f.useMemo(()=>Pf(t,e),[t,e]),c=f.useMemo(()=>If(i),[i]);return f.useEffect(()=>{if(a&&s.current&&l!==null){const u=s.current.clientHeight,m=l-u/2;s.current.scrollTop=Math.max(0,m)}},[a]),f.useEffect(()=>{if(a&&s.current&&l!==null){const u=s.current.clientHeight,m=s.current.scrollTop,d=m,h=m+u;if(l<d||l>h){const y=l-u/2;s.current.scrollTop=Math.max(0,y)}}},[l,a]),r.jsxs("div",{className:"day-view",children:[r.jsxs("div",{className:"day-view-hours",children:[Vc.map(u=>r.jsx("div",{className:"day-view-hour",children:r.jsxs("span",{className:"day-view-hour-label",children:[u.toString().padStart(2,"0"),":00"]})},u)),r.jsx("div",{className:"day-view-hour",children:r.jsx("span",{className:"day-view-hour-label",children:"00:00"})})]}),r.jsxs("div",{className:"day-view-content",ref:s,children:[a&&l!==null&&r.jsxs("div",{className:"day-view-current-time",style:{top:`${l}px`},children:[r.jsx("div",{className:"day-view-current-time-line"}),r.jsx("div",{className:"day-view-current-time-dot"})]}),r.jsxs("div",{className:"day-view-grid",children:[Vc.map(u=>r.jsxs(f.Fragment,{children:[r.jsx("div",{className:"day-view-grid-line-hour",style:{top:`${u*60}px`}}),u<23&&r.jsx("div",{className:"day-view-grid-line-half",style:{top:`${u*60+30}px`}})]},u)),r.jsx("div",{className:"day-view-grid-line-hour",style:{top:"1440px"}})]}),r.jsx("div",{className:"day-view-events",children:(()=>{const u=new Map;return c.forEach((m,d)=>{if(m.length===0)return;let h=1/0,y=-1/0;if(m.forEach(v=>{if(!v.startTime||!v.endTime)return;const k=typeof v.startTime=="string"?new Date(v.startTime):v.startTime,x=typeof v.endTime=="string"?new Date(v.endTime):v.endTime,p=or(k),g=ar(k,x),w=p+g;h=Math.min(h,p),y=Math.max(y,w)}),h===1/0)return;let j=0;for(let v=0;v<d;v++){const k=c[v];if(k.length===0)continue;let x=1/0,p=-1/0;if(k.forEach(C=>{if(!C.startTime||!C.endTime)return;const _=typeof C.startTime=="string"?new Date(C.startTime):C.startTime,E=typeof C.endTime=="string"?new Date(C.endTime):C.endTime,I=or(_),L=ar(_,E),F=I+L;x=Math.min(x,I),p=Math.max(p,F)}),x===1/0)continue;const g=u.get(v)||0,w=p+g;h<p&&y>x&&h<w&&(j=Math.max(j,w-h))}j>0&&u.set(d,j)}),c.map((m,d)=>{const v=(100-.5*(m.length-1))/m.length,k=u.get(d)||0;return m.map((x,p)=>{if(!x.startTime||!x.endTime)return null;const g=typeof x.startTime=="string"?new Date(x.startTime):x.startTime,w=typeof x.endTime=="string"?new Date(x.endTime):x.endTime;if(isNaN(g.getTime())||isNaN(w.getTime()))return null;const C=or(g)+k,_=ar(g,w),E=p*(v+.5),I=v,L=x.color||"#4285F4",F=!!x.routineId;return r.jsx("div",{className:`day-view-event ${F?"day-view-event-routine":""}`,style:{top:`${C}px`,left:`${E}%`,width:`${I}%`,height:`${_}px`,borderLeftColor:L,backgroundColor:L+"20"},onClick:()=>n==null?void 0:n(x),children:r.jsxs("div",{className:"day-view-event-content",children:[r.jsxs("div",{className:"day-view-event-title",children:[F&&r.jsx("span",{className:"day-view-event-routine-icon",children:" "}),x.title]}),r.jsxs("div",{className:"day-view-event-time",children:[An(g),"  ",An(w)]}),x.description&&r.jsx("div",{className:"day-view-event-description",children:x.description})]})},x.id)}).filter(Boolean)})})()})]})]})}const Yc=Array.from({length:24},(e,t)=>t);function mx({date:e,events:t,onEventClick:n}){const s=f.useRef(null),[l,o]=f.useState(null),a=f.useMemo(()=>Gr(e),[e]);f.useEffect(()=>{const d=()=>{o(Af())};d();const h=setInterval(d,6e4);return()=>clearInterval(h)},[]);const i=f.useMemo(()=>ox(t,a),[t,a]),c=f.useMemo(()=>{const d={};return a.forEach(h=>{const y=fe(h);d[y]=i.filter(j=>{if(j.startTime){const v=typeof j.startTime=="string"?new Date(j.startTime):j.startTime;return isNaN(v.getTime())?!1:In(v,h)}return j.date?j.date===y:!1}).filter(j=>{if(j.startTime&&j.endTime){const v=typeof j.startTime=="string"?new Date(j.startTime):j.startTime,k=typeof j.endTime=="string"?new Date(j.endTime):j.endTime;return!isNaN(v.getTime())&&!isNaN(k.getTime())}return!1})}),d},[i,a]),u=new Date,m=a.some(d=>In(d,u));return f.useEffect(()=>{if(m&&s.current&&l!==null){const d=s.current.clientHeight,h=l-d/2;s.current.scrollTop=Math.max(0,h)}},[m]),f.useEffect(()=>{if(m&&s.current&&l!==null){const d=s.current.clientHeight,h=s.current.scrollTop,y=h,j=h+d;if(l<y||l>j){const v=l-d/2;s.current.scrollTop=Math.max(0,v)}}},[l,m]),r.jsx("div",{className:"week-view",children:r.jsxs("div",{className:"week-view-body",children:[r.jsxs("div",{className:"week-view-hours",children:[Yc.map(d=>r.jsx("div",{className:"week-view-hour",children:r.jsxs("span",{className:"week-view-hour-label",children:[d.toString().padStart(2,"0"),":00"]})},d)),r.jsx("div",{className:"week-view-hour",children:r.jsx("span",{className:"week-view-hour-label",children:"00:00"})})]}),r.jsxs("div",{className:"week-view-content",ref:s,children:[l!==null&&m&&r.jsxs("div",{className:"week-view-current-time",style:{top:`${l}px`},children:[r.jsx("div",{className:"week-view-current-time-line"}),r.jsx("div",{className:"week-view-current-time-dot"})]}),a.slice(1).map((d,h)=>{const y=(h+1)/7*100;return r.jsx("div",{className:"week-view-day-divider",style:{left:`${y}%`}},`divider-${fe(d)}`)}),r.jsxs("div",{className:"week-view-grid",children:[Yc.map(d=>r.jsxs(f.Fragment,{children:[r.jsx("div",{className:"week-view-grid-row-hour",style:{top:`${d*60}px`},children:a.map(h=>r.jsx("div",{className:"week-view-grid-cell"},fe(h)))}),d<23&&r.jsx("div",{className:"week-view-grid-row-half",style:{top:`${d*60+30}px`},children:a.map(h=>r.jsx("div",{className:"week-view-grid-cell-half"},fe(h)))})]},d)),r.jsx("div",{className:"week-view-grid-row-hour",style:{top:"1440px"},children:a.map(d=>r.jsx("div",{className:"week-view-grid-cell"},fe(d)))})]}),r.jsx("div",{className:"week-view-events",children:a.map((d,h)=>{const y=fe(d),j=c[y]||[],v=If(j),k=100/7*h,x=new Map;return v.forEach((p,g)=>{if(p.length===0)return;let w=1/0,C=-1/0;if(p.forEach(E=>{if(!E.startTime||!E.endTime)return;const I=typeof E.startTime=="string"?new Date(E.startTime):E.startTime,L=typeof E.endTime=="string"?new Date(E.endTime):E.endTime,F=or(I),K=ar(I,L),Y=F+K;w=Math.min(w,F),C=Math.max(C,Y)}),w===1/0)return;let _=0;for(let E=0;E<g;E++){const I=v[E];if(I.length===0)continue;let L=1/0,F=-1/0;if(I.forEach(V=>{if(!V.startTime||!V.endTime)return;const oe=typeof V.startTime=="string"?new Date(V.startTime):V.startTime,T=typeof V.endTime=="string"?new Date(V.endTime):V.endTime,R=or(oe),Q=ar(oe,T),D=R+Q;L=Math.min(L,R),F=Math.max(F,D)}),L===1/0)continue;const K=x.get(E)||0,Y=F+K;w<F&&C>L&&w<Y&&(_=Math.max(_,Y-w))}_>0&&x.set(g,_)}),r.jsx("div",{className:"week-view-day-column",style:{left:`${k}%`,width:`${100/7}%`},children:v.map((p,g)=>{const E=(100-.5*(p.length-1))/p.length,I=x.get(g)||0;return p.map((L,F)=>{if(!L.startTime||!L.endTime)return null;const K=typeof L.startTime=="string"?new Date(L.startTime):L.startTime,Y=typeof L.endTime=="string"?new Date(L.endTime):L.endTime;if(isNaN(K.getTime())||isNaN(Y.getTime()))return null;const V=or(K)+I,oe=ar(K,Y),T=F*(E+.5),R=L.color||"#4285F4",Q=!!L.routineId;return r.jsx("div",{className:`week-view-event ${Q?"week-view-event-routine":""}`,style:{top:`${V}px`,left:`${T}%`,width:`${E}%`,height:`${oe}px`,borderLeftColor:R,backgroundColor:R+"20"},onClick:()=>n==null?void 0:n(L),children:r.jsxs("div",{className:"week-view-event-content",children:[r.jsxs("div",{className:"week-view-event-title",children:[Q&&r.jsx("span",{className:"week-view-event-routine-icon",children:" "}),L.title]}),r.jsx("div",{className:"week-view-event-time",children:An(K)})]})},L.id)}).filter(Boolean)})},y)})})]})]})})}const hx=["","","","","","",""];function px({viewDate:e,selectedDate:t,events:n,onSelectDate:s}){const l=e.getFullYear(),o=e.getMonth(),a=f.useMemo(()=>nx(l,o),[l,o]),i=f.useMemo(()=>{const c={};return a.forEach(u=>{const m=fe(u),d=Pf(n,u);d.length>0&&(c[m]=d)}),c},[n,a]);return r.jsxs("div",{className:"month-view",children:[r.jsx("div",{className:"month-view-weekdays",children:hx.map(c=>r.jsx("div",{className:"month-view-weekday",children:c},c))}),r.jsx("div",{className:"month-view-grid",children:a.map((c,u)=>{const m=fe(c),d=sx(c,o,l),h=fe(t)===m,y=Sl(c),j=i[m]||[],v=j.length,k=3;return r.jsxs("button",{className:`month-view-day ${d?"":"other-month"} ${h?"selected":""} ${y?"today":""}`,onClick:()=>s(c),children:[r.jsx("span",{className:"month-view-day-num",children:c.getDate()}),r.jsxs("div",{className:"month-view-day-events",children:[j.slice(0,k).map(x=>{const p=x.color||"#4285F4",g=!!x.routineId;let w="";if(x.startTime){const C=typeof x.startTime=="string"?new Date(x.startTime):x.startTime;if(!isNaN(C.getTime())){const _=C.getHours().toString().padStart(2,"0"),E=C.getMinutes().toString().padStart(2,"0");w=`${_}:${E} `}}else x.time&&(w=`${x.time} `);return r.jsx("div",{className:`month-view-event-bar ${g?"month-view-event-routine":""}`,style:{backgroundColor:p+"20",borderLeftColor:p},title:x.title,children:r.jsxs("span",{className:"month-view-event-title",children:[g&&r.jsx("span",{className:"month-view-event-routine-icon",children:" "}),w&&r.jsx("span",{className:"month-view-event-time",children:w}),x.title]})},x.id)}),v>k&&r.jsxs("div",{className:"month-view-event-more",children:["+",v-k]}),v===0&&d&&r.jsx("div",{className:"month-view-event-empty"})]})]},u)})})]})}function xx(){var B;const e=Vt(),t=yn(),{state:n,dispatch:s}=Ct(),l=(B=t.state)!=null&&B.selectedDate?new Date(t.state.selectedDate):new Date,[o,a]=f.useState(l),[i,c]=f.useState(l),[u,m]=f.useState("day"),[d,h]=f.useState(!1),[y,j]=f.useState(null),[v,k]=f.useState(null),x=f.useRef(null),[p,g]=f.useState(!1),w=f.useRef(null),C=f.useRef(null),_=f.useRef(null),E=f.useRef(null),[I,L]=f.useState(!1),[F,K]=f.useState(!1),Y=f.useRef(null),V=50;f.useEffect(()=>{var N;if((N=t.state)!=null&&N.selectedDate){const S=new Date(t.state.selectedDate);c(S),a(S)}},[t.state]),f.useEffect(()=>{if(v!=null&&v.routineId&&v.startTime){const N=typeof v.startTime=="string"?new Date(v.startTime):v.startTime,S=fe(N),A=n.routines.find(H=>H.id===v.routineId);if(A){const H=A.completed[S]||!1;v.completed!==H&&k(ee=>ee?{...ee,completed:H}:null)}}},[n.routines]);const[oe,T]=f.useState(null),R=f.useCallback(N=>{I||(T(N),L(!0),requestAnimationFrame(()=>{if(N==="prev"){if(u==="day")a(S=>rt(S,-1)),c(S=>rt(S,-1));else if(u==="week")a(S=>rt(S,-7)),c(S=>rt(S,-7));else if(u==="month"){const S=new Date(o);S.setMonth(S.getMonth()-1),a(S)}}else if(u==="day")a(S=>rt(S,1)),c(S=>rt(S,1));else if(u==="week")a(S=>rt(S,7)),c(S=>rt(S,7));else if(u==="month"){const S=new Date(o);S.setMonth(S.getMonth()+1),a(S)}setTimeout(()=>{L(!1),T(null)},350)}))},[u,o,I]),Q=N=>{w.current=N.touches[0].clientX,_.current=N.touches[0].clientY,C.current=null,E.current=null,K(!1)},D=N=>{if(w.current!==null&&_.current!==null){const S=N.touches[0].clientX,A=N.touches[0].clientY;C.current=S,E.current=A;const H=Math.abs(S-w.current),ee=Math.abs(A-_.current);H>8&&H>ee?(F||K(!0),N.cancelable&&N.preventDefault()):F&&ee>H*1.5&&K(!1)}},z=f.useCallback(N=>{if(w.current===null||_.current===null){w.current=null,_.current=null,C.current=null,E.current=null,K(!1);return}const S=C.current??w.current,A=E.current??_.current,H=S-w.current,ee=A-_.current;Math.abs(H)>Math.abs(ee)&&Math.abs(H)>V&&(N.cancelable&&N.preventDefault(),H>0?R("prev"):R("next")),w.current=null,C.current=null,_.current=null,E.current=null,K(!1)},[R,F]),G=()=>{const N=new Date;a(N),c(N)},te=N=>{k(N)},ce=()=>{v&&(j(v),k(null),h(!0))},pe=()=>{v&&confirm(" ?")&&(s({type:"DELETE_EVENT",payload:v.id}),k(null))},ge=()=>{if(v)if(v.routineId&&v.startTime){const N=typeof v.startTime=="string"?new Date(v.startTime):v.startTime,S=fe(N),A=n.routines.find(O=>O.id===v.routineId),H=(A==null?void 0:A.completed[S])||!1;s({type:"TOGGLE_ROUTINE",payload:{id:v.routineId,date:S}});const ee={...v,completed:!H};k(ee)}else{s({type:"TOGGLE_EVENT",payload:v.id});const N={...v,completed:!v.completed};k(N)}},P=N=>{c(N),a(N),u!=="day"&&m("day")},q=N=>{s(y?{type:"UPDATE_EVENT",payload:N}:{type:"ADD_EVENT",payload:N}),h(!1),j(null)},ne=()=>{if(u==="day")return`${_f(i)}, ${i.getDate()} ${_r(i.getMonth()).toLowerCase()}`;if(u==="week"){const N=Gr(i),S=N[0],A=N[6];return S.getMonth()===A.getMonth()?`${S.getDate()}${A.getDate()} ${_r(S.getMonth()).toLowerCase()}`:`${S.getDate()} ${_r(S.getMonth()).toLowerCase()}  ${A.getDate()} ${_r(A.getMonth()).toLowerCase()}`}else return`${_r(o.getMonth())} ${o.getFullYear()}`},se=fe(i),le=f.useMemo(()=>{const N=n.events.filter(ee=>!ee.routineId);let S,A;if(u==="day")S=new Date(i),A=new Date(i);else if(u==="week"){const ee=Gr(i);S=ee[0],A=ee[ee.length-1]}else S=new Date(o.getFullYear(),o.getMonth(),1),A=new Date(o.getFullYear(),o.getMonth()+1,0);S.setHours(0,0,0,0),A.setHours(23,59,59,999);const H=[];for(const ee of n.routines){const O=dx(ee,S,A,[]);H.push(...O)}return[...N,...H]},[n.events,n.routines,u,i,o]);return r.jsxs(Yt,{title:ne(),headerRight:r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-header-btn",onClick:G,title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})})]}),children:[r.jsxs("div",{className:"calendar-page",onTouchStart:Q,onTouchMove:D,onTouchEnd:z,children:[r.jsxs("div",{className:"calendar-mode-selector",children:[r.jsx("button",{className:`calendar-mode-btn ${u==="day"?"active":""}`,onClick:()=>m("day"),children:""}),r.jsx("button",{className:`calendar-mode-btn ${u==="week"?"active":""}`,onClick:()=>m("week"),children:""}),r.jsx("button",{className:`calendar-mode-btn ${u==="month"?"active":""}`,onClick:()=>m("month"),children:""})]}),u==="week"&&(()=>{const N=Gr(i),S=new Date,A=["","","","","","",""];return r.jsx("div",{className:"calendar-week-header",children:r.jsx("div",{className:"calendar-week-header-days",children:N.map((H,ee)=>{const O=In(H,S),W=A[ee];return r.jsxs("div",{className:`calendar-week-header-day ${O?"current":""}`,onClick:()=>P(H),children:[r.jsx("span",{className:"calendar-week-header-day-label",children:W}),r.jsx("span",{className:`calendar-week-header-day-number ${O?"current":""}`,children:H.getDate()})]},fe(H))})})})})(),r.jsxs("div",{className:`calendar-content ${I?oe==="next"?"transitioning-next":"transitioning":""} ${F?"swiping":""}`,ref:Y,style:F?{overflowY:"hidden",touchAction:"none"}:void 0,children:[u==="day"&&r.jsx(fx,{date:i,events:le,onEventClick:te}),u==="week"&&r.jsx(mx,{date:i,events:le,onEventClick:te}),u==="month"&&r.jsx(px,{viewDate:o,selectedDate:i,events:le,onSelectDate:P})]}),r.jsx("button",{className:"calendar-add-btn",onClick:()=>{j(null),h(!0)},title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),v&&r.jsx(Lf,{event:v,onClose:()=>k(null),onEdit:ce,onDelete:pe,onToggle:ge}),r.jsx(Ne,{isOpen:d,onClose:()=>{h(!1),j(null),g(!1)},onRequestClose:()=>{var N;if((N=x.current)!=null&&N.hasChanges){g(!0);return}h(!1),j(null)},hasChanges:p,onSave:()=>{x.current&&x.current.save()},confirmMessage:"",title:y?" ":" ",children:r.jsx(Rf,{ref:x,event:y,defaultDate:se,onChangesChange:g,onSave:N=>{q(N),h(!1),j(null),g(!1)},onCancel:()=>{h(!1),j(null),g(!1)}})})]})}const vx="/SDVIG-TEST2/assets/money-card-CfWQM0xH.png",gx="/SDVIG-TEST2/assets/money-cash-BdY2lc3_.png",yx="/SDVIG-TEST2/assets/paypal-card-E9WFKGIM.png",jx="/SDVIG-TEST2/assets/visa-card-CJvN6pph.png",wx="/SDVIG-TEST2/assets/mastercard-card-1JAPFojR.png",kx="/SDVIG-TEST2/assets/t-bank-vmVCoORc.png",Nx="/SDVIG-TEST2/assets/sberbank-DZTh3LYd.png",Sx="/SDVIG-TEST2/assets/gazprombank-CKeUmITS.png",Cx="/SDVIG-TEST2/assets/rosselhozbank-BYNH4v38.png",Tx="/SDVIG-TEST2/assets/vtb-DVvHNMYG.png",Ex=({icon:e,color:t="currentColor",size:n=24})=>{if(e==="card")return r.jsx("img",{src:vx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}});if(e==="cash")return r.jsx("img",{src:gx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}});const s={bank:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M3 21h18"}),r.jsx("path",{d:"M3 10h18"}),r.jsx("path",{d:"M5 6l7-3 7 3"}),r.jsx("path",{d:"M4 10v11"}),r.jsx("path",{d:"M20 10v11"}),r.jsx("path",{d:"M8 10v11"}),r.jsx("path",{d:"M12 10v11"}),r.jsx("path",{d:"M16 10v11"})]}),safe:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"4"}),r.jsx("path",{d:"M12 8v8"}),r.jsx("path",{d:"M8 12h8"})]}),crypto:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:r.jsx("path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727"})}),sber:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#21A038"}),r.jsx("path",{d:"M12 6v12M8 9h8M8 15h8",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"})]}),tinkoff:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3"}),r.jsx("path",{d:"M8 12h8"}),r.jsx("path",{d:"M12 8v8"})]}),home:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),wallet:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),r.jsx("path",{d:"M2 11h20"}),r.jsx("circle",{cx:"16",cy:"15",r:"1"})]}),treasure:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),r.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:t,fillOpacity:"0.2"}),r.jsx("path",{d:"M12 9v6M9 12h6"}),r.jsx("path",{d:"M4 10h16M4 14h16"})]}),"money-bag":r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M9 7c0-1.1.9-2 2-2h2c1.1 0 2 .9 2 2v1h-6V7z",fill:t,fillOpacity:"0.1"}),r.jsx("path",{d:"M7 9h10c2 0 3 1 3 3v5c0 2-1 3-3 3H7c-2 0-3-1-3-3v-5c0-2 1-3 3-3z"}),r.jsx("path",{d:"M9 7v2M15 7v2"}),r.jsx("path",{d:"M8 12h8M8 15h6"}),r.jsx("circle",{cx:"12",cy:"13.5",r:"1",fill:t,fillOpacity:"0.3"})]}),diamond:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M6 3h12l4 6-10 12L2 9l4-6z"}),r.jsx("path",{d:"M11 3l1 9 1-9"}),r.jsx("path",{d:"M5 9h14"})]}),gift:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"8",width:"18",height:"12",rx:"1"}),r.jsx("path",{d:"M12 8v12"}),r.jsx("path",{d:"M12 8H7a2 2 0 00-2 2v0a2 2 0 002 2h5"}),r.jsx("path",{d:"M12 8h5a2 2 0 012 2v0a2 2 0 01-2 2h-5"}),r.jsx("path",{d:"M7 4a2 2 0 00-2 2v2h5V6a2 2 0 00-2-2z"}),r.jsx("path",{d:"M17 4a2 2 0 012 2v2h-5V6a2 2 0 012-2z"})]}),briefcase:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"}),r.jsx("path",{d:"M8 7h8"}),r.jsx("path",{d:"M8 11h8"})]}),coin:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:t,fillOpacity:"0.1"}),r.jsx("circle",{cx:"12",cy:"12",r:"7",fill:"none"}),r.jsx("path",{d:"M12 5v14M5 12h14",strokeWidth:"1.5"}),r.jsx("circle",{cx:"12",cy:"12",r:"2",fill:t,fillOpacity:"0.3"})]}),bills:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),r.jsx("path",{d:"M6 10h12"}),r.jsx("path",{d:"M6 14h8"}),r.jsx("circle",{cx:"18",cy:"10",r:"1"})]}),vault:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M12 9v6"}),r.jsx("path",{d:"M9 12h6"}),r.jsx("path",{d:"M3 8h18"}),r.jsx("path",{d:"M3 16h18"})]}),investment:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("polyline",{points:"3 14 7 10 11 14 15 10 19 14 21 12"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("circle",{cx:"7",cy:"10",r:"1"}),r.jsx("circle",{cx:"11",cy:"14",r:"1"}),r.jsx("circle",{cx:"15",cy:"10",r:"1"}),r.jsx("circle",{cx:"19",cy:"14",r:"1"})]}),savings:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M12 2v20"}),r.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"}),r.jsx("circle",{cx:"12",cy:"8",r:"1.5"}),r.jsx("circle",{cx:"12",cy:"16",r:"1.5"})]}),paypal:r.jsx("img",{src:yx,alt:"PayPal",className:"wallet-icon-img",style:{width:n,height:n}}),visa:r.jsx("img",{src:jx,alt:"Visa",className:"wallet-icon-img",style:{width:n,height:n}}),mastercard:r.jsx("img",{src:wx,alt:"Mastercard",className:"wallet-icon-img",style:{width:n,height:n}}),"t-bank":r.jsx("img",{src:kx,alt:"-",className:"wallet-icon-img",style:{width:n,height:n}}),sberbank:r.jsx("img",{src:Nx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),gazprombank:r.jsx("img",{src:Sx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),rosselhozbank:r.jsx("img",{src:Cx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),vtb:r.jsx("img",{src:Tx,alt:"",className:"wallet-icon-img",style:{width:n,height:n}})};return r.jsx("div",{className:"wallet-icon-svg",children:s[e]})},ft=Ex,Dx=f.forwardRef(({wallet:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.name)||""),[i,c]=f.useState((e==null?void 0:e.icon)||"card"),[u,m]=f.useState((e==null?void 0:e.color)||"#3B82F6"),[d,h]=f.useState((e==null?void 0:e.currency)||"RUB"),[y,j]=f.useState(!1),v=f.useRef(null),k=f.useMemo(()=>e?{name:e.name,icon:e.icon,color:e.color,currency:e.currency}:{name:"",icon:"card",color:"#3B82F6",currency:"RUB"},[e]),{hasChanges:x}=kr(k,()=>({name:o,icon:i,color:u,currency:d}));f.useEffect(()=>{s&&s(x)},[x,s]),f.useEffect(()=>{const w=C=>{v.current&&!v.current.contains(C.target)&&j(!1)};return y&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[y]);const p=()=>{o.trim()&&t({id:(e==null?void 0:e.id)||Re(),name:o.trim(),icon:i,color:u,currency:d,balance:(e==null?void 0:e.balance)||0})};f.useImperativeHandle(l,()=>({hasChanges:x,save:p}),[x,o,i,u,d]);const g=w=>{w.preventDefault(),p()};return r.jsxs("form",{className:"wallet-form",onSubmit:g,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:w=>a(w.target.value),placeholder:": , ...",required:!0,autoFocus:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"icon-selector",children:k0.map(w=>r.jsx("button",{type:"button",className:`icon-btn ${i===w.value?"active":""}`,onClick:()=>c(w.value),title:w.label,style:{color:i===w.value?u:void 0},children:r.jsx(ft,{icon:w.value,color:i===w.value?u:"currentColor"})},w.value))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"color-selector",children:j0.map(w=>r.jsx("button",{type:"button",className:`color-btn ${u===w?"active":""}`,onClick:()=>m(w),style:{backgroundColor:w},children:u===w&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})},w))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-currency-select",ref:v,children:[r.jsxs("button",{type:"button",className:`custom-currency-trigger ${y?"open":""}`,onClick:()=>j(!y),children:[r.jsx("span",{className:"currency-symbol",children:dt[d]}),r.jsx("span",{className:"currency-code",children:d}),r.jsx("span",{className:"currency-name",children:Fc[d]}),r.jsx("svg",{className:"currency-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),y&&r.jsx("div",{className:"custom-currency-dropdown",children:y0.map(w=>r.jsxs("button",{type:"button",className:`custom-currency-option ${w===d?"active":""}`,onClick:()=>{h(w),j(!1)},children:[r.jsx("span",{className:"currency-symbol",children:dt[w]}),r.jsx("span",{className:"currency-code",children:w}),r.jsx("span",{className:"currency-name",children:Fc[w]}),w===d&&r.jsx("svg",{className:"currency-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},w))})]})]}),r.jsx("div",{className:"wallet-preview",children:r.jsxs("div",{className:"wallet-preview-card",style:{borderColor:u},children:[r.jsx("div",{className:"wallet-preview-icon",style:{backgroundColor:u+"20",color:u},children:r.jsx(ft,{icon:i,color:u})}),r.jsxs("div",{className:"wallet-preview-info",children:[r.jsx("span",{className:"wallet-preview-name",children:o||""}),r.jsxs("span",{className:"wallet-preview-currency",children:[dt[d]," ",d]})]})]})}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})}),Mx=f.forwardRef(({wallets:e,categories:t,onSave:n,onCancel:s,onAddCategory:l,isOpen:o=!0,initialTab:a="expense",onChangesChange:i},c)=>{var O,W,X;const[u,m]=f.useState(a),[d,h]=f.useState(""),[y,j]=f.useState(((O=e[0])==null?void 0:O.id)||""),[v,k]=f.useState(t[0]||""),[x,p]=f.useState(""),[g,w]=f.useState(!1),[C,_]=f.useState(_t()),[E,I]=f.useState(""),[L,F]=f.useState(((W=e[1])==null?void 0:W.id)||((X=e[0])==null?void 0:X.id)||""),[K,Y]=f.useState(""),V=f.useRef(null);f.useEffect(()=>{var b,re,ue;o?V.current||(h(""),j(((b=e[0])==null?void 0:b.id)||""),k(t[0]||""),p(""),_(_t()),I(""),F(((re=e[1])==null?void 0:re.id)||((ue=e[0])==null?void 0:ue.id)||""),Y(""),m(a),w(!1),setTimeout(()=>{var U,ae,ie;V.current={activeTab:a,amount:"",walletId:((U=e[0])==null?void 0:U.id)||"",category:t[0]||"",newCategory:"",date:_t(),comment:"",toWalletId:((ae=e[1])==null?void 0:ae.id)||((ie=e[0])==null?void 0:ie.id)||"",exchangeRate:""}},0)):V.current=null},[o,a,e,t]);const oe={activeTab:u,amount:d,walletId:y,category:g?x:v,newCategory:x,date:C,comment:E,toWalletId:L,exchangeRate:K},T=V.current?JSON.stringify(V.current)!==JSON.stringify(oe):!1;f.useEffect(()=>{i&&i(T)},[T,i]);const[R,Q]=f.useState(!1),[D,z]=f.useState(!1),[G,te]=f.useState(!1),ce=f.useRef(null),pe=f.useRef(null),ge=f.useRef(null),P=f.useRef(null),[q,ne]=f.useState(!0),se=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,le=e.find(b=>b.id===y),B=e.find(b=>b.id===L),N=(le==null?void 0:le.currency)===(B==null?void 0:B.currency);f.useEffect(()=>{if(!o){ne(!0);return}const re=setTimeout(()=>{const ue=ce.current;ue&&(se?(ne(!0),setTimeout(()=>{ne(!1),requestAnimationFrame(()=>{ue.focus(),ue.setSelectionRange&&setTimeout(()=>ue.setSelectionRange(0,0),10)})},100)):(ne(!1),setTimeout(()=>ue.focus(),150)))},se?300:150);return()=>clearTimeout(re)},[o,se]),f.useEffect(()=>{if(y===L&&e.length>1){const b=e.find(re=>re.id!==y);b&&F(b.id)}},[y,L,e]),f.useEffect(()=>{o&&m(a)},[a,o]);const S=()=>{const b=y;j(L),F(b)};f.useEffect(()=>{const b=re=>{pe.current&&!pe.current.contains(re.target)&&Q(!1),ge.current&&!ge.current.contains(re.target)&&z(!1),P.current&&!P.current.contains(re.target)&&te(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const A=f.useCallback(()=>{const b=parseFloat(d);if(!(!b||!y)){if(u==="transfer"){if(!L||L===y)return;const re=parseFloat(K),ue=N?b:b*re;if(!N&&!re)return;const U=new Date,ae=`${String(U.getHours()).padStart(2,"0")}:${String(U.getMinutes()).padStart(2,"0")}`,ie={id:Re(),type:"transfer",amount:b,date:C,walletId:y,toWalletId:L,toAmount:ue,category:"",comment:E.trim()||void 0,createdAt:U.toISOString(),time:ae};n(ie)}else{const re=g?x.trim():v;if(!re)return;g&&x.trim()&&l(x.trim());const ue=new Date,U=`${String(ue.getHours()).padStart(2,"0")}:${String(ue.getMinutes()).padStart(2,"0")}`,ae={id:Re(),type:u,amount:b,date:C,walletId:y,category:re,comment:E.trim()||void 0,createdAt:ue.toISOString(),time:U};n(ae)}V.current=null}},[d,y,u,L,K,N,C,E,g,x,v,n,l]);f.useImperativeHandle(c,()=>({hasChanges:T,save:A}),[T,A]);const H=b=>{b.preventDefault(),A()},ee=b=>{const re=e.find(ue=>ue.id===b);return re?dt[re.currency]:""};return r.jsxs("form",{className:"transaction-form",onSubmit:H,children:[r.jsxs("div",{className:"transaction-tabs",children:[r.jsx("div",{className:`transaction-tabs-indicator ${u}`}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="expense"?"active expense":""}`,onClick:()=>m("expense"),children:""}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="income"?"active income":""}`,onClick:()=>m("income"),children:""}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="transfer"?"active transfer":""}`,onClick:()=>m("transfer"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:u==="transfer"?" ":""}),r.jsxs("div",{className:"amount-input",children:[r.jsx("input",{ref:ce,type:"number",inputMode:"decimal",value:d,onChange:b=>h(b.target.value),onTouchStart:b=>{se&&q&&(ne(!1),setTimeout(()=>b.currentTarget.focus(),10))},onClick:b=>{se&&q&&(ne(!1),setTimeout(()=>b.currentTarget.focus(),10))},readOnly:se&&q,placeholder:"0",min:"0",step:"0.01",required:!0}),r.jsx("span",{className:"amount-currency",children:ee(y)})]})]}),u!=="transfer"&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select",ref:pe,children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>Q(!R),children:[le&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon",style:{backgroundColor:le.color+"20"},children:r.jsx(ft,{icon:le.icon,color:le.color})}),r.jsx("span",{className:"wallet-select-name",children:le.name}),r.jsx("span",{className:"wallet-select-currency",children:dt[le.currency]})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),R&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(b=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${b.id===y?"active":""}`,onClick:()=>{j(b.id),Q(!1)},children:[r.jsx("div",{className:"wallet-select-icon",style:{backgroundColor:b.color+"20"},children:r.jsx(ft,{icon:b.icon,color:b.color})}),r.jsx("span",{className:"wallet-select-name",children:b.name}),r.jsx("span",{className:"wallet-select-currency",children:dt[b.currency]}),b.id===y&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},b.id))})]})]}),u==="transfer"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"transfer-wallets-row",children:[r.jsxs("div",{className:"transfer-wallet-field",ref:ge,children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select compact",children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>{z(!D),te(!1)},children:[le&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:le.color+"20"},children:r.jsx(ft,{icon:le.icon,color:le.color})}),r.jsx("span",{className:"wallet-select-name",children:le.name})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),D&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(b=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${b.id===y?"active":""}`,onClick:()=>{j(b.id),z(!1)},children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:b.color+"20"},children:r.jsx(ft,{icon:b.icon,color:b.color})}),r.jsx("span",{className:"wallet-select-name",children:b.name}),r.jsx("span",{className:"wallet-select-currency",children:dt[b.currency]}),b.id===y&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},b.id))})]})]}),r.jsx("button",{type:"button",className:"swap-wallets-btn",onClick:S,title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M7 16l-4-4m0 0l4-4m-4 4h18"}),r.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})]})}),r.jsxs("div",{className:"transfer-wallet-field",ref:P,children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select compact",children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>{te(!G),z(!1)},children:[B&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:B.color+"20"},children:r.jsx(ft,{icon:B.icon,color:B.color})}),r.jsx("span",{className:"wallet-select-name",children:B.name})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),G&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(b=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${b.id===L?"active":""}`,onClick:()=>{F(b.id),te(!1)},children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:b.color+"20"},children:r.jsx(ft,{icon:b.icon,color:b.color})}),r.jsx("span",{className:"wallet-select-name",children:b.name}),r.jsx("span",{className:"wallet-select-currency",children:dt[b.currency]}),b.id===L&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},b.id))})]})]})]}),y===L&&r.jsx("div",{className:"transfer-warning",children:"  "}),!N&&y!==L&&r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"form-label",children:[" (1 ",le==null?void 0:le.currency," = ? ",B==null?void 0:B.currency,")"]}),r.jsx("div",{className:"amount-input",children:r.jsx("input",{type:"number",inputMode:"decimal",value:K,onChange:b=>Y(b.target.value),placeholder:"0",min:"0",step:"0.0001",required:!0})}),d&&K&&r.jsxs("div",{className:"exchange-result-info",children:[r.jsx("span",{className:"exchange-result-label",children:" :"}),r.jsxs("span",{className:"exchange-result-value",children:[(parseFloat(d)*parseFloat(K)).toLocaleString("ru-RU",{maximumFractionDigits:2})," ",dt[(B==null?void 0:B.currency)||"RUB"]]})]})]})]}),u!=="transfer"&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),g?r.jsxs("div",{className:"category-select",children:[r.jsx("input",{type:"text",value:x,onChange:b=>p(b.target.value),placeholder:" ",required:!0}),r.jsx("button",{type:"button",className:"add-category-btn",onClick:()=>w(!1),children:""})]}):r.jsxs("div",{className:"category-select",children:[r.jsx("select",{value:v,onChange:b=>k(b.target.value),required:!0,children:t.map(b=>r.jsx("option",{value:b,children:b},b))}),r.jsx("button",{type:"button",className:"add-category-btn",onClick:()=>w(!0),children:"+ "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"date",value:C,onChange:b=>_(b.target.value),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",value:E,onChange:b=>I(b.target.value),placeholder:"..."})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:s,children:""})})]})}),Gc="sdvig_finance_transactions_visible";function bx(){const{state:e,dispatch:t}=Ct(),[n,s]=f.useState(!1),[l,o]=f.useState(!1),[a,i]=f.useState(null),[c,u]=f.useState("expense"),m=f.useRef(null),[d,h]=f.useState(!1),y=f.useRef(null),[j,v]=f.useState(!1),[k,x]=f.useState(()=>{const T=localStorage.getItem(Gc);return T!==null?T==="true":!0});f.useEffect(()=>{localStorage.setItem(Gc,String(k))},[k]);const p=f.useMemo(()=>{const T={};return e.wallets.forEach(R=>{T[R.currency]=(T[R.currency]||0)+R.balance}),T},[e.wallets]),g=f.useMemo(()=>[...e.transactions].sort((T,R)=>{const Q=T.createdAt||T.date;return(R.createdAt||R.date).localeCompare(Q)}),[e.transactions]),w=f.useMemo(()=>ex(g),[g]),C=f.useMemo(()=>e.transactions.filter(T=>T.type==="expense"&&q0(T.date)).reduce((T,R)=>T+R.amount,0),[e.transactions]),_=f.useMemo(()=>e.transactions.filter(T=>T.type==="expense"&&Hc(T.date)).reduce((T,R)=>T+R.amount,0),[e.transactions]),E=f.useMemo(()=>{const T={};return e.transactions.filter(R=>R.type==="expense"&&Hc(R.date)).forEach(R=>{T[R.category]=(T[R.category]||0)+R.amount}),Object.entries(T).sort(([,R],[,Q])=>Q-R).slice(0,3)},[e.transactions]),I=T=>{t({type:"ADD_TRANSACTION",payload:T}),s(!1)},L=T=>{confirm(" ?")&&t({type:"DELETE_TRANSACTION",payload:T})},F=T=>{t(a?{type:"UPDATE_WALLET",payload:T}:{type:"ADD_WALLET",payload:T}),o(!1),i(null)},K=T=>{if(e.wallets.length<=1){alert("   ");return}confirm(" ?      .")&&t({type:"DELETE_WALLET",payload:T})},Y=(T,R="RUB")=>{const Q=dt[R]||"";return new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:2}).format(T)+" "+Q},V=T=>e.wallets.find(R=>R.id===T),oe=T=>{const R=V(T.walletId);if(T.type==="transfer"){const D=V(T.toWalletId||""),z=T.toAmount||T.amount;let G="";return T.time&&(G=`${T.time}  ${G}`),T.comment&&(G=T.time?`${T.time}  ${T.comment}`:T.comment),{title:`${(R==null?void 0:R.name)||"?"}  ${(D==null?void 0:D.name)||"?"}`,subtitle:G,amountFrom:Y(T.amount,R==null?void 0:R.currency),amountTo:Y(z,D==null?void 0:D.currency),color:(R==null?void 0:R.color)||"#6B7280",wallet:R,toWallet:D,isTransfer:!0}}const Q=T.time?`${T.time}  ${T.category}`:T.category;return{title:(R==null?void 0:R.name)||" ",subtitle:Q,amount:(T.type==="income"?"+":"-")+Y(T.amount,R==null?void 0:R.currency),color:(R==null?void 0:R.color)||"#6B7280",wallet:R,isTransfer:!1}};return r.jsxs(Yt,{title:"",children:[r.jsx("div",{className:"wallets-scroll",children:r.jsxs("div",{className:"wallets-container",children:[e.wallets.map(T=>r.jsxs("div",{className:"wallet-card",style:{borderColor:T.color},onClick:()=>{i(T),o(!0)},children:[r.jsx("div",{className:"wallet-card-icon",style:{backgroundColor:T.color+"20",color:T.color},children:r.jsx(ft,{icon:T.icon,color:T.color})}),r.jsxs("div",{className:"wallet-card-info",children:[r.jsx("span",{className:"wallet-card-name",children:T.name}),r.jsx("span",{className:"wallet-card-balance",children:Y(T.balance,T.currency)})]})]},T.id)),r.jsxs("button",{className:"wallet-card wallet-add-card",onClick:()=>{i(null),o(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),r.jsx("span",{children:""})]})]})}),r.jsx("div",{className:"total-balances",children:Object.entries(p).map(([T,R])=>r.jsxs("div",{className:"total-balance-item",children:[r.jsxs("span",{className:"total-balance-label",children:[" ",T]}),r.jsx("span",{className:"total-balance-value",children:Y(R,T)})]},T))}),r.jsxs("div",{className:"analytics-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"analytics-cards",children:[r.jsxs("div",{className:"analytics-card",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("span",{className:"analytics-value",children:Y(C)})]}),r.jsxs("div",{className:"analytics-card",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("span",{className:"analytics-value",children:Y(_)})]})]}),E.length>0&&r.jsxs("div",{className:"top-categories",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("div",{className:"category-list",children:E.map(([T,R])=>r.jsxs("div",{className:"category-item",children:[r.jsx("span",{children:T}),r.jsx("span",{children:Y(R)})]},T))})]})]}),r.jsxs("button",{className:"add-transaction-btn btn btn-primary filled",onClick:()=>{u("expense"),s(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),r.jsxs("button",{className:"transfer-btn btn",onClick:()=>{u("transfer"),s(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M7 16l-4-4m0 0l4-4m-4 4h18"}),r.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})]}),""]}),r.jsx("div",{className:"transactions-section",children:g.length===0?r.jsxs(r.Fragment,{children:[r.jsx("h3",{children:" "}),r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),r.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})})]}):r.jsxs("div",{className:"archive-section",children:[r.jsxs("button",{className:"archive-toggle",onClick:()=>x(!k),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`archive-icon ${k?"open":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),r.jsx("span",{children:" "}),r.jsx("span",{className:"archive-count",children:g.length})]}),k&&r.jsx("div",{className:"transactions-list",children:Object.entries(w).sort(([T],[R])=>R.localeCompare(T)).map(([T,R])=>r.jsxs("div",{className:"transactions-group",children:[r.jsx("div",{className:"transactions-date",children:tx(T)}),R.map(Q=>{const D=oe(Q);return r.jsxs("div",{className:"transaction-item",children:[r.jsx("div",{className:"transaction-color-indicator",style:{backgroundColor:D.color}}),r.jsxs("div",{className:"transaction-info",children:[D.isTransfer?r.jsxs("div",{className:"transaction-title-row transfer-row",children:[r.jsx("div",{className:"transfer-from-part",children:D.wallet&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:D.wallet.color+"20",color:D.wallet.color},children:r.jsx(ft,{icon:D.wallet.icon,color:D.wallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:D.wallet.name||"?"})]})}),r.jsx("span",{className:"transfer-arrow",children:""}),r.jsx("div",{className:"transfer-to-part",children:D.toWallet&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:D.toWallet.color+"20",color:D.toWallet.color},children:r.jsx(ft,{icon:D.toWallet.icon,color:D.toWallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:D.toWallet.name||"?"})]})})]}):r.jsxs("div",{className:"transaction-title-row",children:[D.wallet&&r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:D.wallet.color+"20",color:D.wallet.color},children:r.jsx(ft,{icon:D.wallet.icon,color:D.wallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:D.title})]}),r.jsx("span",{className:"transaction-wallet",children:D.subtitle})]}),r.jsxs("div",{className:"transaction-right",children:[D.isTransfer?r.jsxs("div",{className:"transfer-amounts",children:[r.jsxs("span",{className:"transaction-amount transfer-from",children:["-",D.amountFrom]}),r.jsxs("span",{className:"transaction-amount transfer-to",children:["+",D.amountTo]})]}):r.jsx("span",{className:`transaction-amount ${Q.type}`,children:D.amount}),r.jsx("button",{className:"transaction-delete",onClick:()=>L(Q.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},Q.id)})]},T))})]})}),r.jsx(Ne,{isOpen:n,onClose:()=>{s(!1),v(!1)},onRequestClose:()=>{var T;if((T=y.current)!=null&&T.hasChanges){v(!0);return}s(!1)},hasChanges:j,onSave:()=>{y.current&&y.current.save()},confirmMessage:"",title:" ",size:"lg",children:r.jsx(Mx,{ref:y,wallets:e.wallets,categories:e.categories,onChangesChange:v,onSave:T=>{I(T),setTimeout(()=>{s(!1),v(!1)},0)},onCancel:()=>{s(!1),v(!1)},onAddCategory:T=>t({type:"ADD_CATEGORY",payload:T}),isOpen:n,initialTab:c})}),r.jsxs(Ne,{isOpen:l,onClose:()=>{o(!1),i(null),h(!1)},onRequestClose:()=>{var T;if((T=m.current)!=null&&T.hasChanges){h(!0);return}o(!1),i(null)},hasChanges:d,onSave:()=>{m.current&&m.current.save()},confirmMessage:"",title:a?" ":" ",size:"lg",children:[r.jsx(Dx,{ref:m,wallet:a,onChangesChange:h,onSave:T=>{F(T),o(!1),i(null),h(!1)},onCancel:()=>{o(!1),i(null),h(!1)}}),a&&r.jsx("div",{className:"wallet-form-delete",children:r.jsx("button",{className:"btn btn-danger",onClick:()=>{K(a.id),o(!1),i(null)},children:" "})})]})]})}const _x=[{value:null,label:" "},{value:5,label:"5 "},{value:15,label:"15 "},{value:30,label:"30 "},{value:60,label:"1 "}],Bf=f.forwardRef(({task:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.title)||""),[i,c]=f.useState((e==null?void 0:e.date)||""),[u,m]=f.useState((e==null?void 0:e.priority)||"normal"),[d,h]=f.useState((e==null?void 0:e.timeEstimate)||null),y=f.useMemo(()=>e?{title:e.title,date:e.date||"",priority:e.priority||"normal",timeEstimate:e.timeEstimate||null}:{title:"",date:"",priority:"normal",timeEstimate:null},[e]),{hasChanges:j}=kr(y,()=>({title:o,date:i,priority:u,timeEstimate:d}));f.useEffect(()=>{s&&s(j)},[j,s]);const v=()=>{o.trim()&&t({id:(e==null?void 0:e.id)||Re(),title:o.trim(),completed:(e==null?void 0:e.completed)||!1,date:i||void 0,priority:u,timeEstimate:d||void 0,parentId:e==null?void 0:e.parentId,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString()})};f.useImperativeHandle(l,()=>({hasChanges:j,save:v}),[j,o,i,u,d]);const k=x=>{x.preventDefault(),v()};return r.jsxs("form",{className:"form",onSubmit:k,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),placeholder:"  ?",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"date",value:i,onChange:x=>c(x.target.value),min:_t()}),r.jsx("p",{className:"form-hint",children:'   "-"'})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"priority-toggle",children:[r.jsx("button",{type:"button",className:`priority-btn ${u==="normal"?"active":""}`,onClick:()=>m("normal"),children:""}),r.jsx("button",{type:"button",className:`priority-btn important ${u==="important"?"active":""}`,onClick:()=>m("important"),children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("div",{className:"time-estimates",children:_x.map(x=>r.jsx("button",{type:"button",className:`time-btn ${d===x.value?"active":""}`,onClick:()=>h(x.value),children:x.label},x.value||"none"))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})});function Rx({task:e,existingSubtasks:t=[],onSave:n,onClose:s}){const[l,o]=f.useState([]);f.useEffect(()=>{t.length>0?o(t.map(m=>m.title)):o([""])},[t]);const a=(m,d)=>{const h=[...l];h[m]=d,o(h)},i=()=>{o([...l,""])},c=m=>{const d=l.filter((h,y)=>y!==m);if(d.length===1&&!d[0].trim()){n(e,[]),s();return}if(d.length===0){n(e,[]),s();return}o(d)},u=m=>{m.preventDefault();const d=l.filter(h=>h.trim());if(d.length===0){n(e,[]),s();return}n(e,d)};return r.jsx(Ne,{isOpen:!0,onClose:s,title:" ",children:r.jsxs("div",{className:"breakdown-content",children:[r.jsxs("div",{className:"breakdown-task",children:[r.jsx("span",{className:"breakdown-label",children:":"}),r.jsx("span",{className:"breakdown-title",children:e.title})]}),r.jsx("p",{className:"breakdown-hint",children:"    .     ?"}),r.jsxs("form",{className:"form breakdown-form",onSubmit:u,children:[r.jsx("div",{className:"breakdown-subtasks-list",children:l.map((m,d)=>r.jsxs("div",{className:"form-group subtask-input-group",children:[r.jsx("input",{type:"text",value:m,onChange:h=>a(d,h.target.value),placeholder:` ${d+1}`,autoFocus:d===l.length-1}),r.jsx("button",{type:"button",className:"subtask-remove-btn",onClick:()=>c(d),title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]},d))}),r.jsxs("div",{className:"breakdown-footer",children:[r.jsxs("button",{type:"button",className:"add-subtask-btn",onClick:i,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn",onClick:s,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",disabled:l.length===0,children:t.length>0?" ":" "})]})]})]})]})})}function ka({icon:e,color:t="currentColor",size:n=24}){return{book:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M4 19.5A2.5 2.5 0 016.5 17H20"}),r.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"})]}),coding:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"16 18 22 12 16 6"}),r.jsx("polyline",{points:"8 6 2 12 8 18"})]}),workout:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M6.5 6.5L17.5 17.5"}),r.jsx("path",{d:"M21.7 7.3l-5-5"}),r.jsx("path",{d:"M7.3 21.7l-5-5"}),r.jsx("path",{d:"M2 12l10 10"}),r.jsx("path",{d:"M12 2l10 10"})]}),run:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"5",r:"2"}),r.jsx("path",{d:"M4 17l4-4 2 2 6-6"}),r.jsx("path",{d:"M20 21l-4-4-2 2-6-6"})]}),meditate:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"6",r:"3"}),r.jsx("path",{d:"M12 9v3"}),r.jsx("path",{d:"M7 21c0-4 2.5-6 5-6s5 2 5 6"}),r.jsx("path",{d:"M5 14c1.5-1 3-1.5 4.5-1.5"}),r.jsx("path",{d:"M19 14c-1.5-1-3-1.5-4.5-1.5"})]}),"drink-water":r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 2l6 8.5c1.3 1.8 2 4 2 6.5 0 4.4-3.6 5-8 5s-8-.6-8-5c0-2.5.7-4.7 2-6.5L12 2z"}),r.jsx("path",{d:"M8 14c.5-1 1.5-2 4-2"})]}),sleep:r.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})}),study:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),r.jsx("path",{d:"M6 12v5c0 1.1 2.7 2 6 2s6-.9 6-2v-5"})]}),reading:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),r.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),finance:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),r.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"})]}),clean:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v2"}),r.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),r.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),music:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 18V5l12-2v13"}),r.jsx("circle",{cx:"6",cy:"18",r:"3"}),r.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),walking:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"4",r:"2"}),r.jsx("path",{d:"M15 22v-4l-3-3 1-4 3 3h4"}),r.jsx("path",{d:"M9 22l3-8"}),r.jsx("path",{d:"M9 12l-3-3"})]}),yoga:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"5",r:"2"}),r.jsx("path",{d:"M4 20l4-9h8l4 9"}),r.jsx("path",{d:"M12 7v5"}),r.jsx("path",{d:"M8 12h8"})]}),writing:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 19l7-7 3 3-7 7H12v-3z"}),r.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),r.jsx("path",{d:"M2 2l7.586 7.586"}),r.jsx("circle",{cx:"11",cy:"11",r:"2"})]}),cooking:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M6 13.87A4 4 0 013.67 8H6"}),r.jsx("path",{d:"M6 8V3"}),r.jsx("path",{d:"M10 8V3"}),r.jsx("path",{d:"M14 8V3"}),r.jsx("path",{d:"M17 8h2.33A4 4 0 0117 13.87V21a1 1 0 01-1 1H7a1 1 0 01-1-1v-7.13"})]}),diet:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18 8h1a4 4 0 010 8h-1"}),r.jsx("path",{d:"M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"}),r.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),r.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),r.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),focus:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"no-phone":r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),r.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),r.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}),mood:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),r.jsx("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),r.jsx("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),heart:r.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})})}[e]||null}const Px=["heart","workout","run","meditate","yoga","walking","drink-water","sleep","diet","cooking","clean","mood","focus","no-phone","book","reading","study","writing","coding","music","finance"],Ix=["#0F766E","#13B4FF","#2F04FD","#BB29E8","#FA553F","#FF8C00","#70CB19","#CDEF1E","#CDC94E","#FF5C8D","#EF4444","#06B6D4","#2563EB","#4338CA","#A855F7","#84CC16","#F59E0B","#B45309","#111827","#6B7280","#10B981"];function Kc(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function Ax({records:e,color:t,createdAt:n}){const s=Array.isArray(e)?e:[],l=f.useMemo(()=>{const o=[],a=new Date;a.setHours(0,0,0,0);const i=Kc(a);let c;if(s.length>0){const d=[...s].sort();c=new Date(d[0]+"T00:00:00")}else if(n){const d=new Date(n);isNaN(d.getTime())?c=new Date(a.getFullYear(),a.getMonth(),1):(c=new Date(d),c.setHours(0,0,0,0))}else c=new Date(a.getFullYear(),a.getMonth(),1);let u=new Date(c.getFullYear(),c.getMonth(),1);const m=new Date(a.getFullYear(),a.getMonth(),1);for(;u<=m;){const d=u.getFullYear(),h=u.getMonth(),y=new Date(d,h+1,0).getDate(),j=d===a.getFullYear()&&h===a.getMonth(),v=[];for(let k=1;k<=y;k++){const x=new Date(d,h,k),p=Kc(x),g=j&&p>i;v.push({date:p,day:k,completed:s.includes(p),isFuture:g})}o.push({key:`${d}-${h}`,days:v}),u=new Date(d,h+1,1)}return o},[s,n]);return r.jsx("div",{className:"streak-grid",children:l.map(o=>r.jsx("div",{className:"streak-month",children:r.jsx("div",{className:"streak-row",children:o.days.map(a=>r.jsx("div",{className:`streak-square ${a.completed?"completed":""} ${a.isFuture?"future":""}`,style:{backgroundColor:a.completed?t:"transparent",borderColor:a.completed?t:"var(--border)"},title:`${a.day}  ${a.completed?"":a.isFuture?" ":""}`},a.date))})},o.key))})}function Lx({habit:e,isCompletedToday:t,onToggle:n,onEdit:s,onDelete:l}){const o=e.streak??0,a=e.bestStreak??0,i=Array.isArray(e.records)?e.records:[],c=o===a&&o>0;return r.jsxs("div",{className:`habit-card ${c?"best-streak":""}`,style:{"--habit-color":e.color},children:[r.jsxs("div",{className:"habit-card-header",children:[r.jsx("div",{className:"habit-card-icon",style:{color:e.color},children:r.jsx(ka,{icon:e.icon,color:e.color,size:28})}),r.jsxs("div",{className:"habit-card-info",children:[r.jsx("span",{className:"habit-card-title",children:e.title}),e.description&&r.jsx("span",{className:"habit-card-desc",children:e.description})]}),r.jsx(xr,{checked:t,onChange:n,size:"md",color:e.color})]}),r.jsxs("div",{className:"habit-card-stats",children:[r.jsxs("div",{className:"habit-stat-item",children:[r.jsx("span",{className:"habit-stat-value",style:{color:e.color},children:o}),r.jsx("span",{className:"habit-stat-label",children:" "})]}),r.jsx("div",{className:"habit-stat-divider"}),r.jsxs("div",{className:"habit-stat-item",children:[r.jsx("span",{className:"habit-stat-value",children:a}),r.jsx("span",{className:"habit-stat-label",children:""})]})]}),r.jsx(Ax,{records:i,color:e.color,createdAt:e.createdAt}),r.jsxs("div",{className:"habit-card-actions",children:[r.jsx("button",{className:"habit-action-btn",onClick:s,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"habit-action-btn danger",onClick:l,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})}function Ff({isOpen:e,onClose:t,onSave:n,editingHabit:s}){const[l,o]=f.useState(""),[a,i]=f.useState(""),[c,u]=f.useState("book"),[m,d]=f.useState("#13b4ff");f.useEffect(()=>{e&&(s?(o(s.title),i(s.description||""),u(s.icon),d(s.color)):(o(""),i(""),u("book"),d("#13b4ff")))},[e,s]);const h=f.useMemo(()=>s?{title:s.title,description:s.description||"",icon:s.icon,color:s.color}:{title:"",description:"",icon:"book",color:"#13b4ff"},[s,e]),{hasChanges:y}=kr(h,()=>({title:l,description:a,icon:c,color:m})),j=()=>{if(!l.trim())return;const k={id:(s==null?void 0:s.id)||Re(),title:l.trim(),description:a.trim()||void 0,icon:c,color:m,records:(s==null?void 0:s.records)||[],streak:(s==null?void 0:s.streak)||0,bestStreak:(s==null?void 0:s.bestStreak)||0,createdAt:(s==null?void 0:s.createdAt)||new Date().toISOString()};n(k),t()},v=()=>{t()};return r.jsx(Ne,{isOpen:e,onClose:v,onRequestClose:()=>{y||t()},hasChanges:y,onSave:j,confirmMessage:"",title:s?" ":" ",children:r.jsxs("div",{className:"create-habit-form",children:[r.jsx("div",{className:"habit-form-group",children:r.jsx("input",{type:"text",className:"habit-title-input",placeholder:" ",value:l,onChange:k=>o(k.target.value),autoFocus:!0})}),r.jsx("div",{className:"habit-form-group",children:r.jsx("input",{type:"text",className:"habit-desc-input",placeholder:" ()",value:a,onChange:k=>i(k.target.value)})}),r.jsxs("div",{className:"habit-form-group",children:[r.jsx("label",{className:"habit-form-label",children:""}),r.jsx("div",{className:"habit-icon-grid",children:Px.map(k=>r.jsx("button",{type:"button",className:`habit-icon-btn ${c===k?"active":""}`,onClick:()=>u(k),style:{borderColor:c===k?m:"var(--border)",backgroundColor:c===k?`${m}20`:"transparent"},children:r.jsx(ka,{icon:k,color:c===k?m:"var(--muted)",size:22})},k))})]}),r.jsxs("div",{className:"habit-form-group",children:[r.jsx("label",{className:"habit-form-label",children:""}),r.jsx("div",{className:"habit-color-grid",children:Ix.map(k=>r.jsx("button",{type:"button",className:`habit-color-btn ${m===k?"active":""}`,style:{backgroundColor:k},onClick:()=>d(k),children:m===k&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})},k))})]}),r.jsxs("div",{className:"habit-preview",children:[r.jsx("div",{className:"habit-preview-icon",style:{color:m},children:r.jsx(ka,{icon:c,color:m,size:32})}),r.jsx("span",{className:"habit-preview-title",children:l||""})]}),r.jsx("div",{className:"habit-form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:v,children:""})})]})})}function Bx(){const{state:e,dispatch:t}=Ct(),{showToast:n}=Mf(),[s,l]=f.useState("todo"),[o,a]=f.useState(!1),[i,c]=f.useState(!1),[u,m]=f.useState(null),[d,h]=f.useState(null),[y,j]=f.useState(null),[v,k]=f.useState(!1),[x,p]=f.useState(new Set),g=f.useRef(null),[w,C]=f.useState(!1),_=_t(),E=P=>{p(q=>{const ne=new Set(q);return ne.has(P)?ne.delete(P):ne.add(P),ne})},I=P=>{const q=new Date(P),ne=q.getDate().toString().padStart(2,"0"),se=(q.getMonth()+1).toString().padStart(2,"0"),le=q.getFullYear(),B=q.getHours().toString().padStart(2,"0"),N=q.getMinutes().toString().padStart(2,"0");return`${ne}.${se}.${le}, ${B}:${N}`},L=P=>{const q=new Date(P),se=new Date().getTime()-q.getTime();return Math.floor(se/(1e3*60*60*24))},F=P=>P===0?"0 ":P===1?"1 ":P>=2&&P<=4?`${P} `:`${P} `,K=P=>[...P].sort((q,ne)=>{const se=q.createdAt||"";return(ne.createdAt||"").localeCompare(se)}),Y=f.useMemo(()=>{const P=[],q=[],ne=[];return e.tasks.forEach(se=>{se.parentId||se.completed||(se.date?se.date===_?P.push(se):se.date>_&&q.push(se):ne.push(se))}),{todayTasks:K(P),weekTasks:K(q),somedayTasks:K(ne)}},[e.tasks,_]),V=f.useMemo(()=>K(e.tasks.filter(P=>!P.parentId&&P.completed)),[e.tasks]),oe=P=>e.tasks.filter(q=>q.parentId===P),T=P=>(Array.isArray(P.records)?P.records:[]).includes(_),R=P=>{const q=e.tasks.find(se=>se.id===P),ne=q&&!q.completed;t({type:"TOGGLE_TASK",payload:P}),ne&&(fn(50),n(Yr()))},Q=P=>{confirm(" ?")&&t({type:"DELETE_TASK",payload:P})},D=P=>{t(u?{type:"UPDATE_TASK",payload:P}:{type:"ADD_TASK",payload:P}),a(!1),m(null)},z=P=>{const q=e.habits.find(le=>le.id===P),ne=q&&Array.isArray(q.records)?q.records:[],se=q&&!ne.includes(_);t({type:"TOGGLE_HABIT",payload:{id:P,date:_}}),se&&(fn(50),n(Yr()))},G=P=>{confirm(" ?")&&t({type:"DELETE_HABIT",payload:P})},te=P=>{t(d?{type:"UPDATE_HABIT",payload:P}:{type:"ADD_HABIT",payload:P}),c(!1),h(null)},ce=(P,q)=>{const ne=oe(P.id),se=q.filter(B=>B.trim()),le=new Map;ne.forEach(B=>{le.set(B.title,B)}),ne.forEach(B=>{t({type:"DELETE_TASK",payload:B.id})}),se.forEach(B=>{const N=B.trim(),S=le.get(N);t({type:"ADD_TASK",payload:{id:Re(),title:N,completed:(S==null?void 0:S.completed)||!1,date:P.date,priority:"normal",parentId:P.id,createdAt:(S==null?void 0:S.createdAt)||new Date().toISOString(),completedAt:S==null?void 0:S.completedAt}})}),j(null)},pe=(P,q=!1)=>{const ne=oe(P.id),se=x.has(P.id),le=ne.length>3;return r.jsxs("div",{className:"task-item-wrapper",children:[r.jsxs("div",{className:`task-item ${P.priority==="important"?"important":""} ${q?"archived":""}`,children:[r.jsx(xr,{checked:P.completed,onChange:()=>R(P.id)}),r.jsxs("div",{className:"task-content",children:[r.jsx("span",{className:P.completed?"line-through":"",children:P.title}),P.timeEstimate&&r.jsxs("span",{className:"task-estimate",children:[P.timeEstimate," "]}),P.createdAt&&r.jsxs("span",{className:"task-created",children:[": ",I(P.createdAt),"  ",F(L(P.createdAt))," "]}),P.completedAt&&r.jsxs("span",{className:"task-completed-at",children:[": ",I(P.completedAt)]})]}),!q&&r.jsxs("div",{className:"task-actions",children:[r.jsx("button",{className:"btn-icon",title:"",onClick:()=>j(P),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"8",y1:"9",x2:"16",y2:"9"}),r.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),r.jsx("line",{x1:"8",y1:"15",x2:"16",y2:"15"})]})}),r.jsx("button",{className:"btn-icon",onClick:()=>{m(P),a(!0)},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"btn-icon text-danger",onClick:()=>Q(P.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]}),q&&r.jsx("button",{className:"btn-icon text-danger",onClick:()=>Q(P.id),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]}),ne.length>0&&!q&&r.jsxs("div",{className:"subtasks",children:[r.jsx("div",{className:`subtasks-content ${le&&!se?"subtasks-collapsed":""}`,children:ne.map(B=>r.jsxs("div",{className:"subtask-item",children:[r.jsx(xr,{checked:B.completed,onChange:()=>R(B.id),size:"sm"}),r.jsx("span",{className:B.completed?"line-through":"",children:B.title})]},B.id))}),le&&r.jsx("button",{className:"subtasks-toggle",onClick:()=>E(P.id),children:se?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"18 15 12 9 6 15"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:" "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]})})]})]},P.id)},ge=Y.todayTasks.length>0||Y.weekTasks.length>0||Y.somedayTasks.length>0;return r.jsxs(Yt,{title:"",children:[r.jsxs("div",{className:"tabs",children:[r.jsx("button",{className:`tab ${s==="todo"?"active":""}`,onClick:()=>l("todo"),children:"To-Do"}),r.jsx("button",{className:`tab ${s==="habits"?"active":""}`,onClick:()=>l("habits"),children:""})]}),s==="todo"?r.jsxs("div",{className:"todo-content",children:[r.jsxs("button",{className:"add-item-btn",onClick:()=>a(!0),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),!ge&&V.length===0?r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]})}):r.jsxs(r.Fragment,{children:[Y.todayTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"task-list",children:Y.todayTasks.map(P=>pe(P))})]}),Y.weekTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"task-list",children:Y.weekTasks.map(P=>pe(P))})]}),Y.somedayTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:"-"}),r.jsx("div",{className:"task-list",children:Y.somedayTasks.map(P=>pe(P))})]}),V.length>0&&r.jsxs("div",{className:"archive-section",children:[r.jsxs("button",{className:"archive-toggle",onClick:()=>k(!v),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`archive-icon ${v?"open":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),r.jsx("span",{children:" "}),r.jsx("span",{className:"archive-count",children:V.length})]}),v&&r.jsx("div",{className:"archive-list",children:V.map(P=>pe(P,!0))})]})]})]}):r.jsxs("div",{className:"habits-content",children:[r.jsxs("button",{className:"add-item-btn",onClick:()=>{h(null),c(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),e.habits.length===0?r.jsx(vr,{title:" ",text:"      ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),r.jsx("path",{d:"M12 6v6l4 2"})]})}):r.jsx("div",{className:"habits-list",children:e.habits.map(P=>r.jsx(Lx,{habit:P,isCompletedToday:T(P),onToggle:()=>z(P.id),onEdit:()=>{h(P),c(!0)},onDelete:()=>G(P.id)},P.id))})]}),r.jsx(Ne,{isOpen:o,onClose:()=>{a(!1),m(null),C(!1)},onRequestClose:()=>{var P;if((P=g.current)!=null&&P.hasChanges){C(!0);return}a(!1),m(null)},hasChanges:w,onSave:()=>{g.current&&g.current.save()},confirmMessage:"",title:u?" ":" ",children:r.jsx(Bf,{ref:g,task:u,onChangesChange:C,onSave:P=>{D(P),a(!1),m(null),C(!1)},onCancel:()=>{a(!1),m(null),C(!1)}})}),r.jsx(Ff,{isOpen:i,onClose:()=>{c(!1),h(null)},onSave:te,editingHabit:d}),y&&r.jsx(Rx,{task:y,existingSubtasks:oe(y.id),onSave:ce,onClose:()=>j(null)})]})}const jo=e=>{const t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${t}:${n}`};function Fx(){var B;const{state:e,dispatch:t}=Ct(),[n,s]=f.useState(""),[l,o]=f.useState(!1),[a,i]=f.useState(""),[c,u]=f.useState(!1),[m,d]=f.useState(null),[h,y]=f.useState(!1),j=f.useRef(null),v=f.useRef(null),[k,x]=f.useState("inbox"),[p,g]=f.useState(null),[w,C]=f.useState(null),[_,E]=f.useState(!1),[I,L]=f.useState(!1),[F,K]=f.useState(null),[Y,V]=f.useState(null),[oe,T]=f.useState(null),R=f.useRef(0),Q=f.useRef(0),D=f.useRef(null),[z,G]=f.useState({}),te=f.useMemo(()=>[...e.folders].sort((N,S)=>N.order-S.order),[e.folders]),ce=f.useMemo(()=>{let N=e.ideas.filter(S=>S.status!=="archived");if(k==="inbox"||k===null?N=N.filter(S=>!S.folderId||S.folderId==="inbox"):N=N.filter(S=>S.folderId===k),n.trim()){const S=n.toLowerCase();N=N.filter(A=>{const H=(A.title||"").toLowerCase(),ee=A.text.toLowerCase(),O=A.tags.join(" ").toLowerCase();return H.includes(S)||ee.includes(S)||O.includes(S)})}return N.sort((S,A)=>S.isPinned&&!A.isPinned?-1:!S.isPinned&&A.isPinned?1:new Date(A.createdAt).getTime()-new Date(S.createdAt).getTime())},[e.ideas,k,n]);f.useEffect(()=>{const N=S=>{v.current&&!v.current.contains(S.target)&&y(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),f.useEffect(()=>{const N=S=>{const A=S.target;l&&!A.closest(".inbox-search-container")&&(n.trim()||o(!1))};if(l){const S=setTimeout(()=>{document.addEventListener("mousedown",N)},100);return()=>{clearTimeout(S),document.removeEventListener("mousedown",N)}}},[l,n]);const pe=N=>{const S=/#(\w+)/g,A=N.matchAll(S);return Array.from(A,H=>H[1])},ge=N=>{if(N.preventDefault(),!a.trim())return;const S=pe(a),H=a.trim().split(`
`).filter(X=>X.trim()),ee=H[0]&&H[0].length>50?void 0:H[0],O=H.length>1?H.slice(1).join(`
`):H[0]||"",W={id:Re(),title:ee||void 0,text:O||"",tags:S,folderId:m||null,isPinned:!1,status:"inbox",createdAt:new Date().toISOString()};t({type:"ADD_IDEA",payload:W}),i(""),d(null),u(!1),y(!1)},P=(N,S)=>{R.current=S.touches[0].clientX,Q.current=S.touches[0].clientX,D.current=N},q=N=>{if(D.current===null)return;Q.current=N.touches[0].clientX;const S=Q.current-R.current,A=80;G({...z,[D.current]:Math.max(-A,Math.min(A,S))})},ne=N=>{if(D.current!==N)return;const S=z[N]||0;if(S<-50)t({type:"DELETE_IDEA",payload:N});else if(S>50){const A=e.ideas.find(H=>H.id===N);A&&(A.isPinned?g(A):t({type:"TOGGLE_IDEA_PIN",payload:N}))}G({...z,[N]:0}),D.current=null},se=N=>{const S=new Date(N),A=new Date,H=new Date(A.getFullYear(),A.getMonth(),A.getDate()),ee=new Date(S.getFullYear(),S.getMonth(),S.getDate());if(ee.getTime()===H.getTime())return`, ${jo(S)}`;const O=new Date(H);return O.setDate(O.getDate()-1),ee.getTime()===O.getTime()?`, ${jo(S)}`:`${fe(S)} ${jo(S)}`},le=()=>{E(!0)};return r.jsxs(Yt,{title:"",children:[r.jsxs("div",{className:"inbox-header",children:[r.jsx("div",{className:"inbox-header-top",children:r.jsxs("div",{className:"inbox-search-container",children:[l&&r.jsxs("div",{className:"inbox-search-input-wrapper",children:[r.jsx("input",{type:"text",className:"inbox-search-input",placeholder:" ...",value:n,onChange:N=>s(N.target.value),autoFocus:!0,onBlur:N=>{const S=N.relatedTarget;(!S||!S.closest(".inbox-search-clear")&&!S.closest(".inbox-search-btn"))&&setTimeout(()=>{const A=document.activeElement;(!A||A!==N.target&&!A.closest(".inbox-search-container"))&&(n.trim()||o(!1))},150)}}),n&&r.jsx("button",{type:"button",className:"inbox-search-clear",onClick:N=>{N.preventDefault(),N.stopPropagation(),s("");const S=document.querySelector(".inbox-search-input");S==null||S.focus()},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("button",{className:"inbox-search-btn",onClick:N=>{if(N.preventDefault(),N.stopPropagation(),!l)o(!0),setTimeout(()=>{const S=document.querySelector(".inbox-search-input");S==null||S.focus()},100);else if(n.trim()){s("");const S=document.querySelector(".inbox-search-input");S==null||S.focus()}else o(!1)},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),r.jsx("div",{className:"inbox-folders-scroll",children:r.jsxs("div",{className:"inbox-folders",children:[r.jsxs("button",{className:`inbox-folder-chip ${k==="inbox"||k===null?"active":""}`,onClick:()=>x("inbox"),children:[r.jsx("span",{className:"inbox-folder-icon",children:""}),r.jsx("span",{className:"inbox-folder-name",children:""})]}),te.filter(N=>N.id!=="inbox").map(N=>r.jsxs("div",{className:"inbox-folder-chip-wrapper",children:[r.jsxs("button",{className:`inbox-folder-chip ${k===N.id?"active":""}`,onClick:()=>x(N.id),children:[r.jsx("span",{className:"inbox-folder-dot",style:{backgroundColor:N.color}}),r.jsx("span",{className:"inbox-folder-icon",children:N.icon}),r.jsx("span",{className:"inbox-folder-name",children:N.name})]}),r.jsx("button",{className:"inbox-folder-edit-btn",onClick:S=>{S.stopPropagation(),K(N)},title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]},N.id)),r.jsx("button",{className:"inbox-folder-chip inbox-folder-add",onClick:()=>L(!0),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})})]}),r.jsx("div",{className:`inbox-input-wrapper ${c?"focused":""}`,children:r.jsxs("form",{onSubmit:ge,className:"inbox-smart-input",children:[r.jsx("textarea",{ref:j,className:"inbox-smart-textarea",value:a,onChange:N=>i(N.target.value),onFocus:()=>u(!0),onBlur:N=>{const S=N.relatedTarget,A=(S==null?void 0:S.closest(".inbox-input-controls"))||(S==null?void 0:S.closest(".inbox-folder-select-wrapper"))||(S==null?void 0:S.closest("label[for]"))||(S==null?void 0:S.tagName)==="INPUT"&&S.getAttribute("type")==="file";setTimeout(()=>{const H=document.activeElement;(!H||!H.closest(".inbox-input-controls")&&!H.closest(".inbox-folder-select-wrapper")&&!A)&&u(!1)},200)},placeholder:" ... (#   )",rows:c?4:2}),c&&r.jsxs("div",{className:"inbox-input-controls",children:[r.jsx("div",{className:"inbox-input-buttons",children:r.jsxs("div",{className:"inbox-folder-select-wrapper",ref:v,children:[r.jsxs("button",{type:"button",className:"inbox-input-btn",onMouseDown:N=>{N.preventDefault(),N.stopPropagation(),y(!h)},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),r.jsx("span",{children:((B=te.find(N=>N.id===(m||"inbox")))==null?void 0:B.name)||""}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"12px",height:"12px",marginLeft:"4px"},children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),h&&r.jsxs("div",{className:"inbox-folder-select-dropdown",onMouseDown:N=>N.stopPropagation(),children:[r.jsxs("button",{type:"button",className:`inbox-folder-select-item ${m===null?"active":""}`,onMouseDown:N=>{N.preventDefault(),N.stopPropagation(),d(null),y(!1)},children:[r.jsx("span",{className:"inbox-folder-select-icon",children:""}),r.jsx("span",{children:""})]}),te.filter(N=>N.id!=="inbox").map(N=>r.jsxs("button",{type:"button",className:`inbox-folder-select-item ${m===N.id?"active":""}`,onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),d(N.id),y(!1)},children:[r.jsx("span",{className:"inbox-folder-select-dot",style:{backgroundColor:N.color}}),r.jsx("span",{className:"inbox-folder-select-icon",children:N.icon}),r.jsx("span",{children:N.name})]},N.id))]})]})}),r.jsx("button",{type:"submit",className:"btn btn-primary filled inbox-save-btn",disabled:!a.trim(),children:""})]})]})}),r.jsx("div",{className:"inbox-notes-list",children:ce.length===0?r.jsx(vr,{title:n?"  ":"",text:n?"  ":"  ",icon:""}):r.jsx("div",{className:"inbox-notes-grid",children:ce.map(N=>{var ee,O,W,X;const S=z[N.id]||0,A=S<0,H=S>0;return r.jsxs("div",{className:`inbox-note-card ${N.isPinned?"pinned":""}`,onTouchStart:b=>P(N.id,b),onTouchMove:q,onTouchEnd:()=>ne(N.id),style:{transform:`translateX(${S}px)`,transition:D.current===N.id?"none":"transform 0.2s ease"},children:[A&&r.jsx("div",{className:"inbox-swipe-indicator left",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),H&&r.jsx("div",{className:"inbox-swipe-indicator right",children:N.isPinned?r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})}):r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})})}),r.jsxs("div",{className:"inbox-note-content",onClick:()=>g(N),children:[N.isPinned&&r.jsx("div",{className:"inbox-note-pin",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})})}),N.title&&r.jsx("h3",{className:"inbox-note-title",children:N.title}),N.imageBase64&&r.jsx("div",{className:"inbox-note-image",children:r.jsx("img",{src:N.imageBase64,alt:""})}),N.text&&r.jsx("p",{className:"inbox-note-text",children:N.text.split(/(#\w+)/g).map((b,re)=>b.startsWith("#")?r.jsxs("span",{className:"inbox-note-tag-inline",children:["#",b.slice(1)]},re):r.jsx("span",{children:b},re))}),r.jsxs("div",{className:"inbox-note-footer",children:[r.jsx("span",{className:"inbox-note-date",children:se(N.createdAt)}),N.folderId&&N.folderId!=="inbox"&&r.jsxs("span",{className:"inbox-note-folder",style:{backgroundColor:((ee=te.find(b=>b.id===N.folderId))==null?void 0:ee.color)+"20",color:(O=te.find(b=>b.id===N.folderId))==null?void 0:O.color},children:[(W=te.find(b=>b.id===N.folderId))==null?void 0:W.icon," ",(X=te.find(b=>b.id===N.folderId))==null?void 0:X.name]})]})]})]},N.id)})})}),ce.length>5&&r.jsx("button",{className:"inbox-fab",onClick:le,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})})}),r.jsx(Ne,{isOpen:_,onClose:()=>E(!1),title:" ",size:"lg",children:r.jsx($x,{onSave:N=>{t({type:"ADD_IDEA",payload:N}),E(!1)},onCancel:()=>E(!1),folders:te})}),r.jsx(Ne,{isOpen:!!p,onClose:()=>g(null),title:"  ",children:p&&r.jsx(Ux,{idea:p,folders:te,onEdit:N=>{C(N),g(null)},onDelete:N=>{V(N),g(null)},onTogglePin:N=>{t({type:"TOGGLE_IDEA_PIN",payload:N})},onMoveToFolder:(N,S)=>{t({type:"MOVE_IDEA_TO_FOLDER",payload:{id:N,folderId:S}}),g(null)},onAddToTodo:N=>{t({type:"ADD_TASK",payload:{id:Re(),title:N.title||N.text,completed:!1,priority:"normal"}}),t({type:"UPDATE_IDEA",payload:{...N,status:"archived"}}),g(null)},onAddToSchedule:N=>{const S=new Date,A=new Date(S);A.setHours(9,0,0,0);const H=new Date(A);H.setHours(A.getHours()+1),t({type:"ADD_EVENT",payload:{id:Re(),title:N.title||N.text,startTime:A,endTime:H,color:"#4285F4",completed:!1}}),t({type:"UPDATE_IDEA",payload:{...N,status:"archived"}}),g(null)}})}),r.jsx(Ne,{isOpen:!!w,onClose:()=>C(null),title:" ",size:"lg",children:w&&r.jsx(Ox,{idea:w,onSave:N=>{t({type:"UPDATE_IDEA",payload:N}),C(null)},onCancel:()=>C(null),folders:te})}),r.jsx(Ne,{isOpen:!!Y,onClose:()=>V(null),title:" ?",children:Y&&r.jsxs("div",{className:"delete-confirm-modal",children:[r.jsx("p",{children:" ,     ?    ."}),Y.title&&r.jsx("p",{className:"delete-confirm-preview",children:r.jsx("strong",{children:Y.title})}),Y.text&&r.jsx("p",{className:"delete-confirm-preview",children:Y.text}),r.jsxs("div",{className:"delete-confirm-actions",children:[r.jsx("button",{className:"btn text-danger",onClick:()=>V(null),children:""}),r.jsx("button",{className:"btn btn-danger filled",onClick:()=>{t({type:"DELETE_IDEA",payload:Y.id}),V(null)},children:""})]})]})}),r.jsx(Ne,{isOpen:I,onClose:()=>L(!1),title:" ",children:r.jsx(Qc,{folder:null,onSave:N=>{t({type:"ADD_FOLDER",payload:N}),L(!1)},onCancel:()=>L(!1),onDelete:null})}),r.jsx(Ne,{isOpen:!!F,onClose:()=>K(null),title:" ",children:F&&r.jsx(Qc,{folder:F,onSave:N=>{t({type:"UPDATE_FOLDER",payload:N}),K(null)},onCancel:()=>K(null),onDelete:N=>{T(N),K(null)}})}),r.jsx(Ne,{isOpen:!!oe,onClose:()=>T(null),title:" ?",children:oe&&r.jsxs("div",{className:"delete-confirm-modal",children:[r.jsxs("p",{children:[' ,     "',oe.name,'"?         .']}),r.jsxs("div",{className:"delete-confirm-actions",children:[r.jsx("button",{className:"btn text-danger",onClick:()=>T(null),children:""}),r.jsx("button",{className:"btn btn-danger filled",onClick:()=>{t({type:"DELETE_FOLDER",payload:oe.id}),T(null)},children:""})]})]})})]})}function Ox({idea:e,onSave:t,onCancel:n,folders:s}){const[l,o]=f.useState(e.title||""),[a,i]=f.useState(e.text||""),[c,u]=f.useState(e.folderId||null),m=h=>{const y=/#(\w+)/g,j=h.matchAll(y);return Array.from(j,v=>v[1])},d=h=>{if(h.preventDefault(),!a.trim())return;const y=m(a),v=a.trim().split(`
`).filter(g=>g.trim()),k=l.trim()||void 0,x=v.length>1?v.slice(1).join(`
`):v[0]||"",p={...e,title:k,text:x||"",tags:y,folderId:c||null,updatedAt:new Date().toISOString()};t(p)};return r.jsxs("form",{onSubmit:d,className:"full-note-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",className:"form-input",value:l,onChange:h=>o(h.target.value),placeholder:" ..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("textarea",{className:"form-textarea",value:a,onChange:h=>i(h.target.value),placeholder:" ... (#   )",rows:6,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("select",{className:"form-select",value:c||"inbox",onChange:h=>u(h.target.value==="inbox"?null:h.target.value),children:s.map(h=>r.jsxs("option",{value:h.id,children:[h.icon," ",h.name]},h.id))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:""})]})]})}function $x({onSave:e,onCancel:t,folders:n}){const[s,l]=f.useState(""),[o,a]=f.useState(""),[i,c]=f.useState(null),u=d=>{const h=/#(\w+)/g,y=d.matchAll(h);return Array.from(y,j=>j[1])},m=d=>{if(d.preventDefault(),!o.trim())return;const h=u(o),j=o.trim().split(`
`).filter(p=>p.trim()),v=s.trim()||void 0,k=j.length>1?j.slice(1).join(`
`):j[0]||"",x={id:Re(),title:v,text:k||"",tags:h,folderId:i||null,isPinned:!1,status:"inbox",createdAt:new Date().toISOString()};e(x)};return r.jsxs("form",{onSubmit:m,className:"full-note-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",className:"form-input",value:s,onChange:d=>l(d.target.value),placeholder:" ..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("textarea",{className:"form-textarea",value:o,onChange:d=>a(d.target.value),placeholder:" ... (#   )",rows:6,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("select",{className:"form-select",value:i||"inbox",onChange:d=>c(d.target.value==="inbox"?null:d.target.value),children:n.map(d=>r.jsxs("option",{value:d.id,children:[d.icon," ",d.name]},d.id))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:t,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:""})]})]})}function Wx({idea:e,folders:t,onMove:n}){const[s,l]=f.useState(!1),o=f.useRef(null);return f.useEffect(()=>{const a=i=>{o.current&&!o.current.contains(i.target)&&l(!1)};if(s)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[s]),r.jsxs("div",{className:"move-folder-wrapper",ref:o,children:[r.jsxs("button",{className:"idea-action-btn",onClick:()=>l(!s),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),r.jsx("span",{children:"  "})]}),s&&r.jsxs("div",{className:"move-folder-menu",children:[r.jsxs("button",{type:"button",className:`move-folder-menu-item ${!e.folderId||e.folderId==="inbox"?"active":""}`,onClick:()=>{n(null),l(!1)},children:[r.jsx("span",{children:""}),r.jsx("span",{children:""})]}),t.filter(a=>a.id!=="inbox").map(a=>r.jsxs("button",{type:"button",className:`move-folder-menu-item ${e.folderId===a.id?"active":""}`,onClick:()=>{n(a.id),l(!1)},children:[r.jsx("span",{className:"move-folder-dot",style:{backgroundColor:a.color}}),r.jsx("span",{children:a.icon}),r.jsx("span",{children:a.name})]},a.id))]})]})}function Ux({idea:e,folders:t,onEdit:n,onDelete:s,onTogglePin:l,onMoveToFolder:o,onAddToTodo:a,onAddToSchedule:i}){return r.jsxs("div",{className:"idea-actions-modal",children:[r.jsxs("div",{className:"idea-preview",children:[e.title&&r.jsx("h3",{children:e.title}),e.text&&r.jsx("p",{children:e.text}),e.imageBase64&&r.jsx("img",{src:e.imageBase64,alt:"",style:{maxWidth:"100%",marginTop:"10px"}}),e.tags.length>0&&r.jsx("div",{style:{marginTop:"10px"},children:e.tags.map(c=>r.jsxs("span",{style:{color:"#3B82F6",marginRight:"8px"},children:["#",c]},c))})]}),r.jsxs("div",{className:"idea-action-buttons",children:[r.jsxs("button",{className:"idea-action-btn",onClick:()=>n(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>l(e.id),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})}),r.jsx("span",{children:e.isPinned?"":""})]}),r.jsx(Wx,{idea:e,folders:t,onMove:c=>o(e.id,c)}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>a(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),r.jsx("span",{children:"  To-Do"})]}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>i(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{className:"idea-action-btn danger",onClick:()=>s(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),r.jsx("span",{children:""})]})]})]})}function Qc({folder:e,onSave:t,onCancel:n,onDelete:s}){const[l,o]=f.useState((e==null?void 0:e.name)||""),[a,i]=f.useState((e==null?void 0:e.color)||"#3B82F6"),[c,u]=f.useState((e==null?void 0:e.icon)||""),[m,d]=f.useState(""),h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#6366F1","#F97316","#06B6D4"],y=["","","","","","","","","",""],j=m.trim()||c;f.useEffect(()=>{e&&!y.includes(e.icon)&&(d(e.icon),u(""))},[e]);const v=k=>{if(k.preventDefault(),!l.trim())return;const x=e?{...e,name:l.trim(),color:a,icon:j}:{id:Re(),name:l.trim(),color:a,icon:j,order:100};t(x)};return r.jsxs("form",{onSubmit:v,className:"folder-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",className:"form-input",value:l,onChange:k=>o(k.target.value),placeholder:": ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"folder-color-grid",children:h.map(k=>r.jsx("button",{type:"button",className:`folder-color-btn ${a===k?"active":""}`,style:{backgroundColor:k},onClick:()=>i(k)},k))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"folder-icon-grid",children:y.map(k=>r.jsx("button",{type:"button",className:`folder-icon-btn ${c===k&&!m.trim()?"active":""}`,onClick:()=>{u(k),d("")},children:k},k))}),r.jsxs("div",{className:"form-group",style:{marginTop:"12px"},children:[r.jsx("label",{className:"form-label",style:{fontSize:"13px",marginBottom:"6px"},children:"    (  ):"}),r.jsx("input",{type:"text",className:"form-input",value:m,onChange:k=>{d(k.target.value),k.target.value.trim()&&u("")},placeholder:":   !",maxLength:2}),m.trim()&&r.jsxs("div",{className:"folder-custom-icon-preview",style:{marginTop:"8px",fontSize:"24px"},children:[": ",m]})]})]}),r.jsxs("div",{className:"form-actions",children:[s&&e&&r.jsx("button",{type:"button",className:"btn btn-danger filled",onClick:()=>s(e),children:""}),r.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"12px"},children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:e?"":""})]})]})]})}const zx=f.forwardRef(({onSave:e,onCancel:t,onChangesChange:n},s)=>{const[l,o]=f.useState(""),[a,i]=f.useState(),c=f.useRef(null),u=f.useMemo(()=>({name:"",imageBase64:void 0}),[]),{hasChanges:m}=kr(u,()=>({name:l,imageBase64:a}));f.useEffect(()=>{n&&n(m)},[m,n]);const d=j=>{var x;const v=(x=j.target.files)==null?void 0:x[0];if(!v)return;if(v.size>5*1024*1024){alert("  .  5MB.");return}const k=new FileReader;k.onload=()=>{i(k.result)},k.readAsDataURL(v)},h=()=>{l.trim()&&e({id:Re(),name:l.trim(),imageBase64:a})};f.useImperativeHandle(s,()=>({hasChanges:m,save:h}),[m,l,a]);const y=j=>{j.preventDefault(),h()};return r.jsxs("form",{className:"form",onSubmit:y,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:l,onChange:j=>o(j.target.value),placeholder:": ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"file",ref:c,onChange:d,accept:"image/*",style:{display:"none"}}),a?r.jsxs("div",{className:"image-preview",children:[r.jsx("img",{src:a,alt:"Preview"}),r.jsx("button",{type:"button",className:"remove-image",onClick:()=>i(void 0),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):r.jsxs("button",{type:"button",className:"upload-btn",onClick:()=>{var j;return(j=c.current)==null?void 0:j.click()},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),r.jsx("polyline",{points:"17 8 12 3 7 8"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})," "]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:t,children:""})})]})}),Hx=({data:e,color:t})=>r.jsx("div",{className:"routine-bar-chart",children:e.map((n,s)=>r.jsx("div",{className:`routine-bar ${n.scheduled?n.completed?"completed":"missed":"inactive"}`,style:n.completed?{backgroundColor:t}:void 0},s))}),wo=({data:e,color:t,animate:n=!0})=>{const[s,l]=f.useState(!n);f.useEffect(()=>{if(n){const d=setTimeout(()=>l(!0),100);return()=>clearTimeout(d)}},[n]);const o=Math.max(...e,1),a=100,i=40,c=4,u=e.map((d,h)=>{const y=c+h/(e.length-1)*(a-c*2),j=i-c-d/o*(i-c*2);return`${y},${j}`}).join(" "),m=`M ${c},${i-c} L ${u} L ${a-c},${i-c} Z`;return r.jsxs("svg",{viewBox:`0 0 ${a} ${i}`,className:`sparkline ${s?"animated":""}`,style:{"--sparkline-color":t},children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:`gradient-${t.replace("#","")}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.3"}),r.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.05"})]})}),r.jsx("path",{d:m,fill:`url(#gradient-${t.replace("#","")})`,className:"sparkline-area"}),r.jsx("polyline",{points:u,fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"sparkline-line"})]})},ko=({percent:e,color:t,size:n=60,strokeWidth:s=5,animate:l=!0})=>{const[o,a]=f.useState(l?0:e);f.useEffect(()=>{if(l){const m=setTimeout(()=>a(e),100);return()=>clearTimeout(m)}else a(e)},[e,l]);const i=(n-s)/2,c=i*2*Math.PI,u=c-o/100*c;return r.jsxs("svg",{width:n,height:n,className:"progress-ring",style:{"--ring-color":t},children:[r.jsx("circle",{className:"progress-ring-bg",strokeWidth:s,fill:"transparent",r:i,cx:n/2,cy:n/2}),r.jsx("circle",{className:"progress-ring-progress",strokeWidth:s,fill:"transparent",r:i,cx:n/2,cy:n/2,style:{strokeDasharray:c,strokeDashoffset:u,stroke:t}})]})};function Vx(){const{state:e,dispatch:t}=Ct(),n=Vt(),[s,l]=f.useState("balance"),[o,a]=f.useState(null),[i,c]=f.useState(!1),[u,m]=f.useState(!1),[d,h]=f.useState(!1),[y,j]=f.useState(!1),[v,k]=f.useState(!1),x=f.useRef(null),p=f.useRef(null),[g,w]=f.useState(!1),C=e.wallets??[],_=e.transactions??[],E=e.tasks??[],I=e.habits??[],L=e.focusSessions??[];f.useEffect(()=>{const B=setTimeout(()=>k(!0),50);return()=>clearTimeout(B)},[]);const F=f.useMemo(()=>{const B=new Date,N={};C.forEach(W=>{const X=W.currency||"RUB";N[X]=(N[X]||0)+(W.balance||0)});const S={},A={},H=[],ee=Object.keys(N).find(W=>N[W]!==0)||"RUB";for(let W=6;W>=0;W--){const X=new Date(B);X.setDate(X.getDate()-W);const b=fe(X),re=_.filter(U=>U.date===b);let ue=0;re.forEach(U=>{if(U.type==="transfer"){const ae=C.find(ve=>ve.id===U.walletId),ie=C.find(ve=>ve.id===U.toWalletId);if(ae){const ve=ae.currency||"RUB";A[ve]=(A[ve]||0)+U.amount,ve===ee&&(ue-=U.amount)}if(ie){const ve=ie.currency||"RUB",Tt=U.toAmount||U.amount;S[ve]=(S[ve]||0)+Tt,ve===ee&&(ue+=Tt)}}else{const ae=C.find(ve=>ve.id===U.walletId);if(!ae)return;const ie=ae.currency||"RUB";U.type==="income"?(S[ie]=(S[ie]||0)+U.amount,ie===ee&&(ue+=U.amount)):U.type==="expense"&&(A[ie]=(A[ie]||0)+U.amount,ie===ee&&(ue-=U.amount))}}),H.push(ue)}const O={};return Object.keys(S).forEach(W=>{O[W]=(S[W]||0)-(A[W]||0)}),Object.keys(A).forEach(W=>{O[W]||(O[W]=-(A[W]||0))}),{balancesByCurrency:N,incomeByCurrency:S,expenseByCurrency:A,weekChangeByCurrency:O,sparklineBalance:H.map((W,X,b)=>b.slice(0,X+1).reduce((re,ue)=>re+ue,0)),sparklineIncome:H.map(W=>W>0?W:0),sparklineExpense:H.map(W=>W<0?Math.abs(W):0)}},[C,_]),K=f.useMemo(()=>{const B=_t(),N=E.filter(X=>!X.parentId),S=N.filter(X=>X.date?X.date<=B:!0),A=S.filter(X=>X.completed).length,H=S.length,ee=H>0?Math.round(A/H*100):0,O=new Date,W=[];for(let X=6;X>=0;X--){const b=new Date(O);b.setDate(b.getDate()-X);const re=fe(b),ue=N.filter(U=>U.completed?U.completedAt?U.completedAt.startsWith(re):U.date===re:!1).length;W.push(ue)}return{completed:A,total:H,percent:ee,weekData:W}},[E]),Y=f.useMemo(()=>{const B=_t(),N=I.filter(O=>O.records.includes(B)).length,S=I.length,A=S>0?Math.round(N/S*100):0,H=[],ee=new Date;for(let O=6;O>=0;O--){const W=new Date(ee);W.setDate(W.getDate()-O);const X=fe(W),b=I.filter(re=>re.records.includes(X)).length;H.push(b)}return{completed:N,total:S,percent:A,weekData:H}},[I]),V=f.useMemo(()=>{const B=_t(),N=L.filter(X=>{var b;return((b=X.date)==null?void 0:b.split("T")[0])===B}),S=Math.floor(N.reduce((X,b)=>X+(b.duration||0),0)/60),A=[],H=new Date;let ee=0;for(let X=6;X>=0;X--){const b=new Date(H);b.setDate(b.getDate()-X);const re=fe(b),U=L.filter(ae=>{var ie;return((ie=ae.date)==null?void 0:ie.split("T")[0])===re}).reduce((ae,ie)=>ae+(ie.duration||0),0)/60;A.push(U),ee+=U}const O=Math.floor(ee/60),W=Math.round(ee%60);return{todayMinutes:S,weekTotal:ee,hours:O,minutes:W,percent:Math.min(100,Math.round(S/120*100)),weekData:A}},[L]),oe=f.useMemo(()=>{const B=e.routines||[],N=new Date,S=[];let A=0,H=0;for(let O=6;O>=0;O--){const W=new Date(N);W.setDate(W.getDate()-O);const X=fe(W),b=tn(W),re=B.filter(ie=>{if(!ie.days.includes(b))return!1;if(ie.createdAt){const ve=new Date(ie.createdAt+"T00:00:00");if(W<ve)return!1}return!0}),ue=re.filter(ie=>ie.completed[X]),U=re.length,ae=ue.length;A+=U,H+=ae,S.push({scheduled:U>0,completed:U>0&&ae===U})}const ee=A>0?Math.round(H/A*100):0;return{totalRoutines:B.length,percent:ee,weekData:S}},[e.routines]),T=f.useMemo(()=>{const B=new Date,N=["","","","","","",""];let S=-1,A=0;for(let H=0;H<7;H++){const ee=new Date(B);ee.setDate(ee.getDate()-H);const O=fe(ee),W=E.filter(X=>X.date===O&&X.completed&&!X.parentId);W.length>A&&(A=W.length,S=ee.getDay())}return A>=3?`  : ${N[S]} (${A} )`:K.completed>0?`  !  ${K.completed}  `:Y.completed>0?` ${Y.completed}   `:null},[E,K,Y]),R=B=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0}).format(B),Q=f.useRef(null),D=f.useRef(!1),z=B=>{a(B.touches[0].clientX),Q.current=B.touches[0].clientY,D.current=!1},G=B=>{if(o===null||Q.current===null)return;const N=Math.abs(o-B.touches[0].clientX),S=Math.abs(Q.current-B.touches[0].clientY);N>S&&N>10&&(D.current=!0,B.preventDefault())},te=B=>{if(o===null)return;const N=o-B.changedTouches[0].clientX;D.current&&Math.abs(N)>50&&ce(N>0?"next":"prev"),a(null),Q.current=null,D.current=!1},ce=B=>{c(!0),setTimeout(()=>{l(B==="next"?N=>N==="balance"?"income":N==="income"?"expense":"balance":N=>N==="balance"?"expense":N==="expense"?"income":"balance"),setTimeout(()=>c(!1),200)},100)},pe=(B,N)=>{N.stopPropagation(),B!==s&&(c(!0),setTimeout(()=>{l(B),setTimeout(()=>c(!1),200)},100))},P=(()=>{switch(s){case"balance":return{label:"",valuesByCurrency:F.balancesByCurrency,changeByCurrency:F.weekChangeByCurrency,sparkline:F.sparklineBalance,color:"#2186b4"};case"income":return{label:"",valuesByCurrency:F.incomeByCurrency,changeByCurrency:F.incomeByCurrency,sparkline:F.sparklineIncome,color:"#22c55e"};case"expense":return{label:"",valuesByCurrency:F.expenseByCurrency,changeByCurrency:Object.fromEntries(Object.entries(F.expenseByCurrency).map(([B,N])=>[B,-N])),sparkline:F.sparklineExpense,color:"#ef4444"}}})(),q=B=>Object.entries(B).filter(([N,S])=>Math.abs(S)>.01).map(([N])=>N).sort((N,S)=>N==="RUB"?-1:S==="RUB"?1:N.localeCompare(S)),ne=B=>{t({type:"ADD_TASK",payload:B}),m(!1)},se=B=>{t({type:"ADD_HABIT",payload:B}),h(!1)},le=B=>{t({type:"TOGGLE_HABIT",payload:{id:B,date:_t()}})};return r.jsxs("div",{className:"weekly-report",children:[r.jsxs("div",{ref:x,className:`finance-card ${v?"loaded":""} ${i?"animating":""}`,onTouchStart:z,onTouchMove:G,onTouchEnd:te,children:[r.jsx("div",{className:"finance-content",children:r.jsxs("div",{className:"finance-info",onClick:()=>n("/finance"),children:[r.jsx("span",{className:"finance-label",children:P.label}),r.jsx("div",{className:"finance-values",children:(()=>{const B=q(P.valuesByCurrency);return B.length>0?B.map(N=>{const S=P.valuesByCurrency[N]||0,A=P.changeByCurrency[N]||0;return r.jsxs("div",{className:"finance-currency-row",children:[r.jsxs("span",{className:`finance-value ${s}`,children:[R(S)," ",dt[N]]}),Math.abs(A)>.01&&r.jsxs("span",{className:`finance-change ${A>=0?"positive":"negative"}`,children:[A>=0?"":""," ",A>=0?"+":"",R(Math.abs(A))," ",dt[N],"  "]})]},N)}):r.jsx("span",{className:`finance-value ${s}`,children:"0 "})})()})]})}),r.jsxs("div",{className:"finance-dots",children:[r.jsx("button",{className:`dot ${s==="balance"?"active":""}`,onClick:B=>pe("balance",B)}),r.jsx("button",{className:`dot ${s==="income"?"active":""}`,onClick:B=>pe("income",B)}),r.jsx("button",{className:`dot ${s==="expense"?"active":""}`,onClick:B=>pe("expense",B)})]})]}),e.routines.length>0&&r.jsxs("div",{className:`routine-card ${v?"loaded":""}`,onClick:()=>n("/routine-analytics"),children:[r.jsxs("div",{className:"routine-card-left",children:[r.jsx("div",{className:"routine-card-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"}),r.jsx("circle",{cx:"12",cy:"12",r:"4"})]})}),r.jsxs("div",{className:"routine-card-info",children:[r.jsx("span",{className:"routine-card-title",children:""}),r.jsx("span",{className:"routine-card-subtitle",children:"  7 "})]})]}),r.jsxs("div",{className:"routine-card-center",children:[r.jsxs("span",{className:"routine-card-percent",children:[oe.percent,"%"]}),r.jsx("span",{className:"routine-card-label",children:" "})]}),r.jsx("div",{className:"routine-card-right",children:r.jsx(Hx,{data:oe.weekData,color:"#9C27B0"})})]}),r.jsx("div",{className:"ring-cards-scroll",children:r.jsxs("div",{className:"ring-cards",children:[r.jsxs("div",{className:"ring-card",onClick:()=>n("/tasks"),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(ko,{percent:K.percent,color:"#2186b4",animate:v}),r.jsx("div",{className:"ring-icon",style:{color:"#2186b4"},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]})})]}),r.jsxs("span",{className:"ring-value",children:[K.completed,"/",K.total||1]}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(wo,{data:K.weekData,color:"#2186b4",animate:v})})]}),r.jsxs("div",{className:"ring-card",onClick:()=>j(!0),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(ko,{percent:Y.percent,color:"#22c55e",animate:v}),r.jsx("div",{className:"ring-icon",style:{color:"#22c55e"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})})})]}),r.jsxs("span",{className:"ring-value",children:[Y.percent,"%"]}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(wo,{data:Y.weekData,color:"#22c55e",animate:v})})]}),r.jsxs("div",{className:"ring-card",onClick:()=>n("/focus"),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(ko,{percent:V.percent,color:"#ea580c",animate:v}),r.jsx("div",{className:"ring-icon",style:{color:"#ea580c"},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]})})]}),r.jsx("span",{className:"ring-value",children:V.hours>0?`${V.hours}`:`${V.todayMinutes}`}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(wo,{data:V.weekData,color:"#ea580c",animate:v})})]})]})}),r.jsxs("div",{className:"quick-actions",children:[r.jsxs("button",{className:"quick-action-btn",onClick:()=>m(!0),children:[r.jsx("div",{className:"quick-action-icon tasks",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),r.jsx("span",{className:"quick-action-text",children:""})]}),r.jsxs("button",{className:"quick-action-btn",onClick:()=>h(!0),children:[r.jsx("div",{className:"quick-action-icon habits",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),r.jsx("span",{className:"quick-action-text",children:""})]}),r.jsxs("button",{className:"quick-action-btn",onClick:()=>n("/focus"),children:[r.jsx("div",{className:"quick-action-icon focus",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),r.jsx("span",{className:"quick-action-text",children:""})]})]}),T&&r.jsx("div",{className:"insight-block",children:r.jsx("span",{children:T})}),r.jsx(Ne,{isOpen:u,onClose:()=>{m(!1),w(!1)},onRequestClose:()=>{var B;if((B=p.current)!=null&&B.hasChanges){w(!0);return}m(!1)},hasChanges:g,onSave:()=>{p.current&&p.current.save()},confirmMessage:"",title:" ",children:r.jsx(Bf,{ref:p,task:null,onChangesChange:w,onSave:B=>{ne(B),m(!1),w(!1)},onCancel:()=>{m(!1),w(!1)}})}),r.jsx(Ff,{isOpen:d,onClose:()=>h(!1),onSave:se,editingHabit:null}),r.jsx(Ne,{isOpen:y,onClose:()=>j(!1),title:"  ",children:r.jsxs("div",{className:"habits-quick-list",children:[I.length===0?r.jsx("p",{className:"habits-empty",children:" .  !"}):I.map(B=>{const N=B.records.includes(_t());return r.jsxs("label",{className:"habit-quick-item",children:[r.jsx("input",{type:"checkbox",checked:N,onChange:()=>le(B.id)}),r.jsx("span",{className:N?"completed":"",children:B.title})]},B.id)}),r.jsx("button",{className:"btn btn-primary filled",onClick:()=>{j(!1),h(!0)},style:{marginTop:16},children:"+  "})]})})]})}function Yx(){var j,v,k,x,p,g,w;const{state:e,dispatch:t}=Ct(),n=Vt(),[s,l]=f.useState(!1),[o,a]=f.useState(null),i=f.useRef(null),[c,u]=f.useState(!1),m=e.documents??[],d=C=>{t({type:"ADD_DOCUMENT",payload:C}),l(!1)},h=C=>{confirm(" ?")&&t({type:"DELETE_DOCUMENT",payload:C})},y=f.useCallback(async C=>{var _;if(C.imageBase64)try{const I=await(await fetch(C.imageBase64)).blob(),L=new File([I],`${C.name}.${I.type.split("/")[1]||"png"}`,{type:I.type});if(navigator.share&&((_=navigator.canShare)!=null&&_.call(navigator,{files:[L]})))await navigator.share({files:[L],title:C.name});else{const F=document.createElement("a");F.href=C.imageBase64,F.download=`${C.name}.png`,F.click()}}catch(E){E.name!=="AbortError"&&console.error("   :",E)}},[]);return r.jsxs(Yt,{title:"",headerRight:r.jsx("button",{className:"header-settings-btn",onClick:()=>n("/settings"),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})}),children:[r.jsxs("div",{className:"profile-card",children:[r.jsxs("div",{className:"profile-header",children:[r.jsx("div",{className:"profile-avatar",children:(j=e.profile)!=null&&j.avatar?r.jsx("img",{src:e.profile.avatar,alt:e.profile.name||""}):r.jsx("span",{children:((x=(k=(v=e.profile)==null?void 0:v.name)==null?void 0:k[0])==null?void 0:x.toUpperCase())||"?"})}),r.jsxs("div",{className:"profile-info",children:[r.jsx("div",{className:"profile-name",children:((p=e.profile)==null?void 0:p.name)||" "}),((g=e.profile)==null?void 0:g.bio)&&r.jsx("div",{className:"profile-bio",children:e.profile.bio})]})]}),((w=e.profile)==null?void 0:w.goals)&&e.profile.goals.length>0&&r.jsxs("div",{className:"profile-goals",children:[r.jsx("span",{className:"goals-label",children:""}),r.jsx("div",{className:"goals-list",children:e.profile.goals.map((C,_)=>r.jsx("span",{className:"goal-tag",children:C},_))})]})]}),r.jsx(Vx,{}),r.jsxs("div",{className:"documents-section",children:[r.jsxs("div",{className:"documents-header",children:[r.jsx("h3",{children:""}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>l(!0),children:"+ "})]}),m.length===0?r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]})}):r.jsx("div",{className:"documents-grid",children:m.map(C=>r.jsxs("div",{className:"document-card",children:[r.jsx("div",{className:"document-preview",onClick:()=>C.imageBase64&&a(C),style:{cursor:C.imageBase64?"pointer":"default"},children:C.imageBase64?r.jsx("img",{src:C.imageBase64,alt:C.name}):r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]})}),r.jsxs("div",{className:"document-info",children:[r.jsx("span",{className:"document-name",children:C.name}),r.jsxs("div",{className:"document-actions",children:[C.imageBase64&&r.jsx("button",{className:"document-action-btn",onClick:()=>y(C),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"18",cy:"5",r:"3"}),r.jsx("circle",{cx:"6",cy:"12",r:"3"}),r.jsx("circle",{cx:"18",cy:"19",r:"3"}),r.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})}),r.jsx("button",{className:"document-action-btn text-danger",onClick:()=>h(C.id),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})]},C.id))})]}),r.jsx(Ne,{isOpen:s,onClose:()=>{l(!1),u(!1)},onRequestClose:()=>{var C;if((C=i.current)!=null&&C.hasChanges){u(!0);return}l(!1)},hasChanges:c,onSave:()=>{i.current&&i.current.save()},confirmMessage:"",title:" ",children:r.jsx(zx,{ref:i,onChangesChange:u,onSave:C=>{d(C),l(!1),u(!1)},onCancel:()=>{l(!1),u(!1)}})}),o&&r.jsx("div",{className:"document-preview-overlay",onClick:()=>a(null),children:r.jsxs("div",{className:"document-preview-container",onClick:C=>C.stopPropagation(),children:[r.jsx("button",{className:"document-preview-close",onClick:()=>a(null),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),r.jsx("div",{className:"document-preview-header",children:r.jsx("h3",{children:o.name})}),o.imageBase64&&r.jsx("img",{src:o.imageBase64,alt:o.name,className:"document-preview-image"}),r.jsx("div",{className:"document-preview-actions",children:r.jsxs("button",{className:"btn btn-primary filled",onClick:()=>y(o),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:18,height:18},children:[r.jsx("circle",{cx:"18",cy:"5",r:"3"}),r.jsx("circle",{cx:"6",cy:"12",r:"3"}),r.jsx("circle",{cx:"18",cy:"19",r:"3"}),r.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),""]})})]})})]})}const Gx=["","","","","",""],Xc=[{value:"/",label:""},{value:"/finance",label:""},{value:"/tasks",label:""},{value:"/calendar",label:""},{value:"/inbox",label:""},{value:"/profile",label:""}];function Kx(){var X,b,re,ue;const{state:e,dispatch:t}=Ct(),n=Vt(),s=f.useRef(null),l=f.useRef(null),[o,a]=f.useState(null),[i,c]=f.useState(null),[u,m]=f.useState(!1),[d,h]=f.useState(e.profile.name||""),[y,j]=f.useState(e.profile.bio||""),[v,k]=f.useState(e.profile.goals||[]),[x,p]=f.useState(""),[g,w]=f.useState(e.profile.avatar),C=U=>{t({type:"SET_THEME",payload:U})},_=((X=e.settings)==null?void 0:X.startPageMode)||"default",E=((b=e.settings)==null?void 0:b.customStartPage)||"/",[I,L]=f.useState(!1),[F,K]=f.useState(!1),[Y,V]=f.useState(_),[oe,T]=f.useState(E),R=Y!==_||Y==="custom"&&oe!==E,Q=f.useMemo(()=>({name:e.profile.name||"",bio:e.profile.bio||"",goals:e.profile.goals||[],avatar:e.profile.avatar}),[e.profile]),D=f.useMemo(()=>d!==Q.name||y!==Q.bio||JSON.stringify([...v].sort())!==JSON.stringify([...Q.goals].sort())||g!==Q.avatar,[d,y,v,g,Q]),[z,G]=f.useState(!1);f.useEffect(()=>{o==="profile"&&G(D)},[D,o]);const te=()=>{var U;switch(_){case"last":return" ";case"custom":return((U=Xc.find(ie=>ie.value===E))==null?void 0:U.label)||"";case"default":default:return""}},ce=()=>{V(_),T(E),L(!0)},pe=()=>{t({type:"SET_START_PAGE_MODE",payload:Y}),Y==="custom"&&t({type:"SET_CUSTOM_START_PAGE",payload:oe}),L(!1)},ge=()=>{R?K(!0):L(!1)},P=()=>{K(!1),L(!1)},q=()=>{pe(),K(!1)},ne=()=>{h(e.profile.name||""),j(e.profile.bio||""),k(e.profile.goals||[]),w(e.profile.avatar),p(""),a("profile"),G(!1)},se=U=>{v.includes(U)?k(v.filter(ae=>ae!==U)):v.length<3&&k([...v,U])},le=()=>{x.trim()&&v.length<3&&(k([...v,x.trim()]),p(""))},B=U=>{k(v.filter((ae,ie)=>ie!==U))},N=U=>{var ve;const ae=(ve=U.target.files)==null?void 0:ve[0];if(!ae)return;if(ae.size>2*1024*1024){alert("  .  2MB.");return}const ie=new FileReader;ie.onload=Tt=>{var M;const jn=(M=Tt.target)==null?void 0:M.result,tt=new Image;tt.onload=()=>{const Z=document.createElement("canvas"),he=200;let ke=tt.width,Ve=tt.height;ke>Ve?ke>he&&(Ve=Ve*he/ke,ke=he):Ve>he&&(ke=ke*he/Ve,Ve=he),Z.width=ke,Z.height=Ve;const It=Z.getContext("2d");It==null||It.drawImage(tt,0,0,ke,Ve),w(Z.toDataURL("image/jpeg",.8))},tt.src=jn},ie.readAsDataURL(ae),l.current&&(l.current.value="")},S=()=>{w(void 0)},A=()=>{const U={name:d.trim(),bio:y.trim()||void 0,goals:v,avatar:g};t({type:"UPDATE_PROFILE",payload:U}),a(null),G(!1)},H=f.useCallback(async()=>{m(!0);try{const U=await _0(),ae=new Date,ve=`sdvig-backup-${`${ae.getFullYear()}-${String(ae.getMonth()+1).padStart(2,"0")}-${String(ae.getDate()).padStart(2,"0")}`}.json`,Tt=JSON.stringify(U,null,2),jn=new Blob([Tt],{type:"application/json"}),tt=URL.createObjectURL(jn),M=document.createElement("a");M.href=tt,M.download=ve,M.click(),URL.revokeObjectURL(tt),a(null),console.log("  :",ve)}catch(U){console.error("   :",U),alert("   ")}finally{m(!1)}},[]),ee=f.useCallback(async()=>{if(!i)return;m(!0);const U=new FileReader;U.onload=async ae=>{var ie;try{const ve=(ie=ae.target)==null?void 0:ie.result,Tt=JSON.parse(ve),jn=await R0(Tt),tt={...pt,...jn};t({type:"LOAD_STATE",payload:tt}),a(null),c(null),console.log("  "),alert("  !")}catch(ve){console.error("   :",ve),alert("   .   .")}finally{m(!1)}},U.onerror=()=>{console.error("  "),alert("  "),m(!1)},U.readAsText(i),s.current&&(s.current.value="")},[i,t]),O=U=>{var ie;const ae=(ie=U.target.files)==null?void 0:ie[0];ae&&(c(ae),a("import"))},W=f.useCallback(()=>{u||o==="profile"&&z||(a(null),c(null),G(!1),s.current&&(s.current.value=""))},[u,o,z]);return r.jsxs(Yt,{title:"",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>n("/profile"),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),children:[r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:""}),r.jsx("span",{className:"settings-item-desc",children:",   "})]}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:ne,children:""})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("button",{className:"settings-item start-page-row",onClick:ce,children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsxs("div",{className:"start-page-value",children:[r.jsx("span",{children:te()}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})})]}),I&&r.jsx("div",{className:"action-sheet-overlay",onClick:ge,children:r.jsxs("div",{className:"action-sheet",onClick:U=>U.stopPropagation(),children:[r.jsxs("div",{className:"action-sheet-header",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"action-sheet-header-actions",children:[R&&r.jsx("button",{className:"btn btn-sm btn-primary",onClick:pe,children:""}),r.jsx("button",{className:"action-sheet-close",onClick:ge,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),r.jsxs("div",{className:"action-sheet-content",children:[r.jsxs("label",{className:`action-sheet-option ${Y==="default"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:Y==="default",onChange:()=>V("default")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"  "})]})]}),r.jsxs("label",{className:`action-sheet-option ${Y==="last"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:Y==="last",onChange:()=>V("last")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"  "})]})]}),r.jsxs("label",{className:`action-sheet-option ${Y==="custom"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:Y==="custom",onChange:()=>V("custom")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"   "})]})]}),Y==="custom"&&r.jsx("div",{className:"page-select-list",children:Xc.map(U=>r.jsxs("label",{className:`page-select-option ${oe===U.value?"active":""}`,children:[r.jsx("input",{type:"radio",name:"customStartPage",checked:oe===U.value,onChange:()=>T(U.value)}),r.jsx("span",{children:U.label}),oe===U.value&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},U.value))})]})]})}),F&&r.jsx("div",{className:"action-sheet-overlay",onClick:()=>K(!1),children:r.jsxs("div",{className:"discard-confirm-modal",onClick:U=>U.stopPropagation(),children:[r.jsx("h3",{children:" ?"}),r.jsx("p",{children:"       ."}),r.jsxs("div",{className:"discard-confirm-actions",children:[r.jsx("button",{className:"btn",onClick:P,children:" "}),r.jsx("button",{className:"btn btn-primary filled",onClick:q,children:""})]})]})}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsx("span",{className:"settings-item-desc",children:"    "})]}),r.jsxs("div",{className:"theme-toggle",children:[r.jsx("button",{className:`theme-btn ${((re=e.settings)==null?void 0:re.theme)==="light"?"active":""}`,onClick:()=>C("light"),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),r.jsx("button",{className:`theme-btn ${((ue=e.settings)==null?void 0:ue.theme)==="dark"?"active":""}`,onClick:()=>C("dark"),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})})})]})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item backup-section",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsx("span",{className:"settings-item-desc",children:"    "})]}),r.jsxs("div",{className:"backup-actions",children:[r.jsx("button",{className:"btn btn-sm",onClick:()=>a("export"),children:""}),r.jsxs("label",{className:"btn btn-sm btn-primary",children:["",r.jsx("input",{ref:s,type:"file",accept:"application/json",onChange:O,style:{display:"none"}})]})]})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"settings-list",children:[r.jsxs("a",{href:"https://samur000.github.io/SDVIG-INFO//",target:"_blank",rel:"noopener noreferrer",className:"settings-link",children:[r.jsx("div",{className:"settings-link-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),r.jsx("span",{children:" "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"settings-link-arrow",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r.jsxs("a",{href:"https://t.me/qafurov",target:"_blank",rel:"noopener noreferrer",className:"settings-link",children:[r.jsx("div",{className:"settings-link-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),r.jsx("span",{children:"  "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"settings-link-arrow",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]}),r.jsxs("div",{className:"settings-version",children:[r.jsx("span",{children:" v2.1.1"}),r.jsx("span",{className:"settings-storage-info",children:"   IndexedDB"})]}),r.jsx(Ne,{isOpen:o==="profile",onClose:W,onRequestClose:()=>{if(z){G(!0);return}a(null)},hasChanges:z,onSave:A,confirmMessage:"",title:" ",children:r.jsxs("div",{className:"profile-edit-modal",children:[r.jsxs("div",{className:"avatar-edit",children:[r.jsx("div",{className:"avatar-preview",children:g?r.jsx("img",{src:g,alt:""}):r.jsx("div",{className:"avatar-placeholder",children:d?d[0].toUpperCase():"?"})}),r.jsxs("div",{className:"avatar-actions",children:[r.jsxs("label",{className:"btn btn-sm btn-primary",children:[g?"":"",r.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:N,style:{display:"none"}})]}),g&&r.jsx("button",{className:"btn btn-sm",onClick:S,children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:d,onChange:U=>h(U.target.value),placeholder:"  ?"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("textarea",{value:y,onChange:U=>j(U.target.value),placeholder:"   ...",rows:2})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ( 3)"}),r.jsx("div",{className:"goals-selector",children:Gx.map(U=>r.jsx("button",{type:"button",className:`goal-btn ${v.includes(U)?"active":""}`,onClick:()=>se(U),disabled:!v.includes(U)&&v.length>=3,children:U},U))}),r.jsxs("div",{className:"custom-goal",children:[r.jsx("input",{type:"text",value:x,onChange:U=>p(U.target.value),placeholder:" ...",disabled:v.length>=3}),r.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:le,disabled:!x.trim()||v.length>=3,children:"+"})]}),v.length>0&&r.jsx("div",{className:"selected-goals",children:v.map((U,ae)=>r.jsxs("span",{className:"chip",children:[U,r.jsx("button",{type:"button",onClick:()=>B(ae),children:""})]},ae))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{className:"btn text-danger",onClick:W,children:""})})]})}),r.jsx(Ne,{isOpen:o==="export",onClose:W,title:" ",children:r.jsxs("div",{className:"confirm-modal",children:[r.jsx("p",{className:"confirm-text",children:"   ?"}),r.jsx("p",{className:"confirm-hint",children:"  JSON-   ."}),r.jsxs("div",{className:"confirm-actions",children:[r.jsx("button",{className:"btn",onClick:W,disabled:u,children:""}),r.jsx("button",{className:"btn btn-primary filled",onClick:H,disabled:u,children:u?"...":""})]})]})}),r.jsx(Ne,{isOpen:o==="import",onClose:W,title:" ",children:r.jsxs("div",{className:"confirm-modal",children:[r.jsx("p",{className:"confirm-text",children:"   ?"}),r.jsx("p",{className:"confirm-hint confirm-warning",children:"    !"}),i&&r.jsxs("p",{className:"confirm-file",children:[": ",i.name]}),r.jsxs("div",{className:"confirm-actions",children:[r.jsx("button",{className:"btn",onClick:W,disabled:u,children:""}),r.jsx("button",{className:"btn btn-primary filled",onClick:ee,disabled:u,children:u?"...":""})]})]})})]})}const Qx={:"",:"",:"",:"",:"",:"",:""},Xx=["","","","","","",""];function Wn(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";default:return Qx[e].toLowerCase()+""}}function Jx(e){return e>=70?"good":e>=40?"warning":"danger"}const Zx=({completedDates:e,scheduledDates:t,days:n,startDate:s})=>{const l=new Date;l.setHours(23,59,59,999);const o=[];let a;s?(a=new Date(s),a.setHours(0,0,0,0)):(a=new Date(l),a.setDate(a.getDate()-(n-1)),a.setHours(0,0,0,0));const i=new Date(l);i.setHours(23,59,59,999);const c=s?Math.ceil((i.getTime()-a.getTime())/(1e3*60*60*24))+1:n;for(let u=0;u<c;u++){const m=new Date(a);m.setDate(a.getDate()+u);const d=fe(m);if(m>l)break;const h=t.includes(d),y=e.includes(d);let j="calendar-square";h?j+=y?" completed":" missed":j+=" inactive",o.push(r.jsx("div",{className:j,title:d},d))}return r.jsx("div",{className:"mini-calendar",children:o})},qx=({percent:e,status:t})=>r.jsx("div",{className:"routine-progress-bar",children:r.jsx("div",{className:`routine-progress-fill ${t}`,style:{width:`${Math.min(100,e)}%`}})});function ev(){const e=Vt(),{state:t}=Ct(),[n,s]=f.useState("7days"),[l,o]=f.useState(null),a=f.useMemo(()=>{const d=new Date;d.setHours(23,59,59,999);let h=new Date;if(n==="7days")h.setDate(d.getDate()-6);else if(n==="30days")h.setDate(d.getDate()-29);else{let y=null;if(t.routines.forEach(j=>{if(j.createdAt){const v=new Date(j.createdAt+"T00:00:00");(!y||v<y)&&(y=v)}}),!y){const j=[];if(t.routines.forEach(v=>{Object.keys(v.completed).forEach(k=>{if(v.completed[k]){const x=new Date(k+"T00:00:00"),p=tn(x);v.days.includes(p)&&(!v.createdAt||x>=new Date(v.createdAt+"T00:00:00"))&&j.push(k)}})}),j.length>0){const v=j.sort();y=new Date(v[0]+"T00:00:00")}}y?h=y:h.setDate(d.getDate()-29)}return h.setHours(0,0,0,0),{start:h,end:d}},[n,t.routines]),i=f.useMemo(()=>{const d=h=>{const y=[];let j;if(h.createdAt){const k=new Date(h.createdAt+"T00:00:00");k.setHours(0,0,0,0),n==="all"?j=k:j=k>a.start?k:new Date(a.start)}else j=new Date(a.start);const v=new Date(j);for(;v<=a.end;){const k=tn(v);h.days.includes(k)&&y.push(fe(v)),v.setDate(v.getDate()+1)}return y};return t.routines.map(h=>{const y=d(h),j=y.filter(w=>h.completed[w]===!0),v=y.length,k=j.length,x=v-k,p=v>0?Math.round(k/v*100):0,g=Jx(p);return{routine:h,scheduledDates:y,completedDates:j,total:v,completed:k,missed:x,percent:p,status:g}}).sort((h,y)=>h.percent-y.percent)},[t.routines,a]),c=f.useMemo(()=>{const d=t.routines.length;if(d===0)return{averagePercent:0,totalRoutines:0,avgMissedPerWeek:0};const h=i.reduce((g,w)=>g+w.total,0),y=i.reduce((g,w)=>g+w.completed,0),j=i.reduce((g,w)=>g+w.missed,0),v=h>0?Math.round(y/h*100):0,x=(n==="7days"?7:n==="30days"?30:Math.max(1,Math.ceil((a.end.getTime()-a.start.getTime())/(1e3*60*60*24))))/7,p=x>0?Math.round(j/x*10)/10:0;return{averagePercent:v,totalRoutines:d,avgMissedPerWeek:p}},[i,n,a,t.routines.length]),u=f.useMemo(()=>{if(!l)return null;const d=i.find(g=>g.routine.id===l.id);if(!d)return null;const h={:0,:0,:0,:0,:0,:0,:0};d.scheduledDates.forEach(g=>{if(!d.completedDates.includes(g)){const w=new Date(g+"T00:00:00"),C=tn(w);h[C]++}});let y="",j=0;Object.entries(h).forEach(([g,w])=>{w>j&&(j=w,y=g)});let v=0,k=0;[...d.scheduledDates].sort().forEach(g=>{d.completedDates.includes(g)?(k++,k>v&&(v=k)):k=0});let p="";if(l.time){const g=parseInt(l.time.split(":")[0],10);g<12?p="":g>=18&&(p="")}return{...d,missedByDay:h,worstDay:y,bestStreak:v,timeOfDay:p}},[l,i]),m=f.useMemo(()=>{if(i.length===0)return null;const d=i[0];if(!d||d.missed===0)return{icon:"",text:"!    ",variant:"good"};const h={:0,:0,:0,:0,:0,:0,:0};i.forEach(x=>{x.scheduledDates.forEach(p=>{if(!x.completedDates.includes(p)){const g=new Date(p+"T00:00:00"),w=tn(g);h[w]++}})});let y="",j=0;Object.entries(h).forEach(([x,p])=>{p>j&&(j=p,y=x)});const v=i.reduce((x,p)=>x+p.missed,0);if(j>2)return v>10?{icon:"",text:`! ${v} .    ${Wn(y)}`,variant:"danger",skipCount:v}:v>5?{icon:"",text:`${v} .    ${Wn(y)}`,variant:"warning",skipCount:v}:{icon:"",text:`    ${Wn(y)}`,variant:"good",skipCount:v};if(d.missed>10)return{icon:"",text:`${d.routine.title}   ${d.missed} ,   ${d.percent}%`,variant:"danger",skipCount:d.missed};if(d.missed>5)return{icon:"",text:`${d.routine.title}    ${d.missed} ,   ${d.percent}%`,variant:"warning",skipCount:d.missed};if(d.percent<50)return{icon:"",text:`${d.routine.title}      ${d.percent}%`,variant:"good",skipCount:d.missed};const k=i.filter(x=>x.routine.time?parseInt(x.routine.time.split(":")[0],10)<10:!1);return k.length>0&&k.reduce((p,g)=>p+g.percent,0)/k.length<60?{icon:"",text:"  ( 10:00)   ",variant:"good"}:{icon:"",text:"    !     ",variant:"good"}},[i]);return r.jsxs(Yt,{title:" ",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),children:[r.jsxs("div",{className:"routine-analytics",children:[r.jsxs("div",{className:"period-filter",children:[r.jsx("button",{className:`period-chip ${n==="7days"?"active":""}`,onClick:()=>s("7days"),children:"7 "}),r.jsx("button",{className:`period-chip ${n==="30days"?"active":""}`,onClick:()=>s("30days"),children:"30 "}),r.jsx("button",{className:`period-chip ${n==="all"?"active":""}`,onClick:()=>s("all"),children:" "})]}),r.jsxs("div",{className:"overview-card",children:[r.jsxs("div",{className:"overview-stat",children:[r.jsxs("span",{className:"overview-value",children:[c.averagePercent,"%"]}),r.jsx("span",{className:"overview-label",children:" %"})]}),r.jsx("div",{className:"overview-divider"}),r.jsxs("div",{className:"overview-stat",children:[r.jsx("span",{className:"overview-value",children:c.totalRoutines}),r.jsx("span",{className:"overview-label",children:" "})]}),r.jsx("div",{className:"overview-divider"}),r.jsxs("div",{className:"overview-stat",children:[r.jsx("span",{className:"overview-value",children:c.avgMissedPerWeek}),r.jsx("span",{className:"overview-label",children:"/"})]})]}),r.jsxs("div",{className:"routines-section",children:[r.jsx("h3",{className:"section-title",children:""}),i.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"   "})]}):r.jsx("div",{className:"routines-list",children:i.map(({routine:d,percent:h,status:y,missed:j})=>r.jsxs("div",{className:"routine-item",onClick:()=>o(d),children:[r.jsxs("div",{className:"routine-info",children:[r.jsx("span",{className:"routine-title",children:d.title}),r.jsxs("span",{className:"routine-missed",children:[j," "]})]}),r.jsxs("div",{className:"routine-stats",children:[r.jsxs("span",{className:`routine-percent ${y}`,children:[h,"%"]}),r.jsx(qx,{percent:h,status:y})]})]},d.id))})]}),m&&r.jsxs("div",{className:`insight-card insight-${m.variant||"good"}`,children:[r.jsx("span",{className:"insight-icon",children:m.icon}),r.jsx("span",{className:"insight-text",children:m.text})]})]}),r.jsx(Ne,{isOpen:!!l,onClose:()=>o(null),title:(l==null?void 0:l.title)||" ",children:u&&r.jsxs("div",{className:"routine-details",children:[r.jsxs("div",{className:"details-section",children:[r.jsx("h4",{children:"  "}),r.jsx(Zx,{completedDates:u.completedDates,scheduledDates:u.scheduledDates,days:n==="7days"?7:n==="30days"?30:60,startDate:n==="all"?a.start:void 0}),r.jsxs("div",{className:"calendar-legend",children:[r.jsxs("span",{className:"legend-item",children:[r.jsx("span",{className:"dot completed"})," "]}),r.jsxs("span",{className:"legend-item",children:[r.jsx("span",{className:"dot missed"})," "]})]})]}),r.jsxs("div",{className:"details-stats",children:[r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value good",children:u.completed}),r.jsx("span",{className:"detail-label",children:""})]}),r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value danger",children:u.missed}),r.jsx("span",{className:"detail-label",children:""})]}),r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value",children:u.bestStreak}),r.jsx("span",{className:"detail-label",children:" "})]})]}),r.jsxs("div",{className:"details-section",children:[r.jsx("h4",{children:"   "}),r.jsx("div",{className:"weekday-chart",children:Xx.map(d=>{const h=u.missedByDay[d],y=Math.max(...Object.values(u.missedByDay),1),j=h/y*100,v=d===u.worstDay&&h>0;return r.jsxs("div",{className:"weekday-bar-container",children:[r.jsx("div",{className:`weekday-bar ${v?"worst":""}`,style:{height:`${j}%`}}),r.jsx("span",{className:"weekday-label",children:d}),r.jsx("span",{className:"weekday-count",children:h})]},d)})})]}),u.missed>0&&r.jsxs("div",{className:`routine-insight ${u.missed>10?"danger":u.missed>5?"warning":"good"}`,children:[r.jsx("span",{className:"insight-icon",children:u.missed>10?"":u.missed>5?"":""}),r.jsx("span",{className:"insight-text",children:u.missed>10?`! ${u.missed} .     ${Wn(u.worstDay)}`:u.missed>5?`${u.missed} .     ${Wn(u.worstDay)}`:`    ${Wn(u.worstDay)}`})]})]})})]})}const tv={focusDuration:25,shortBreakDuration:5,longBreakDuration:15,sessionsUntilLongBreak:4},nv=[{label:"15",value:15},{label:"25",value:25},{label:"45",value:45},{label:"60",value:60}];function rv(){const e=Vt(),{state:t,dispatch:n}=Ct(),[s]=f.useState(tv),l=new Date().toISOString().split("T")[0],o=(t.focusSessions||[]).filter(O=>{var W;return((W=O.date)==null?void 0:W.startsWith(l))&&O.completed}).length,a=t.timerState,[i,c]=f.useState((a==null?void 0:a.mode)||"focus"),[u,m]=f.useState(()=>{if(a!=null&&a.isRunning&&a.startedAt){const O=Math.floor((Date.now()-a.startedAt)/1e3);return Math.max(0,a.timeLeft-O)}return(a==null?void 0:a.timeLeft)||s.focusDuration*60}),[d,h]=f.useState((a==null?void 0:a.isRunning)||!1),[y,j]=f.useState((a==null?void 0:a.sessionsCompleted)??o),[v,k]=f.useState((a==null?void 0:a.currentTask)||""),[x,p]=f.useState((a==null?void 0:a.focusDuration)||s.focusDuration),[g,w]=f.useState(!d),C=f.useRef(null),_=f.useRef((a==null?void 0:a.startedAt)||0),E=f.useRef(!1),I=f.useRef(i),L=f.useRef(u),F=f.useRef(v),K=f.useRef(t),Y=f.useRef(d);f.useEffect(()=>{I.current=i},[i]),f.useEffect(()=>{L.current=u},[u]),f.useEffect(()=>{F.current=v},[v]),f.useEffect(()=>{K.current=t},[t]),f.useEffect(()=>{Y.current=d},[d]);const V=f.useCallback(O=>{switch(O){case"focus":return x*60;case"shortBreak":return s.shortBreakDuration*60;case"longBreak":return s.longBreakDuration*60}},[s,x]),oe=O=>{const W=Math.floor(O/60),X=O%60;return`${W.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}`},T=V(i),R=(T-u)/T*100,Q=()=>{switch(i){case"focus":return"#ea580c";case"shortBreak":return"#22c55e";case"longBreak":return"#2186b4"}},D=()=>{switch(i){case"focus":return"";case"shortBreak":return" ";case"longBreak":return" "}},z=f.useCallback((O,W)=>{const X={mode:I.current,timeLeft:L.current,isRunning:O,sessionsCompleted:y,currentTask:F.current,focusDuration:x,startedAt:W||_.current};n({type:"UPDATE_TIMER_STATE",payload:X})},[n,y,x]),G=f.useCallback(()=>{h(!0),w(!1);const O=Date.now(),W=V(i),X=O-(W-u)*1e3;_.current=X,E.current=!1,z(!0,X)},[z,i,u,V]),te=f.useCallback(()=>{h(!1),w(!0),z(!1)},[z]),ce=f.useCallback(()=>{h(!1),w(!0),m(V(i)),E.current=!1,n({type:"UPDATE_TIMER_STATE",payload:void 0})},[V,i,n]),pe=f.useCallback((O=!1)=>{if(i!=="focus"||E.current)return;const W=V(i)-u;if(W>=10){E.current=!0;const X={id:Re(),taskId:"",taskTitle:v||"-",duration:W,date:new Date().toISOString(),completed:O};n({type:"ADD_FOCUS_SESSION",payload:X});const b=K.current,re={...b,focusSessions:[...b.focusSessions||[],X]};Js(re).catch(console.error),K.current=re}},[i,V,u,v,n]);f.useEffect(()=>{const O=()=>{if(I.current!=="focus"||E.current)return;const b=V("focus")-L.current;if(b>=10){E.current=!0;const re={id:Re(),taskId:"",taskTitle:F.current||"-",duration:b,date:new Date().toISOString(),completed:!1};n({type:"ADD_FOCUS_SESSION",payload:re});const ue=K.current,U={...ue,focusSessions:[...ue.focusSessions||[],re]};Js(U).catch(console.error)}},W=()=>{O()};return window.addEventListener("beforeunload",W),()=>{if(window.removeEventListener("beforeunload",W),Y.current){const X={mode:I.current,timeLeft:L.current,isRunning:!0,sessionsCompleted:y,currentTask:F.current,focusDuration:x,startedAt:_.current};n({type:"UPDATE_TIMER_STATE",payload:X})}}},[V,n,y,x]);const ge=f.useCallback(()=>{if(h(!1),w(!0),i==="focus"){pe(!1);const O=y+1;j(O),setTimeout(()=>{E.current=!1,O%s.sessionsUntilLongBreak===0?(c("longBreak"),m(V("longBreak"))):(c("shortBreak"),m(V("shortBreak"))),n({type:"UPDATE_TIMER_STATE",payload:void 0})},100)}else E.current=!1,c("focus"),m(V("focus")),n({type:"UPDATE_TIMER_STATE",payload:void 0})},[i,V,y,s.sessionsUntilLongBreak,pe,n]),P=f.useCallback(()=>{if(h(!1),w(!0),fn([100,50,100,50,100]),i==="focus"){const O={id:Re(),taskId:"",taskTitle:v||"-",duration:V(i),date:new Date().toISOString(),completed:!0};n({type:"ADD_FOCUS_SESSION",payload:O});const W=K.current,X={...W,focusSessions:[...W.focusSessions||[],O]};Js(X).catch(console.error),K.current=X,E.current=!0;const b=y+1;j(b),setTimeout(()=>{E.current=!1,b%s.sessionsUntilLongBreak===0?(c("longBreak"),m(V("longBreak"))):(c("shortBreak"),m(V("shortBreak"))),n({type:"UPDATE_TIMER_STATE",payload:void 0})},100)}else c("focus"),m(V("focus")),n({type:"UPDATE_TIMER_STATE",payload:void 0})},[i,y,s.sessionsUntilLongBreak,V,n,v]),q=f.useCallback(O=>{!d&&i==="focus"&&(p(O),m(O*60))},[d,i]),ne=f.useCallback(O=>{d||(c(O),m(O==="focus"?x*60:V(O)))},[d,V,x]),se=f.useRef(0),le=O=>{se.current=O.touches[0].clientY},B=O=>{if(!d)return;const W=se.current-O.changedTouches[0].clientY;Math.abs(W)>50&&w(W<0)};f.useEffect(()=>{if(d&&u>0&&_.current>0){const O=V(i);C.current=window.setInterval(()=>{const W=Date.now(),X=Math.floor((W-_.current)/1e3),b=Math.max(0,O-X);b<=0?(P(),m(0)):m(b)},100)}return()=>{C.current&&clearInterval(C.current)}},[d,P,i,V]),f.useEffect(()=>(d?document.title=`${oe(u)} - ${D()}`:document.title="",()=>{document.title=""}),[u,d,i]);const N=196,S=8,A=(N-S)/2,H=A*2*Math.PI,ee=H-R/100*H;return r.jsx(Yt,{title:"",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),children:""}),children:r.jsxs("div",{className:`focus-page ${d&&!g?"minimal":""}`,onTouchStart:le,onTouchEnd:B,children:[(!d||g)&&r.jsxs("div",{className:"focus-modes",children:[r.jsx("button",{className:`focus-mode-btn ${i==="focus"?"active":""}`,onClick:()=>ne("focus"),disabled:d,children:""}),r.jsx("button",{className:`focus-mode-btn ${i==="shortBreak"?"active":""}`,onClick:()=>ne("shortBreak"),disabled:d,children:""}),r.jsx("button",{className:`focus-mode-btn ${i==="longBreak"?"active":""}`,onClick:()=>ne("longBreak"),disabled:d,children:""})]}),r.jsxs("div",{className:"focus-timer-container",children:[r.jsxs("svg",{className:"focus-timer-ring",width:N,height:N,style:{"--ring-color":Q()},children:[r.jsx("circle",{className:"focus-timer-bg",cx:N/2,cy:N/2,r:A,strokeWidth:S,fill:"none"}),r.jsx("circle",{className:"focus-timer-progress",cx:N/2,cy:N/2,r:A,strokeWidth:S,fill:"none",strokeDasharray:H,strokeDashoffset:ee,strokeLinecap:"round",style:{stroke:Q()}})]}),r.jsxs("div",{className:"focus-timer-display",children:[r.jsx("span",{className:"focus-timer-time",style:{color:Q()},children:oe(u)}),r.jsx("span",{className:"focus-timer-mode",children:D()}),v&&d&&!g&&r.jsx("span",{className:"focus-timer-task",children:v})]})]}),i==="focus"&&(!d||g)&&!d&&r.jsx("div",{className:"focus-presets",children:nv.map(O=>r.jsx("button",{className:`focus-preset-btn ${x===O.value?"active":""}`,onClick:()=>q(O.value),children:O.label},O.value))}),i==="focus"&&(!d||g)&&!d&&r.jsx("div",{className:"focus-task-input",children:r.jsx("input",{type:"text",value:v,onChange:O=>k(O.target.value),placeholder:"  ?",className:"focus-task-field"})}),r.jsxs("div",{className:"focus-controls",children:[d?r.jsxs("button",{className:"focus-control-btn primary",onClick:te,style:{backgroundColor:Q()},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),r.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),r.jsx("span",{children:""})]}):r.jsxs("button",{className:"focus-control-btn primary",onClick:G,style:{backgroundColor:Q()},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),r.jsx("span",{children:""})]}),r.jsx("button",{className:"focus-control-btn secondary",onClick:ce,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 4v6h6"}),r.jsx("path",{d:"M3.51 15a9 9 0 102.13-9.36L1 10"})]})}),r.jsx("button",{className:"focus-control-btn secondary",onClick:ge,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),r.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19",stroke:"currentColor",strokeWidth:"2"})]})})]}),(!d||g)&&r.jsxs("div",{className:"focus-sessions",children:[r.jsx("span",{className:"focus-sessions-label",children:" :"}),r.jsx("div",{className:"focus-sessions-dots",children:Array.from({length:s.sessionsUntilLongBreak}).map((O,W)=>r.jsx("span",{className:`focus-session-dot ${W<y%s.sessionsUntilLongBreak?"completed":""}`},W))}),r.jsx("span",{className:"focus-sessions-count",children:y})]}),(!d||g)&&t.focusSessions&&t.focusSessions.length>0&&r.jsxs("div",{className:"focus-today-stats",children:[r.jsx("span",{className:"focus-stats-label",children:"  :"}),r.jsxs("span",{className:"focus-stats-value",children:[Math.round(t.focusSessions.filter(O=>{var W;return(W=O.date)==null?void 0:W.startsWith(new Date().toISOString().split("T")[0])}).reduce((O,W)=>O+(W.duration||0),0)/60)," "]})]}),d&&!g&&r.jsx("div",{className:"focus-swipe-hint",children:"   "})]})})}const sv="/SDVIG-TEST2/";function lv(){var a;const e=yn(),t=Vt(),{state:n,dispatch:s}=Ct(),l=f.useRef(!1),o=f.useRef(!0);return f.useEffect(()=>{if(l.current)return;const i=n.settings,c=(i==null?void 0:i.startPageMode)||"default";let u;switch(c){case"last":u=i==null?void 0:i.lastVisitedPage;break;case"custom":u=i==null?void 0:i.customStartPage;break;case"default":default:u="/";break}u&&u!=="/"&&e.pathname==="/"?(l.current=!0,t(u,{replace:!0})):l.current=!0},[n.settings,t,e.pathname]),f.useEffect(()=>{var c;if(o.current){o.current=!1;return}if(e.pathname==="/settings")return;const i=e.pathname;((c=n.settings)==null?void 0:c.lastVisitedPage)!==i&&s({type:"SET_LAST_VISITED_PAGE",payload:i})},[e.pathname,s,(a=n.settings)==null?void 0:a.lastVisitedPage]),null}function ov(){return r.jsxs(r.Fragment,{children:[r.jsx(lv,{}),r.jsxs(r0,{children:[r.jsx(Dt,{path:"/",element:r.jsx(cx,{})}),r.jsx(Dt,{path:"/calendar",element:r.jsx(xx,{})}),r.jsx(Dt,{path:"/finance",element:r.jsx(bx,{})}),r.jsx(Dt,{path:"/tasks",element:r.jsx(Bx,{})}),r.jsx(Dt,{path:"/inbox",element:r.jsx(Fx,{})}),r.jsx(Dt,{path:"/profile",element:r.jsx(Yx,{})}),r.jsx(Dt,{path:"/settings",element:r.jsx(Kx,{})}),r.jsx(Dt,{path:"/focus",element:r.jsx(rv,{})}),r.jsx(Dt,{path:"/routine-analytics",element:r.jsx(ev,{})})]})]})}function av(){return r.jsx(H0,{children:r.jsx(V0,{children:r.jsx(d0,{basename:sv,children:r.jsx(ov,{})})})})}No.createRoot(document.getElementById("root")).render(r.jsx(au.StrictMode,{children:r.jsx(av,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
