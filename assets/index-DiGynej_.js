function $f(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jc={exports:{}},Cl={},qc={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Xf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),ji=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=ji&&e[ji]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eu=Object.assign,tu={};function gr(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Zc}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nu(){}nu.prototype=gr.prototype;function ka(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Zc}var Na=ka.prototype=new nu;Na.constructor=ka;eu(Na,gr.prototype);Na.isPureReactComponent=!0;var wi=Array.isArray,ru=Object.prototype.hasOwnProperty,Sa={current:null},su={key:!0,ref:!0,__self:!0,__source:!0};function lu(e,t,n){var s,l={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ru.call(t,s)&&!su.hasOwnProperty(s)&&(l[s]=t[s]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)l[s]===void 0&&(l[s]=i[s]);return{$$typeof:ps,type:e,key:o,ref:a,props:l,_owner:Sa.current}}function Zf(e,t){return{$$typeof:ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ca(e){return typeof e=="object"&&e!==null&&e.$$typeof===ps}function em(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ki=/\/+/g;function Hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?em(""+e.key):t.toString(36)}function Os(e,t,n,s,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ps:case Uf:a=!0}}if(a)return a=e,l=l(a),e=s===""?"."+Hl(a,0):s,wi(l)?(n="",e!=null&&(n=e.replace(ki,"$&/")+"/"),Os(l,t,n,"",function(u){return u})):l!=null&&(Ca(l)&&(l=Zf(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(ki,"$&/")+"/")+e)),t.push(l)),1;if(a=0,s=s===""?".":s+":",wi(e))for(var i=0;i<e.length;i++){o=e[i];var c=s+Hl(o,i);a+=Os(o,t,n,c,l)}else if(c=qf(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=s+Hl(o,i++),a+=Os(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ws(e,t,n){if(e==null)return e;var s=[],l=0;return Os(e,s,"","",function(o){return t.call(n,o,l++)}),s}function tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},$s={transition:null},nm={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Sa};function ou(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ws,forEach:function(e,t,n){ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Ca(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=gr;de.Fragment=zf;de.Profiler=Vf;de.PureComponent=ka;de.StrictMode=Hf;de.Suspense=Qf;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;de.act=ou;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=eu({},e.props),l=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Sa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ru.call(t,c)&&!su.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];s.children=i}return{$$typeof:ps,type:e.type,key:l,ref:o,props:s,_owner:a}};de.createContext=function(e){return e={$$typeof:Gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yf,_context:e},e.Consumer=e};de.createElement=lu;de.createFactory=function(e){var t=lu.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Kf,render:e}};de.isValidElement=Ca;de.lazy=function(e){return{$$typeof:Jf,_payload:{_status:-1,_result:e},_init:tm}};de.memo=function(e,t){return{$$typeof:Xf,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};de.unstable_act=ou;de.useCallback=function(e,t){return Ke.current.useCallback(e,t)};de.useContext=function(e){return Ke.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};de.useEffect=function(e,t){return Ke.current.useEffect(e,t)};de.useId=function(){return Ke.current.useId()};de.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Ke.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};de.useRef=function(e){return Ke.current.useRef(e)};de.useState=function(e){return Ke.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Ke.current.useTransition()};de.version="18.3.1";qc.exports=de;var f=qc.exports;const au=Wf(f),rm=$f({__proto__:null,default:au},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=f,lm=Symbol.for("react.element"),om=Symbol.for("react.fragment"),am=Object.prototype.hasOwnProperty,im=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cm={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var s,l={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)am.call(t,s)&&!cm.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:lm,type:e,key:o,ref:a,props:l,_owner:im.current}}Cl.Fragment=om;Cl.jsx=iu;Cl.jsxs=iu;Jc.exports=Cl;var r=Jc.exports,ko={},cu={exports:{}},at={},uu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,U){var Y=M.length;M.push(U);e:for(;0<Y;){var oe=Y-1>>>1,ue=M[oe];if(0<l(ue,U))M[oe]=U,M[Y]=ue,Y=oe;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var U=M[0],Y=M.pop();if(Y!==U){M[0]=Y;e:for(var oe=0,ue=M.length,xe=ue>>>1;oe<xe;){var fe=2*(oe+1)-1,I=M[fe],ee=fe+1,le=M[ee];if(0>l(I,Y))ee<ue&&0>l(le,I)?(M[oe]=le,M[ee]=Y,oe=ee):(M[oe]=I,M[fe]=Y,oe=fe);else if(ee<ue&&0>l(le,Y))M[oe]=le,M[ee]=Y,oe=ee;else break e}}return U}function l(M,U){var Y=M.sortIndex-U.sortIndex;return Y!==0?Y:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],h=1,d=null,m=3,y=!1,j=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=M)s(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function w(M){if(g=!1,x(M),!j)if(n(c)!==null)j=!0,P(C);else{var U=n(u);U!==null&&X(w,U.startTime-M)}}function C(M,U){j=!1,g&&(g=!1,v(_),_=-1),y=!0;var Y=m;try{for(x(U),d=n(c);d!==null&&(!(d.expirationTime>U)||M&&!K());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,m=d.priorityLevel;var ue=oe(d.expirationTime<=U);U=e.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(c)&&s(c),x(U)}else s(c);d=n(c)}if(d!==null)var xe=!0;else{var fe=n(u);fe!==null&&X(w,fe.startTime-U),xe=!1}return xe}finally{d=null,m=Y,y=!1}}var D=!1,E=null,_=-1,B=5,L=-1;function K(){return!(e.unstable_now()-L<B)}function G(){if(E!==null){var M=e.unstable_now();L=M;var U=!0;try{U=E(!0,M)}finally{U?V():(D=!1,E=null)}}else D=!1}var V;if(typeof p=="function")V=function(){p(G)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,T=ae.port2;ae.port1.onmessage=G,V=function(){T.postMessage(null)}}else V=function(){k(G,0)};function P(M){E=M,D||(D=!0,V())}function X(M,U){_=k(function(){M(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,P(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var Y=m;m=U;try{return M()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=m;m=M;try{return U()}finally{m=Y}},e.unstable_scheduleCallback=function(M,U,Y){var oe=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,M){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,M={id:h++,callback:U,priorityLevel:M,startTime:Y,expirationTime:ue,sortIndex:-1},Y>oe?(M.sortIndex=Y,t(u,M),n(c)===null&&M===n(u)&&(g?(v(_),_=-1):g=!0,X(w,Y-oe))):(M.sortIndex=ue,t(c,M),j||y||(j=!0,P(C))),M},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(M){var U=m;return function(){var Y=m;m=U;try{return M.apply(this,arguments)}finally{m=Y}}}})(du);uu.exports=du;var um=uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=f,ot=um;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fu=new Set,Kr={};function Bn(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Kr[e]=t,e=0;e<t.length;e++)fu.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=Object.prototype.hasOwnProperty,fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ni={},Si={};function mm(e){return No.call(Si,e)?!0:No.call(Ni,e)?!1:fm.test(e)?Si[e]=!0:(Ni[e]=!0,!1)}function hm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pm(e,t,n,s){if(t===null||typeof t>"u"||hm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,s,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ta=/[\-:]([a-z])/g;function Ea(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ta,Ea);$e[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ta,Ea);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ta,Ea);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Da(e,t,n,s){var l=$e.hasOwnProperty(t)?$e[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pm(t,n,l,s)&&(n=null),s||l===null?mm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Vt=dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Un=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Ma=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),mu=Symbol.for("react.provider"),hu=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),Co=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),_a=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),pu=Symbol.for("react.offscreen"),Ci=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=Ci&&e[Ci]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Vl;function Pr(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Yl=!1;function Gl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=s.stack.split(`
`),a=l.length-1,i=o.length-1;1<=a&&0<=i&&l[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==o[i]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pr(e):""}function xm(e){switch(e.tag){case 5:return Pr(e.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return e=Gl(e.type,!1),e;case 11:return e=Gl(e.type.render,!1),e;case 1:return e=Gl(e.type,!0),e;default:return""}}function Eo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Un:return"Portal";case So:return"Profiler";case Ma:return"StrictMode";case Co:return"Suspense";case To:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hu:return(e.displayName||"Context")+".Consumer";case mu:return(e._context.displayName||"Context")+".Provider";case ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _a:return t=e.displayName||null,t!==null?t:Eo(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Eo(e(t))}catch{}}return null}function vm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(t);case 8:return t===Ma?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gm(e){var t=xu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=gm(e))}function vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=xu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Do(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ti(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gu(e,t){t=t.checked,t!=null&&Da(e,"checked",t,!1)}function Mo(e,t){gu(e,t);var n=mn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bo(e,t.type,n):t.hasOwnProperty("defaultValue")&&bo(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bo(e,t,n){(t!=="number"||qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rr=Array.isArray;function er(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Di(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Rr(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function yu(e,t){var n=mn(t.value),s=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Mi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function ku(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function Nu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ku(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var jm=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(e,t){if(t){if(jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ao=null,tr=null,nr=null;function bi(e){if(e=gs(e)){if(typeof Ao!="function")throw Error($(280));var t=e.stateNode;t&&(t=bl(t),Ao(e.stateNode,e.type,t))}}function Su(e){tr?nr?nr.push(e):nr=[e]:tr=e}function Cu(){if(tr){var e=tr,t=nr;if(nr=tr=null,bi(e),t)for(e=0;e<t.length;e++)bi(t[e])}}function Tu(e,t){return e(t)}function Eu(){}var Kl=!1;function Du(e,t,n){if(Kl)return e(t,n);Kl=!0;try{return Tu(e,t,n)}finally{Kl=!1,(tr!==null||nr!==null)&&(Eu(),Cu())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var s=bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Bo=!1;if(Wt)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Bo=!1}function wm(e,t,n,s,l,o,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Fr=!1,Zs=null,el=!1,Fo=null,km={onError:function(e){Fr=!0,Zs=e}};function Nm(e,t,n,s,l,o,a,i,c){Fr=!1,Zs=null,wm.apply(km,arguments)}function Sm(e,t,n,s,l,o,a,i,c){if(Nm.apply(this,arguments),Fr){if(Fr){var u=Zs;Fr=!1,Zs=null}else throw Error($(198));el||(el=!0,Fo=u)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(Fn(e)!==e)throw Error($(188))}function Cm(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return _i(l),e;if(o===s)return _i(l),t;o=o.sibling}throw Error($(188))}if(n.return!==s.return)n=l,s=o;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,s=o;break}if(i===s){a=!0,s=l,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,s=l;break}if(i===s){a=!0,s=o,n=l;break}i=i.sibling}if(!a)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function bu(e){return e=Cm(e),e!==null?_u(e):null}function _u(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_u(e);if(t!==null)return t;e=e.sibling}return null}var Pu=ot.unstable_scheduleCallback,Pi=ot.unstable_cancelCallback,Tm=ot.unstable_shouldYield,Em=ot.unstable_requestPaint,_e=ot.unstable_now,Dm=ot.unstable_getCurrentPriorityLevel,Ra=ot.unstable_ImmediatePriority,Ru=ot.unstable_UserBlockingPriority,tl=ot.unstable_NormalPriority,Mm=ot.unstable_LowPriority,Iu=ot.unstable_IdlePriority,Tl=null,Rt=null;function bm(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Rm,_m=Math.log,Pm=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(_m(e)/Pm|0)|0}var Cs=64,Ts=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?s=Ir(i):(o&=a,o!==0&&(s=Ir(o)))}else a=n&~l,a!==0?s=Ir(a):o!==0&&(s=Ir(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-St(t),l=1<<n,s|=e[n],t&=~l;return s}function Im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-St(o),i=1<<a,c=l[a];c===-1?(!(i&n)||i&s)&&(l[a]=Im(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function Oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function Ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Am(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-St(n),o=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~o}}function Ia(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-St(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ge=0;function Au(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bu,La,Fu,Ou,$u,$o=!1,Es=[],nn=null,rn=null,sn=null,Jr=new Map,qr=new Map,Xt=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ri(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function Cr(e,t,n,s,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[l]},t!==null&&(t=gs(t),t!==null&&La(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Fm(e,t,n,s,l){switch(t){case"focusin":return nn=Cr(nn,e,t,n,s,l),!0;case"dragenter":return rn=Cr(rn,e,t,n,s,l),!0;case"mouseover":return sn=Cr(sn,e,t,n,s,l),!0;case"pointerover":var o=l.pointerId;return Jr.set(o,Cr(Jr.get(o)||null,e,t,n,s,l)),!0;case"gotpointercapture":return o=l.pointerId,qr.set(o,Cr(qr.get(o)||null,e,t,n,s,l)),!0}return!1}function Wu(e){var t=Sn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mu(n),t!==null){e.blockedOn=t,$u(e.priority,function(){Fu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Lo=s,n.target.dispatchEvent(s),Lo=null}else return t=gs(n),t!==null&&La(t),e.blockedOn=n,!1;t.shift()}return!0}function Ii(e,t,n){Ws(e)&&n.delete(t)}function Om(){$o=!1,nn!==null&&Ws(nn)&&(nn=null),rn!==null&&Ws(rn)&&(rn=null),sn!==null&&Ws(sn)&&(sn=null),Jr.forEach(Ii),qr.forEach(Ii)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Om)))}function Zr(e){function t(l){return Tr(l,e)}if(0<Es.length){Tr(Es[0],e);for(var n=1;n<Es.length;n++){var s=Es[n];s.blockedOn===e&&(s.blockedOn=null)}}for(nn!==null&&Tr(nn,e),rn!==null&&Tr(rn,e),sn!==null&&Tr(sn,e),Jr.forEach(t),qr.forEach(t),n=0;n<Xt.length;n++)s=Xt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Wu(n),n.blockedOn===null&&Xt.shift()}var rr=Vt.ReactCurrentBatchConfig,rl=!0;function $m(e,t,n,s){var l=ge,o=rr.transition;rr.transition=null;try{ge=1,Aa(e,t,n,s)}finally{ge=l,rr.transition=o}}function Wm(e,t,n,s){var l=ge,o=rr.transition;rr.transition=null;try{ge=4,Aa(e,t,n,s)}finally{ge=l,rr.transition=o}}function Aa(e,t,n,s){if(rl){var l=Wo(e,t,n,s);if(l===null)lo(e,t,s,sl,n),Ri(e,s);else if(Fm(l,e,t,n,s))s.stopPropagation();else if(Ri(e,s),t&4&&-1<Bm.indexOf(e)){for(;l!==null;){var o=gs(l);if(o!==null&&Bu(o),o=Wo(e,t,n,s),o===null&&lo(e,t,s,sl,n),o===l)break;l=o}l!==null&&s.stopPropagation()}else lo(e,t,s,null,n)}}var sl=null;function Wo(e,t,n,s){if(sl=null,e=Pa(s),e=Sn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function Uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ra:return 1;case Ru:return 4;case tl:case Mm:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var qt=null,Ba=null,Us=null;function zu(){if(Us)return Us;var e,t=Ba,n=t.length,s,l="value"in qt?qt.value:qt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===l[o-s];s++);return Us=l.slice(e,1<s?1-s:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Li(){return!1}function it(e){function t(n,s,l,o,a){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ds:Li,this.isPropagationStopped=Li,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=it(yr),vs=De({},yr,{view:0,detail:0}),Um=it(vs),Xl,Jl,Er,El=De({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Xl=e.screenX-Er.screenX,Jl=e.screenY-Er.screenY):Jl=Xl=0,Er=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),Ai=it(El),zm=De({},El,{dataTransfer:0}),Hm=it(zm),Vm=De({},vs,{relatedTarget:0}),ql=it(Vm),Ym=De({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=it(Ym),Km=De({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qm=it(Km),Xm=De({},yr,{data:0}),Bi=it(Xm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zm[e])?!!t[e]:!1}function Oa(){return eh}var th=De({},vs,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nh=it(th),rh=De({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=it(rh),sh=De({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),lh=it(sh),oh=De({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=it(oh),ih=De({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=it(ih),uh=[9,13,27,32],$a=Wt&&"CompositionEvent"in window,Or=null;Wt&&"documentMode"in document&&(Or=document.documentMode);var dh=Wt&&"TextEvent"in window&&!Or,Hu=Wt&&(!$a||Or&&8<Or&&11>=Or),Oi=" ",$i=!1;function Vu(e,t){switch(e){case"keyup":return uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function fh(e,t){switch(e){case"compositionend":return Yu(t);case"keypress":return t.which!==32?null:($i=!0,Oi);case"textInput":return e=t.data,e===Oi&&$i?null:e;default:return null}}function mh(e,t){if(Hn)return e==="compositionend"||!$a&&Vu(e,t)?(e=zu(),Us=Ba=qt=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hu&&t.locale!=="ko"?null:t.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hh[e.type]:t==="textarea"}function Gu(e,t,n,s){Su(s),t=ll(t,"onChange"),0<t.length&&(n=new Fa("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $r=null,es=null;function ph(e){sd(e,0)}function Dl(e){var t=Gn(e);if(vu(t))return e}function xh(e,t){if(e==="change")return t}var Ku=!1;if(Wt){var Zl;if(Wt){var eo="oninput"in document;if(!eo){var Ui=document.createElement("div");Ui.setAttribute("oninput","return;"),eo=typeof Ui.oninput=="function"}Zl=eo}else Zl=!1;Ku=Zl&&(!document.documentMode||9<document.documentMode)}function zi(){$r&&($r.detachEvent("onpropertychange",Qu),es=$r=null)}function Qu(e){if(e.propertyName==="value"&&Dl(es)){var t=[];Gu(t,es,e,Pa(e)),Du(ph,t)}}function vh(e,t,n){e==="focusin"?(zi(),$r=t,es=n,$r.attachEvent("onpropertychange",Qu)):e==="focusout"&&zi()}function gh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(es)}function yh(e,t){if(e==="click")return Dl(t)}function jh(e,t){if(e==="input"||e==="change")return Dl(t)}function wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:wh;function ts(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!No.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function Hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vi(e,t){var n=Hi(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hi(n)}}function Xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ju(){for(var e=window,t=qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qs(e.document)}return t}function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e){var t=Ju(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xu(n.ownerDocument.documentElement,n)){if(s!==null&&Wa(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(s.start,l);s=s.end===void 0?o:Math.min(s.end,l),!e.extend&&o>s&&(l=s,s=o,o=l),l=Vi(n,o);var a=Vi(n,s);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nh=Wt&&"documentMode"in document&&11>=document.documentMode,Vn=null,Uo=null,Wr=null,zo=!1;function Yi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zo||Vn==null||Vn!==qs(s)||(s=Vn,"selectionStart"in s&&Wa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wr&&ts(Wr,s)||(Wr=s,s=ll(Uo,"onSelect"),0<s.length&&(t=new Fa("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Vn)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},to={},qu={};Wt&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function Ml(e){if(to[e])return to[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qu)return to[e]=t[n];return e}var Zu=Ml("animationend"),ed=Ml("animationiteration"),td=Ml("animationstart"),nd=Ml("transitionend"),rd=new Map,Gi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){rd.set(e,t),Bn(t,[e])}for(var no=0;no<Gi.length;no++){var ro=Gi[no],Sh=ro.toLowerCase(),Ch=ro[0].toUpperCase()+ro.slice(1);pn(Sh,"on"+Ch)}pn(Zu,"onAnimationEnd");pn(ed,"onAnimationIteration");pn(td,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(nd,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Th=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ki(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Sm(s,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var i=s[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&l.isPropagationStopped())break e;Ki(l,i,u),o=c}else for(a=0;a<s.length;a++){if(i=s[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&l.isPropagationStopped())break e;Ki(l,i,u),o=c}}}if(el)throw e=Fo,el=!1,Fo=null,e}function je(e,t){var n=t[Ko];n===void 0&&(n=t[Ko]=new Set);var s=e+"__bubble";n.has(s)||(ld(t,e,2,!1),n.add(s))}function so(e,t,n){var s=0;t&&(s|=4),ld(n,e,s,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[bs]){e[bs]=!0,fu.forEach(function(n){n!=="selectionchange"&&(Th.has(n)||so(n,!1,e),so(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,so("selectionchange",!1,t))}}function ld(e,t,n,s){switch(Uu(t)){case 1:var l=$m;break;case 4:l=Wm;break;default:l=Aa}n=l.bind(null,t,n,e),l=void 0,!Bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function lo(e,t,n,s,l){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var i=s.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Sn(i),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}i=i.parentNode}}s=s.return}Du(function(){var u=o,h=Pa(n),d=[];e:{var m=rd.get(e);if(m!==void 0){var y=Fa,j=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":y=nh;break;case"focusin":j="focus",y=ql;break;case"focusout":j="blur",y=ql;break;case"beforeblur":case"afterblur":y=ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lh;break;case Zu:case ed:case td:y=Gm;break;case nd:y=ah;break;case"scroll":y=Um;break;case"wheel":y=ch;break;case"copy":case"cut":case"paste":y=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fi}var g=(t&4)!==0,k=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var p=u,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=Xr(p,v),w!=null&&g.push(rs(p,w,x)))),k)break;p=p.return}0<g.length&&(m=new y(m,j,null,n,h),d.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Lo&&(j=n.relatedTarget||n.fromElement)&&(Sn(j)||j[Ut]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=u,j=j?Sn(j):null,j!==null&&(k=Fn(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(g=Ai,w="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fi,w="onPointerLeave",v="onPointerEnter",p="pointer"),k=y==null?m:Gn(y),x=j==null?m:Gn(j),m=new g(w,p+"leave",y,n,h),m.target=k,m.relatedTarget=x,w=null,Sn(h)===u&&(g=new g(v,p+"enter",j,n,h),g.target=x,g.relatedTarget=k,w=g),k=w,y&&j)t:{for(g=y,v=j,p=0,x=g;x;x=On(x))p++;for(x=0,w=v;w;w=On(w))x++;for(;0<p-x;)g=On(g),p--;for(;0<x-p;)v=On(v),x--;for(;p--;){if(g===v||v!==null&&g===v.alternate)break t;g=On(g),v=On(v)}g=null}else g=null;y!==null&&Qi(d,m,y,g,!1),j!==null&&k!==null&&Qi(d,k,j,g,!0)}}e:{if(m=u?Gn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=xh;else if(Wi(m))if(Ku)C=jh;else{C=gh;var D=vh}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=yh);if(C&&(C=C(e,u))){Gu(d,C,n,h);break e}D&&D(e,m,u),e==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&bo(m,"number",m.value)}switch(D=u?Gn(u):window,e){case"focusin":(Wi(D)||D.contentEditable==="true")&&(Vn=D,Uo=u,Wr=null);break;case"focusout":Wr=Uo=Vn=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Yi(d,n,h);break;case"selectionchange":if(Nh)break;case"keydown":case"keyup":Yi(d,n,h)}var E;if($a)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Hn?Vu(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Hu&&n.locale!=="ko"&&(Hn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Hn&&(E=zu()):(qt=h,Ba="value"in qt?qt.value:qt.textContent,Hn=!0)),D=ll(u,_),0<D.length&&(_=new Bi(_,e,null,n,h),d.push({event:_,listeners:D}),E?_.data=E:(E=Yu(n),E!==null&&(_.data=E)))),(E=dh?fh(e,n):mh(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(h=new Bi("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=E))}sd(d,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Xr(e,n),o!=null&&s.unshift(rs(e,o,l)),o=Xr(e,t),o!=null&&s.push(rs(e,o,l))),e=e.return}return s}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qi(e,t,n,s,l){for(var o=t._reactName,a=[];n!==null&&n!==s;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&u!==null&&(i=u,l?(c=Xr(n,o),c!=null&&a.unshift(rs(n,c,i))):l||(c=Xr(n,o),c!=null&&a.push(rs(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Eh=/\r\n?/g,Dh=/\u0000|\uFFFD/g;function Xi(e){return(typeof e=="string"?e:""+e).replace(Eh,`
`).replace(Dh,"")}function _s(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error($(425))}function ol(){}var Ho=null,Vo=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Go=typeof setTimeout=="function"?setTimeout:void 0,Mh=typeof clearTimeout=="function"?clearTimeout:void 0,Ji=typeof Promise=="function"?Promise:void 0,bh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ji<"u"?function(e){return Ji.resolve(null).then(e).catch(_h)}:Go;function _h(e){setTimeout(function(){throw e})}function oo(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),Zr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);Zr(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),_t="__reactFiber$"+jr,ss="__reactProps$"+jr,Ut="__reactContainer$"+jr,Ko="__reactEvents$"+jr,Ph="__reactListeners$"+jr,Rh="__reactHandles$"+jr;function Sn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qi(e);e!==null;){if(n=e[_t])return n;e=qi(e)}return t}e=n,n=e.parentNode}return null}function gs(e){return e=e[_t]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function bl(e){return e[ss]||null}var Qo=[],Kn=-1;function xn(e){return{current:e}}function we(e){0>Kn||(e.current=Qo[Kn],Qo[Kn]=null,Kn--)}function ye(e,t){Kn++,Qo[Kn]=e.current,e.current=t}var hn={},He=xn(hn),qe=xn(!1),bn=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ze(e){return e=e.childContextTypes,e!=null}function al(){we(qe),we(He)}function Zi(e,t,n){if(He.current!==hn)throw Error($(168));ye(He,t),ye(qe,n)}function od(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error($(108,vm(e)||"Unknown",l));return De({},n,s)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,bn=He.current,ye(He,e),ye(qe,qe.current),!0}function ec(e,t,n){var s=e.stateNode;if(!s)throw Error($(169));n?(e=od(e,t,bn),s.__reactInternalMemoizedMergedChildContext=e,we(qe),we(He),ye(He,e)):we(qe),ye(qe,n)}var Bt=null,_l=!1,ao=!1;function ad(e){Bt===null?Bt=[e]:Bt.push(e)}function Ih(e){_l=!0,ad(e)}function vn(){if(!ao&&Bt!==null){ao=!0;var e=0,t=ge;try{var n=Bt;for(ge=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Bt=null,_l=!1}catch(l){throw Bt!==null&&(Bt=Bt.slice(e+1)),Pu(Ra,vn),l}finally{ge=t,ao=!1}}return null}var Qn=[],Xn=0,cl=null,ul=0,ut=[],dt=0,_n=null,Ft=1,Ot="";function kn(e,t){Qn[Xn++]=ul,Qn[Xn++]=cl,cl=e,ul=t}function id(e,t,n){ut[dt++]=Ft,ut[dt++]=Ot,ut[dt++]=_n,_n=e;var s=Ft;e=Ot;var l=32-St(s)-1;s&=~(1<<l),n+=1;var o=32-St(t)+l;if(30<o){var a=l-l%5;o=(s&(1<<a)-1).toString(32),s>>=a,l-=a,Ft=1<<32-St(t)+l|n<<l|s,Ot=o+e}else Ft=1<<o|n<<l|s,Ot=e}function Ua(e){e.return!==null&&(kn(e,1),id(e,1,0))}function za(e){for(;e===cl;)cl=Qn[--Xn],Qn[Xn]=null,ul=Qn[--Xn],Qn[Xn]=null;for(;e===_n;)_n=ut[--dt],ut[dt]=null,Ot=ut[--dt],ut[dt]=null,Ft=ut[--dt],ut[dt]=null}var lt=null,st=null,Se=!1,Nt=null;function cd(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Ft,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(Se){var t=st;if(t){var n=t;if(!tc(e,t)){if(Xo(e))throw Error($(418));t=ln(n.nextSibling);var s=lt;t&&tc(e,t)?cd(s,n):(e.flags=e.flags&-4097|2,Se=!1,lt=e)}}else{if(Xo(e))throw Error($(418));e.flags=e.flags&-4097|2,Se=!1,lt=e}}}function nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ps(e){if(e!==lt)return!1;if(!Se)return nc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=st)){if(Xo(e))throw ud(),Error($(418));for(;t;)cd(e,t),t=ln(t.nextSibling)}if(nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?ln(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=st;e;)e=ln(e.nextSibling)}function ur(){st=lt=null,Se=!1}function Ha(e){Nt===null?Nt=[e]:Nt.push(e)}var Lh=Vt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var s=n.stateNode}if(!s)throw Error($(147,e));var l=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=l.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Rs(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rc(e){var t=e._init;return t(e._payload)}function dd(e){function t(v,p){if(e){var x=v.deletions;x===null?(v.deletions=[p],v.flags|=16):x.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function s(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function l(v,p){return v=un(v,p),v.index=0,v.sibling=null,v}function o(v,p,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<p?(v.flags|=2,p):x):(v.flags|=2,p)):(v.flags|=1048576,p)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function i(v,p,x,w){return p===null||p.tag!==6?(p=po(x,v.mode,w),p.return=v,p):(p=l(p,x),p.return=v,p)}function c(v,p,x,w){var C=x.type;return C===zn?h(v,p,x.props.children,w,x.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&rc(C)===p.type)?(w=l(p,x.props),w.ref=Dr(v,p,x),w.return=v,w):(w=Xs(x.type,x.key,x.props,null,v.mode,w),w.ref=Dr(v,p,x),w.return=v,w)}function u(v,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=xo(x,v.mode,w),p.return=v,p):(p=l(p,x.children||[]),p.return=v,p)}function h(v,p,x,w,C){return p===null||p.tag!==7?(p=Dn(x,v.mode,w,C),p.return=v,p):(p=l(p,x),p.return=v,p)}function d(v,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=po(""+p,v.mode,x),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return x=Xs(p.type,p.key,p.props,null,v.mode,x),x.ref=Dr(v,null,p),x.return=v,x;case Un:return p=xo(p,v.mode,x),p.return=v,p;case Kt:var w=p._init;return d(v,w(p._payload),x)}if(Rr(p)||Nr(p))return p=Dn(p,v.mode,x,null),p.return=v,p;Rs(v,p)}return null}function m(v,p,x,w){var C=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:i(v,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ks:return x.key===C?c(v,p,x,w):null;case Un:return x.key===C?u(v,p,x,w):null;case Kt:return C=x._init,m(v,p,C(x._payload),w)}if(Rr(x)||Nr(x))return C!==null?null:h(v,p,x,w,null);Rs(v,x)}return null}function y(v,p,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,i(p,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ks:return v=v.get(w.key===null?x:w.key)||null,c(p,v,w,C);case Un:return v=v.get(w.key===null?x:w.key)||null,u(p,v,w,C);case Kt:var D=w._init;return y(v,p,x,D(w._payload),C)}if(Rr(w)||Nr(w))return v=v.get(x)||null,h(p,v,w,C,null);Rs(p,w)}return null}function j(v,p,x,w){for(var C=null,D=null,E=p,_=p=0,B=null;E!==null&&_<x.length;_++){E.index>_?(B=E,E=null):B=E.sibling;var L=m(v,E,x[_],w);if(L===null){E===null&&(E=B);break}e&&E&&L.alternate===null&&t(v,E),p=o(L,p,_),D===null?C=L:D.sibling=L,D=L,E=B}if(_===x.length)return n(v,E),Se&&kn(v,_),C;if(E===null){for(;_<x.length;_++)E=d(v,x[_],w),E!==null&&(p=o(E,p,_),D===null?C=E:D.sibling=E,D=E);return Se&&kn(v,_),C}for(E=s(v,E);_<x.length;_++)B=y(E,v,_,x[_],w),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?_:B.key),p=o(B,p,_),D===null?C=B:D.sibling=B,D=B);return e&&E.forEach(function(K){return t(v,K)}),Se&&kn(v,_),C}function g(v,p,x,w){var C=Nr(x);if(typeof C!="function")throw Error($(150));if(x=C.call(x),x==null)throw Error($(151));for(var D=C=null,E=p,_=p=0,B=null,L=x.next();E!==null&&!L.done;_++,L=x.next()){E.index>_?(B=E,E=null):B=E.sibling;var K=m(v,E,L.value,w);if(K===null){E===null&&(E=B);break}e&&E&&K.alternate===null&&t(v,E),p=o(K,p,_),D===null?C=K:D.sibling=K,D=K,E=B}if(L.done)return n(v,E),Se&&kn(v,_),C;if(E===null){for(;!L.done;_++,L=x.next())L=d(v,L.value,w),L!==null&&(p=o(L,p,_),D===null?C=L:D.sibling=L,D=L);return Se&&kn(v,_),C}for(E=s(v,E);!L.done;_++,L=x.next())L=y(E,v,_,L.value,w),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?_:L.key),p=o(L,p,_),D===null?C=L:D.sibling=L,D=L);return e&&E.forEach(function(G){return t(v,G)}),Se&&kn(v,_),C}function k(v,p,x,w){if(typeof x=="object"&&x!==null&&x.type===zn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ks:e:{for(var C=x.key,D=p;D!==null;){if(D.key===C){if(C=x.type,C===zn){if(D.tag===7){n(v,D.sibling),p=l(D,x.props.children),p.return=v,v=p;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&rc(C)===D.type){n(v,D.sibling),p=l(D,x.props),p.ref=Dr(v,D,x),p.return=v,v=p;break e}n(v,D);break}else t(v,D);D=D.sibling}x.type===zn?(p=Dn(x.props.children,v.mode,w,x.key),p.return=v,v=p):(w=Xs(x.type,x.key,x.props,null,v.mode,w),w.ref=Dr(v,p,x),w.return=v,v=w)}return a(v);case Un:e:{for(D=x.key;p!==null;){if(p.key===D)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(v,p.sibling),p=l(p,x.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=xo(x,v.mode,w),p.return=v,v=p}return a(v);case Kt:return D=x._init,k(v,p,D(x._payload),w)}if(Rr(x))return j(v,p,x,w);if(Nr(x))return g(v,p,x,w);Rs(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(v,p.sibling),p=l(p,x),p.return=v,v=p):(n(v,p),p=po(x,v.mode,w),p.return=v,v=p),a(v)):n(v,p)}return k}var dr=dd(!0),fd=dd(!1),dl=xn(null),fl=null,Jn=null,Va=null;function Ya(){Va=Jn=fl=null}function Ga(e){var t=dl.current;we(dl),e._currentValue=t}function qo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){fl=e,Va=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Va!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(fl===null)throw Error($(308));Jn=e,fl.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var Cn=null;function Ka(e){Cn===null?Cn=[e]:Cn.push(e)}function md(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Ka(t)):(n.next=l.next,l.next=n),t.interleaved=n,zt(e,s)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,he&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,zt(e,n)}return l=s.interleaved,l===null?(t.next=t,Ka(s)):(t.next=l.next,l.next=t),s.interleaved=t,zt(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ia(e,n)}}function sc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ml(e,t,n,s){var l=e.updateQueue;Qt=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,i=h.lastBaseUpdate,i!==a&&(i===null?h.firstBaseUpdate=u:i.next=u,h.lastBaseUpdate=c))}if(o!==null){var d=l.baseState;a=0,h=u=c=null,i=o;do{var m=i.lane,y=i.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var j=e,g=i;switch(m=t,y=n,g.tag){case 1:if(j=g.payload,typeof j=="function"){d=j.call(y,d,m);break e}d=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,m=typeof j=="function"?j.call(y,d,m):j,m==null)break e;d=De({},d,m);break e;case 2:Qt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[i]:m.push(i))}else y={eventTime:y,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},h===null?(u=h=y,c=d):h=h.next=y,a|=m;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;m=i,i=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(h===null&&(c=d),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Rn|=a,e.lanes=a,e.memoizedState=d}}function lc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error($(191,l));l.call(s)}}}var ys={},It=xn(ys),ls=xn(ys),os=xn(ys);function Tn(e){if(e===ys)throw Error($(174));return e}function Xa(e,t){switch(ye(os,t),ye(ls,e),ye(It,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}we(It),ye(It,t)}function fr(){we(It),we(ls),we(os)}function pd(e){Tn(os.current);var t=Tn(It.current),n=Po(t,e.type);t!==n&&(ye(ls,e),ye(It,n))}function Ja(e){ls.current===e&&(we(It),we(ls))}var Ce=xn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=[];function qa(){for(var e=0;e<io.length;e++)io[e]._workInProgressVersionPrimary=null;io.length=0}var Vs=Vt.ReactCurrentDispatcher,co=Vt.ReactCurrentBatchConfig,Pn=0,Ee=null,Re=null,Le=null,pl=!1,Ur=!1,as=0,Ah=0;function We(){throw Error($(321))}function Za(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function ei(e,t,n,s,l,o){if(Pn=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?$h:Wh,e=n(s,l),Ur){o=0;do{if(Ur=!1,as=0,25<=o)throw Error($(301));o+=1,Le=Re=null,t.updateQueue=null,Vs.current=Uh,e=n(s,l)}while(Ur)}if(Vs.current=xl,t=Re!==null&&Re.next!==null,Pn=0,Le=Re=Ee=null,pl=!1,t)throw Error($(300));return e}function ti(){var e=as!==0;return as=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Ee.memoizedState=Le=e:Le=Le.next=e,Le}function gt(){if(Re===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Le===null?Ee.memoizedState:Le.next;if(t!==null)Le=t,Re=e;else{if(e===null)throw Error($(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Le===null?Ee.memoizedState=Le=e:Le=Le.next=e}return Le}function is(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=gt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=Re,l=s.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}s.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,s=s.baseState;var i=a=null,c=null,u=o;do{var h=u.lane;if((Pn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=d,a=s):c=c.next=d,Ee.lanes|=h,Rn|=h}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=i,Tt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Ee.lanes|=o,Rn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=gt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);Tt(o,t.memoizedState)||(Je=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function xd(){}function vd(e,t){var n=Ee,s=gt(),l=t(),o=!Tt(s.memoizedState,l);if(o&&(s.memoizedState=l,Je=!0),s=s.queue,ni(jd.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,cs(9,yd.bind(null,n,s,l,t),void 0,null),Ae===null)throw Error($(349));Pn&30||gd(n,t,l)}return l}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,s){t.value=n,t.getSnapshot=s,wd(t)&&kd(e)}function jd(e,t,n){return n(function(){wd(t)&&kd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function kd(e){var t=zt(e,1);t!==null&&Ct(t,e,1,-1)}function oc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,Ee,e),[t.memoizedState,e]}function cs(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Nd(){return gt().memoizedState}function Ys(e,t,n,s){var l=bt();Ee.flags|=e,l.memoizedState=cs(1|t,n,void 0,s===void 0?null:s)}function Pl(e,t,n,s){var l=gt();s=s===void 0?null:s;var o=void 0;if(Re!==null){var a=Re.memoizedState;if(o=a.destroy,s!==null&&Za(s,a.deps)){l.memoizedState=cs(t,n,o,s);return}}Ee.flags|=e,l.memoizedState=cs(1|t,n,o,s)}function ac(e,t){return Ys(8390656,8,e,t)}function ni(e,t){return Pl(2048,8,e,t)}function Sd(e,t){return Pl(4,2,e,t)}function Cd(e,t){return Pl(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,n){return n=n!=null?n.concat([e]):null,Pl(4,4,Td.bind(null,t,e),n)}function ri(){}function Dd(e,t){var n=gt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Za(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=gt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Za(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function bd(e,t,n){return Pn&21?(Tt(n,t)||(n=Lu(),Ee.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Bh(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var s=co.transition;co.transition={};try{e(!1),t()}finally{ge=n,co.transition=s}}function _d(){return gt().memoizedState}function Fh(e,t,n){var s=cn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(e))Rd(t,n);else if(n=md(e,t,n,s),n!==null){var l=Ge();Ct(n,e,s,l),Id(n,t,s)}}function Oh(e,t,n){var s=cn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(e))Rd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(l.hasEagerState=!0,l.eagerState=i,Tt(i,a)){var c=t.interleaved;c===null?(l.next=l,Ka(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=md(e,t,l,s),n!==null&&(l=Ge(),Ct(n,e,s,l),Id(n,t,s))}}function Pd(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Rd(e,t){Ur=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Id(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ia(e,n)}}var xl={readContext:vt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},$h={readContext:vt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,Td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Fh.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:oc,useDebugValue:ri,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=oc(!1),t=e[0];return e=Bh.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ee,l=bt();if(Se){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ae===null)throw Error($(349));Pn&30||gd(s,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,ac(jd.bind(null,s,o,e),[e]),s.flags|=2048,cs(9,yd.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=bt(),t=Ae.identifierPrefix;if(Se){var n=Ot,s=Ft;n=(s&~(1<<32-St(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=as++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ah++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wh={readContext:vt,useCallback:Dd,useContext:vt,useEffect:ni,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Md,useReducer:uo,useRef:Nd,useState:function(){return uo(is)},useDebugValue:ri,useDeferredValue:function(e){var t=gt();return bd(t,Re.memoizedState,e)},useTransition:function(){var e=uo(is)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:_d,unstable_isNewReconciler:!1},Uh={readContext:vt,useCallback:Dd,useContext:vt,useEffect:ni,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Md,useReducer:fo,useRef:Nd,useState:function(){return fo(is)},useDebugValue:ri,useDeferredValue:function(e){var t=gt();return Re===null?t.memoizedState=e:bd(t,Re.memoizedState,e)},useTransition:function(){var e=fo(is)[0],t=gt().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:_d,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ge(),l=cn(e),o=$t(s,l);o.payload=t,n!=null&&(o.callback=n),t=on(e,o,l),t!==null&&(Ct(t,e,l,s),Hs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ge(),l=cn(e),o=$t(s,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=on(e,o,l),t!==null&&(Ct(t,e,l,s),Hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),s=cn(e),l=$t(n,s);l.tag=2,t!=null&&(l.callback=t),t=on(e,l,s),t!==null&&(Ct(t,e,s,n),Hs(t,e,s))}};function ic(e,t,n,s,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):t.prototype&&t.prototype.isPureReactComponent?!ts(n,s)||!ts(l,o):!0}function Ld(e,t,n){var s=!1,l=hn,o=t.contextType;return typeof o=="object"&&o!==null?o=vt(o):(l=Ze(t)?bn:He.current,s=t.contextTypes,o=(s=s!=null)?cr(e,l):hn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function cc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function ea(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Qa(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=vt(o):(o=Ze(t)?bn:He.current,l.context=cr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zo(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Rl.enqueueReplaceState(l,l.state,null),ml(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",s=t;do n+=xm(s),s=s.return;while(s);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ta(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function Ad(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){gl||(gl=!0,da=s),ta(e,t)},n}function Bd(e,t,n){n=$t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){ta(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ta(e,t),typeof s!="function"&&(an===null?an=new Set([this]):an.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function uc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new zh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=rp.bind(null,e,t,n),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e)}var Hh=Vt.ReactCurrentOwner,Je=!1;function Ye(e,t,n,s){t.child=e===null?fd(t,null,n,s):dr(t,e.child,n,s)}function mc(e,t,n,s,l){n=n.render;var o=t.ref;return sr(t,l),s=ei(e,t,n,s,o,l),n=ti(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ht(e,t,l)):(Se&&n&&Ua(t),t.flags|=1,Ye(e,t,s,l),t.child)}function hc(e,t,n,s,l){if(e===null){var o=n.type;return typeof o=="function"&&!di(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Fd(e,t,o,s,l)):(e=Xs(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(a,s)&&e.ref===t.ref)return Ht(e,t,l)}return t.flags|=1,e=un(o,s),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,s,l){if(e!==null){var o=e.memoizedProps;if(ts(o,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=o,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Ht(e,t,l)}return na(e,t,n,s,l)}function Od(e,t,n){var s=t.pendingProps,l=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Zn,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Zn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,ye(Zn,nt),nt|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,ye(Zn,nt),nt|=s;return Ye(e,t,l,n),t.child}function $d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function na(e,t,n,s,l){var o=Ze(n)?bn:He.current;return o=cr(t,o),sr(t,l),n=ei(e,t,n,s,o,l),s=ti(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ht(e,t,l)):(Se&&s&&Ua(t),t.flags|=1,Ye(e,t,n,l),t.child)}function pc(e,t,n,s,l){if(Ze(n)){var o=!0;il(t)}else o=!1;if(sr(t,l),t.stateNode===null)Gs(e,t),Ld(t,n,s),ea(t,n,s,l),s=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Ze(n)?bn:He.current,u=cr(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==s||c!==u)&&cc(t,a,s,u),Qt=!1;var m=t.memoizedState;a.state=m,ml(t,s,a,l),c=t.memoizedState,i!==s||m!==c||qe.current||Qt?(typeof h=="function"&&(Zo(t,n,h,s),c=t.memoizedState),(i=Qt||ic(t,n,i,s,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,hd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:wt(t.type,i),a.props=u,d=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Ze(n)?bn:He.current,c=cr(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==d||m!==c)&&cc(t,a,s,c),Qt=!1,m=t.memoizedState,a.state=m,ml(t,s,a,l);var j=t.memoizedState;i!==d||m!==j||qe.current||Qt?(typeof y=="function"&&(Zo(t,n,y,s),j=t.memoizedState),(u=Qt||ic(t,n,u,s,m,j,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,j,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,j,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),a.props=s,a.state=j,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return ra(e,t,n,s,o,l)}function ra(e,t,n,s,l,o){$d(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return l&&ec(t,n,!1),Ht(e,t,o);s=t.stateNode,Hh.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=dr(t,e.child,null,o),t.child=dr(t,null,i,o)):Ye(e,t,i,o),t.memoizedState=s.state,l&&ec(t,n,!0),t.child}function Wd(e){var t=e.stateNode;t.pendingContext?Zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zi(e,t.context,!1),Xa(e,t.containerInfo)}function xc(e,t,n,s,l){return ur(),Ha(l),t.flags|=256,Ye(e,t,n,s),t.child}var sa={dehydrated:null,treeContext:null,retryLane:0};function la(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var s=t.pendingProps,l=Ce.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(Ce,l&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Al(a,s,0,null),e=Dn(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=la(n),t.memoizedState=sa,e):si(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Vh(e,t,a,s,i,l,n);if(o){o=s.fallback,a=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=un(l,c),s.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=un(i,o):(o=Dn(o,a,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=e.child.memoizedState,a=a===null?la(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=sa,s}return o=e.child,e=o.sibling,s=un(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function si(e,t){return t=Al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,n,s){return s!==null&&Ha(s),dr(t,e.child,null,n),e=si(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vh(e,t,n,s,l,o,a){if(n)return t.flags&256?(t.flags&=-257,s=mo(Error($(422))),Is(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,l=t.mode,s=Al({mode:"visible",children:s.children},l,0,null),o=Dn(o,l,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&dr(t,e.child,null,a),t.child.memoizedState=la(a),t.memoizedState=sa,o);if(!(t.mode&1))return Is(e,t,a,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var i=s.dgst;return s=i,o=Error($(419)),s=mo(o,s,void 0),Is(e,t,a,s)}if(i=(a&e.childLanes)!==0,Je||i){if(s=Ae,s!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,zt(e,l),Ct(s,e,l,-1))}return ui(),s=mo(Error($(421))),Is(e,t,a,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=sp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=ln(l.nextSibling),lt=t,Se=!0,Nt=null,e!==null&&(ut[dt++]=Ft,ut[dt++]=Ot,ut[dt++]=_n,Ft=e.id,Ot=e.overflow,_n=t),t=si(t,s.children),t.flags|=4096,t)}function vc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qo(e.return,t,n)}function ho(e,t,n,s,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=l)}function zd(e,t,n){var s=t.pendingProps,l=s.revealOrder,o=s.tail;if(Ye(e,t,s.children,n),s=Ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vc(e,n,t);else if(e.tag===19)vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ye(Ce,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ho(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&hl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ho(t,!0,n,null,o);break;case"together":ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yh(e,t,n){switch(t.tag){case 3:Wd(t),ur();break;case 5:pd(t);break;case 1:Ze(t.type)&&il(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ye(dl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(ye(Ce,Ce.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return zd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,Od(e,t,n)}return Ht(e,t,n)}var Hd,oa,Vd,Yd;Hd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oa=function(){};Vd=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Tn(It.current);var o=null;switch(n){case"input":l=Do(e,l),s=Do(e,s),o=[];break;case"select":l=De({},l,{value:void 0}),s=De({},s,{value:void 0}),o=[];break;case"textarea":l=_o(e,l),s=_o(e,s),o=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ol)}Ro(n,s);var a;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(i=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Yd=function(e,t,n,s){n!==s&&(t.flags|=4)};function Mr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Gh(e,t,n){var s=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ze(t.type)&&al(),Ue(t),null;case 3:return s=t.stateNode,fr(),we(qe),we(He),qa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(ha(Nt),Nt=null))),oa(e,t),Ue(t),null;case 5:Ja(t);var l=Tn(os.current);if(n=t.type,e!==null&&t.stateNode!=null)Vd(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return Ue(t),null}if(e=Tn(It.current),Ps(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[_t]=t,s[ss]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<Lr.length;l++)je(Lr[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":Ti(s,o),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},je("invalid",s);break;case"textarea":Di(s,o),je("invalid",s)}Ro(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?s.textContent!==i&&(o.suppressHydrationWarning!==!0&&_s(s.textContent,i,e),l=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&_s(s.textContent,i,e),l=["children",""+i]):Kr.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&je("scroll",s)}switch(n){case"input":Ns(s),Ei(s,o,!0);break;case"textarea":Ns(s),Mi(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=ol)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[_t]=t,e[ss]=s,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Io(n,s),n){case"dialog":je("cancel",e),je("close",e),l=s;break;case"iframe":case"object":case"embed":je("load",e),l=s;break;case"video":case"audio":for(l=0;l<Lr.length;l++)je(Lr[l],e);l=s;break;case"source":je("error",e),l=s;break;case"img":case"image":case"link":je("error",e),je("load",e),l=s;break;case"details":je("toggle",e),l=s;break;case"input":Ti(e,s),l=Do(e,s),je("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=De({},s,{value:void 0}),je("invalid",e);break;case"textarea":Di(e,s),l=_o(e,s),je("invalid",e);break;default:l=s}Ro(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?Nu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wu(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qr(e,c):typeof c=="number"&&Qr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",e):c!=null&&Da(e,o,c,a))}switch(n){case"input":Ns(e),Ei(e,s,!1);break;case"textarea":Ns(e),Mi(e);break;case"option":s.value!=null&&e.setAttribute("value",""+mn(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?er(e,!!s.multiple,o,!1):s.defaultValue!=null&&er(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(n=Tn(os.current),Tn(It.current),Ps(t)){if(s=t.stateNode,n=t.memoizedProps,s[_t]=t,(o=s.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:_s(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[_t]=t,t.stateNode=s}return Ue(t),null;case 13:if(we(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&st!==null&&t.mode&1&&!(t.flags&128))ud(),ur(),t.flags|=98560,o=!1;else if(o=Ps(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[_t]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else Nt!==null&&(ha(Nt),Nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ie===0&&(Ie=3):ui())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return fr(),oa(e,t),e===null&&ns(t.stateNode.containerInfo),Ue(t),null;case 10:return Ga(t.type._context),Ue(t),null;case 17:return Ze(t.type)&&al(),Ue(t),null;case 19:if(we(Ce),o=t.memoizedState,o===null)return Ue(t),null;if(s=(t.flags&128)!==0,a=o.rendering,a===null)if(s)Mr(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hl(e),a!==null){for(t.flags|=128,Mr(o,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>hr&&(t.flags|=128,s=!0,Mr(o,!1),t.lanes=4194304)}else{if(!s)if(e=hl(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Se)return Ue(t),null}else 2*_e()-o.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,s=!0,Mr(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,n=Ce.current,ye(Ce,s?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return ci(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?nt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Kh(e,t){switch(za(t),t.tag){case 1:return Ze(t.type)&&al(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),we(qe),we(He),qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ja(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return fr(),null;case 10:return Ga(t.type._context),null;case 22:case 23:return ci(),null;case 24:return null;default:return null}}var Ls=!1,ze=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,q=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Me(e,t,s)}else n.current=null}function aa(e,t,n){try{n()}catch(s){Me(e,t,s)}}var gc=!1;function Xh(e,t){if(Ho=rl,e=Ju(),Wa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var y;d!==n||l!==0&&d.nodeType!==3||(i=a+l),d!==o||s!==0&&d.nodeType!==3||(c=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===e)break t;if(m===n&&++u===l&&(i=a),m===o&&++h===s&&(c=a),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vo={focusedElem:e,selectionRange:n},rl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,k=j.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:wt(t.type,g),k);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(w){Me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return j=gc,gc=!1,j}function zr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&aa(t,n,o)}l=l.next}while(l!==s)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[ss],delete t[Ko],delete t[Ph],delete t[Rh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ca(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(s!==4&&(e=e.child,e!==null))for(ca(e,t,n),e=e.sibling;e!==null;)ca(e,t,n),e=e.sibling}function ua(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}var Fe=null,kt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Qd(e,t,n),n=n.sibling}function Qd(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:ze||qn(n,t);case 6:var s=Fe,l=kt;Fe=null,Gt(e,t,n),Fe=s,kt=l,Fe!==null&&(kt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(kt?(e=Fe,n=n.stateNode,e.nodeType===8?oo(e.parentNode,n):e.nodeType===1&&oo(e,n),Zr(e)):oo(Fe,n.stateNode));break;case 4:s=Fe,l=kt,Fe=n.stateNode.containerInfo,kt=!0,Gt(e,t,n),Fe=s,kt=l;break;case 0:case 11:case 14:case 15:if(!ze&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&aa(n,t,a),l=l.next}while(l!==s)}Gt(e,t,n);break;case 1:if(!ze&&(qn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){Me(n,t,i)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(ze=(s=ze)||n.memoizedState!==null,Gt(e,t,n),ze=s):Gt(e,t,n);break;default:Gt(e,t,n)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qh),t.forEach(function(s){var l=lp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,kt=!1;break e;case 3:Fe=i.stateNode.containerInfo,kt=!0;break e;case 4:Fe=i.stateNode.containerInfo,kt=!0;break e}i=i.return}if(Fe===null)throw Error($(160));Qd(o,a,l),Fe=null,kt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){Me(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xd(t,e),t=t.sibling}function Xd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Mt(e),s&4){try{zr(3,e,e.return),Il(3,e)}catch(g){Me(e,e.return,g)}try{zr(5,e,e.return)}catch(g){Me(e,e.return,g)}}break;case 1:yt(t,e),Mt(e),s&512&&n!==null&&qn(n,n.return);break;case 5:if(yt(t,e),Mt(e),s&512&&n!==null&&qn(n,n.return),e.flags&32){var l=e.stateNode;try{Qr(l,"")}catch(g){Me(e,e.return,g)}}if(s&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&gu(l,o),Io(i,a);var u=Io(i,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?Nu(l,d):h==="dangerouslySetInnerHTML"?wu(l,d):h==="children"?Qr(l,d):Da(l,h,d,u)}switch(i){case"input":Mo(l,o);break;case"textarea":yu(l,o);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?er(l,!!o.multiple,y,!1):m!==!!o.multiple&&(o.defaultValue!=null?er(l,!!o.multiple,o.defaultValue,!0):er(l,!!o.multiple,o.multiple?[]:"",!1))}l[ss]=o}catch(g){Me(e,e.return,g)}}break;case 6:if(yt(t,e),Mt(e),s&4){if(e.stateNode===null)throw Error($(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(g){Me(e,e.return,g)}}break;case 3:if(yt(t,e),Mt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(g){Me(e,e.return,g)}break;case 4:yt(t,e),Mt(e);break;case 13:yt(t,e),Mt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ai=_e())),s&4&&jc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||h,yt(t,e),ze=u):yt(t,e),Mt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(q=e,h=e.child;h!==null;){for(d=q=h;q!==null;){switch(m=q,y=m.child,m.tag){case 0:case 11:case 14:case 15:zr(4,m,m.return);break;case 1:qn(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){Me(s,n,g)}}break;case 5:qn(m,m.return);break;case 22:if(m.memoizedState!==null){kc(d);continue}}y!==null?(y.return=m,q=y):kc(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{l=d.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=ku("display",a))}catch(g){Me(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Me(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(t,e),Mt(e),s&4&&jc(e);break;case 21:break;default:yt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kd(n)){var s=n;break e}n=n.return}throw Error($(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Qr(l,""),s.flags&=-33);var o=yc(e);ua(e,o,l);break;case 3:case 4:var a=s.stateNode.containerInfo,i=yc(e);ca(e,i,a);break;default:throw Error($(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jh(e,t,n){q=e,Jd(e)}function Jd(e,t,n){for(var s=(e.mode&1)!==0;q!==null;){var l=q,o=l.child;if(l.tag===22&&s){var a=l.memoizedState!==null||Ls;if(!a){var i=l.alternate,c=i!==null&&i.memoizedState!==null||ze;i=Ls;var u=ze;if(Ls=a,(ze=c)&&!u)for(q=l;q!==null;)a=q,c=a.child,a.tag===22&&a.memoizedState!==null?Nc(l):c!==null?(c.return=a,q=c):Nc(l);for(;o!==null;)q=o,Jd(o),o=o.sibling;q=l,Ls=i,ze=u}wc(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,q=o):wc(e)}}function wc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Il(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ze)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lc(t,o,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Zr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ze||t.flags&512&&ia(t)}catch(m){Me(t,t.return,m)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function kc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Nc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Il(4,t)}catch(c){Me(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){Me(t,l,c)}}var o=t.return;try{ia(t)}catch(c){Me(t,o,c)}break;case 5:var a=t.return;try{ia(t)}catch(c){Me(t,a,c)}}}catch(c){Me(t,t.return,c)}if(t===e){q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,q=i;break}q=t.return}}var qh=Math.ceil,vl=Vt.ReactCurrentDispatcher,li=Vt.ReactCurrentOwner,pt=Vt.ReactCurrentBatchConfig,he=0,Ae=null,Pe=null,Oe=0,nt=0,Zn=xn(0),Ie=0,us=null,Rn=0,Ll=0,oi=0,Hr=null,Xe=null,ai=0,hr=1/0,At=null,gl=!1,da=null,an=null,As=!1,Zt=null,yl=0,Vr=0,fa=null,Ks=-1,Qs=0;function Ge(){return he&6?_e():Ks!==-1?Ks:Ks=_e()}function cn(e){return e.mode&1?he&2&&Oe!==0?Oe&-Oe:Lh.transition!==null?(Qs===0&&(Qs=Lu()),Qs):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Uu(e.type)),e):1}function Ct(e,t,n,s){if(50<Vr)throw Vr=0,fa=null,Error($(185));xs(e,n,s),(!(he&2)||e!==Ae)&&(e===Ae&&(!(he&2)&&(Ll|=n),Ie===4&&Jt(e,Oe)),et(e,s),n===1&&he===0&&!(t.mode&1)&&(hr=_e()+500,_l&&vn()))}function et(e,t){var n=e.callbackNode;Lm(e,t);var s=nl(e,e===Ae?Oe:0);if(s===0)n!==null&&Pi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Pi(n),t===1)e.tag===0?Ih(Sc.bind(null,e)):ad(Sc.bind(null,e)),bh(function(){!(he&6)&&vn()}),n=null;else{switch(Au(s)){case 1:n=Ra;break;case 4:n=Ru;break;case 16:n=tl;break;case 536870912:n=Iu;break;default:n=tl}n=lf(n,qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qd(e,t){if(Ks=-1,Qs=0,he&6)throw Error($(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var s=nl(e,e===Ae?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=jl(e,s);else{t=s;var l=he;he|=2;var o=ef();(Ae!==e||Oe!==t)&&(At=null,hr=_e()+500,En(e,t));do try{tp();break}catch(i){Zd(e,i)}while(!0);Ya(),vl.current=o,he=l,Pe!==null?t=0:(Ae=null,Oe=0,t=Ie)}if(t!==0){if(t===2&&(l=Oo(e),l!==0&&(s=l,t=ma(e,l))),t===1)throw n=us,En(e,0),Jt(e,s),et(e,_e()),n;if(t===6)Jt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Zh(l)&&(t=jl(e,s),t===2&&(o=Oo(e),o!==0&&(s=o,t=ma(e,o))),t===1))throw n=us,En(e,0),Jt(e,s),et(e,_e()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:Nn(e,Xe,At);break;case 3:if(Jt(e,s),(s&130023424)===s&&(t=ai+500-_e(),10<t)){if(nl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Go(Nn.bind(null,e,Xe,At),t);break}Nn(e,Xe,At);break;case 4:if(Jt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var a=31-St(s);o=1<<a,a=t[a],a>l&&(l=a),s&=~o}if(s=l,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qh(s/1960))-s,10<s){e.timeoutHandle=Go(Nn.bind(null,e,Xe,At),s);break}Nn(e,Xe,At);break;case 5:Nn(e,Xe,At);break;default:throw Error($(329))}}}return et(e,_e()),e.callbackNode===n?qd.bind(null,e):null}function ma(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&ha(t)),e}function ha(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function Zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],o=l.getSnapshot;l=l.value;try{if(!Tt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~oi,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),s=1<<n;e[n]=-1,t&=~s}}function Sc(e){if(he&6)throw Error($(327));lr();var t=nl(e,0);if(!(t&1))return et(e,_e()),null;var n=jl(e,t);if(e.tag!==0&&n===2){var s=Oo(e);s!==0&&(t=s,n=ma(e,s))}if(n===1)throw n=us,En(e,0),Jt(e,t),et(e,_e()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Xe,At),et(e,_e()),null}function ii(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(hr=_e()+500,_l&&vn())}}function In(e){Zt!==null&&Zt.tag===0&&!(he&6)&&lr();var t=he;he|=1;var n=pt.transition,s=ge;try{if(pt.transition=null,ge=1,e)return e()}finally{ge=s,pt.transition=n,he=t,!(he&6)&&vn()}}function ci(){nt=Zn.current,we(Zn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mh(n)),Pe!==null)for(n=Pe.return;n!==null;){var s=n;switch(za(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&al();break;case 3:fr(),we(qe),we(He),qa();break;case 5:Ja(s);break;case 4:fr();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Ga(s.type._context);break;case 22:case 23:ci()}n=n.return}if(Ae=e,Pe=e=un(e.current,null),Oe=nt=t,Ie=0,us=null,oi=Ll=Rn=0,Xe=Hr=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,s.next=a}n.pending=s}Cn=null}return e}function Zd(e,t){do{var n=Pe;try{if(Ya(),Vs.current=xl,pl){for(var s=Ee.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}pl=!1}if(Pn=0,Le=Re=Ee=null,Ur=!1,as=0,li.current=null,n===null||n.return===null){Ie=1,us=t,Pe=null;break}e:{var o=e,a=n.return,i=n,c=t;if(t=Oe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=i,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=dc(a);if(y!==null){y.flags&=-257,fc(y,a,i,o,t),y.mode&1&&uc(o,u,t),t=y,c=u;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){uc(o,u,t),ui();break e}c=Error($(426))}}else if(Se&&i.mode&1){var k=dc(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),fc(k,a,i,o,t),Ha(mr(c,i));break e}}o=c=mr(c,i),Ie!==4&&(Ie=2),Hr===null?Hr=[o]:Hr.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Ad(o,c,t);sc(o,v);break e;case 1:i=c;var p=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(an===null||!an.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Bd(o,i,t);sc(o,w);break e}}o=o.return}while(o!==null)}nf(n)}catch(C){t=C,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function ef(){var e=vl.current;return vl.current=xl,e===null?xl:e}function ui(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ae===null||!(Rn&268435455)&&!(Ll&268435455)||Jt(Ae,Oe)}function jl(e,t){var n=he;he|=2;var s=ef();(Ae!==e||Oe!==t)&&(At=null,En(e,t));do try{ep();break}catch(l){Zd(e,l)}while(!0);if(Ya(),he=n,vl.current=s,Pe!==null)throw Error($(261));return Ae=null,Oe=0,Ie}function ep(){for(;Pe!==null;)tf(Pe)}function tp(){for(;Pe!==null&&!Tm();)tf(Pe)}function tf(e){var t=sf(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?nf(e):Pe=t,li.current=null}function nf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kh(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Pe=null;return}}else if(n=Gh(n,t,nt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ie===0&&(Ie=5)}function Nn(e,t,n){var s=ge,l=pt.transition;try{pt.transition=null,ge=1,np(e,t,n,s)}finally{pt.transition=l,ge=s}return null}function np(e,t,n,s){do lr();while(Zt!==null);if(he&6)throw Error($(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Am(e,o),e===Ae&&(Pe=Ae=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||As||(As=!0,lf(tl,function(){return lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pt.transition,pt.transition=null;var a=ge;ge=1;var i=he;he|=4,li.current=null,Xh(e,n),Xd(n,e),kh(Vo),rl=!!Ho,Vo=Ho=null,e.current=n,Jh(n),Em(),he=i,ge=a,pt.transition=o}else e.current=n;if(As&&(As=!1,Zt=e,yl=l),o=e.pendingLanes,o===0&&(an=null),bm(n.stateNode),et(e,_e()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(gl)throw gl=!1,e=da,da=null,e;return yl&1&&e.tag!==0&&lr(),o=e.pendingLanes,o&1?e===fa?Vr++:(Vr=0,fa=e):Vr=0,vn(),null}function lr(){if(Zt!==null){var e=Au(yl),t=pt.transition,n=ge;try{if(pt.transition=null,ge=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,yl=0,he&6)throw Error($(331));var l=he;for(he|=4,q=e.current;q!==null;){var o=q,a=o.child;if(q.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(q=u;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:zr(8,h,o)}var d=h.child;if(d!==null)d.return=h,q=d;else for(;q!==null;){h=q;var m=h.sibling,y=h.return;if(Gd(h),h===u){q=null;break}if(m!==null){m.return=y,q=m;break}q=y}}}var j=o.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,q=a;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zr(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,q=v;break e}q=o.return}}var p=e.current;for(q=p;q!==null;){a=q;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,q=x;else e:for(a=p;q!==null;){if(i=q,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Il(9,i)}}catch(C){Me(i,i.return,C)}if(i===a){q=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,q=w;break e}q=i.return}}if(he=l,vn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Tl,e)}catch{}s=!0}return s}finally{ge=n,pt.transition=t}}return!1}function Cc(e,t,n){t=mr(n,t),t=Ad(e,t,1),e=on(e,t,1),t=Ge(),e!==null&&(xs(e,1,t),et(e,t))}function Me(e,t,n){if(e.tag===3)Cc(e,e,n);else for(;t!==null;){if(t.tag===3){Cc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=mr(n,e),e=Bd(t,e,1),t=on(t,e,1),e=Ge(),t!==null&&(xs(t,1,e),et(t,e));break}}t=t.return}}function rp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Oe&n)===n&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>_e()-ai?En(e,0):oi|=n),et(e,t)}function rf(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=Ge();e=zt(e,t),e!==null&&(xs(e,t,n),et(e,n))}function sp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rf(e,n)}function lp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),rf(e,n)}var sf;sf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Yh(e,t,n);Je=!!(e.flags&131072)}else Je=!1,Se&&t.flags&1048576&&id(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Gs(e,t),e=t.pendingProps;var l=cr(t,He.current);sr(t,n),l=ei(null,t,s,e,l,n);var o=ti();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(s)?(o=!0,il(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Qa(t),l.updater=Rl,t.stateNode=l,l._reactInternals=t,ea(t,s,e,n),t=ra(null,t,s,!0,o,n)):(t.tag=0,Se&&o&&Ua(t),Ye(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=ap(s),e=wt(s,e),l){case 0:t=na(null,t,s,e,n);break e;case 1:t=pc(null,t,s,e,n);break e;case 11:t=mc(null,t,s,e,n);break e;case 14:t=hc(null,t,s,wt(s.type,e),n);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),na(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),pc(e,t,s,l,n);case 3:e:{if(Wd(t),e===null)throw Error($(387));s=t.pendingProps,o=t.memoizedState,l=o.element,hd(e,t),ml(t,s,null,n);var a=t.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=mr(Error($(423)),t),t=xc(e,t,s,n,l);break e}else if(s!==l){l=mr(Error($(424)),t),t=xc(e,t,s,n,l);break e}else for(st=ln(t.stateNode.containerInfo.firstChild),lt=t,Se=!0,Nt=null,n=fd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===l){t=Ht(e,t,n);break e}Ye(e,t,s,n)}t=t.child}return t;case 5:return pd(t),e===null&&Jo(t),s=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,Yo(s,l)?a=null:o!==null&&Yo(s,o)&&(t.flags|=32),$d(e,t),Ye(e,t,a,n),t.child;case 6:return e===null&&Jo(t),null;case 13:return Ud(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=dr(t,null,s,n):Ye(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),mc(e,t,s,l,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,ye(dl,s._currentValue),s._currentValue=a,o!==null)if(Tt(o.value,a)){if(o.children===l.children&&!qe.current){t=Ht(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=$t(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qo(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error($(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),qo(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ye(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,sr(t,n),l=vt(l),s=s(l),t.flags|=1,Ye(e,t,s,n),t.child;case 14:return s=t.type,l=wt(s,t.pendingProps),l=wt(s.type,l),hc(e,t,s,l,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:wt(s,l),Gs(e,t),t.tag=1,Ze(s)?(e=!0,il(t)):e=!1,sr(t,n),Ld(t,s,l),ea(t,s,l,n),ra(null,t,s,!0,e,n);case 19:return zd(e,t,n);case 22:return Od(e,t,n)}throw Error($(156,t.tag))};function lf(e,t){return Pu(e,t)}function op(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,s){return new op(e,t,n,s)}function di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ap(e){if(typeof e=="function")return di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ba)return 11;if(e===_a)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xs(e,t,n,s,l,o){var a=2;if(s=e,typeof e=="function")di(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zn:return Dn(n.children,l,o,t);case Ma:a=8,l|=8;break;case So:return e=ht(12,n,t,l|2),e.elementType=So,e.lanes=o,e;case Co:return e=ht(13,n,t,l),e.elementType=Co,e.lanes=o,e;case To:return e=ht(19,n,t,l),e.elementType=To,e.lanes=o,e;case pu:return Al(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mu:a=10;break e;case hu:a=9;break e;case ba:a=11;break e;case _a:a=14;break e;case Kt:a=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ht(a,n,t,l),t.elementType=e,t.type=s,t.lanes=o,t}function Dn(e,t,n,s){return e=ht(7,e,s,t),e.lanes=n,e}function Al(e,t,n,s){return e=ht(22,e,s,t),e.elementType=pu,e.lanes=n,e.stateNode={isHidden:!1},e}function po(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ip(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function fi(e,t,n,s,l,o,a,i,c){return e=new ip(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(o),e}function cp(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function of(e){if(!e)return hn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ze(n))return od(e,n,t)}return t}function af(e,t,n,s,l,o,a,i,c){return e=fi(n,s,!0,e,l,o,a,i,c),e.context=of(null),n=e.current,s=Ge(),l=cn(n),o=$t(s,l),o.callback=t??null,on(n,o,l),e.current.lanes=l,xs(e,l,s),et(e,s),e}function Bl(e,t,n,s){var l=t.current,o=Ge(),a=cn(l);return n=of(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=on(l,t,a),e!==null&&(Ct(e,l,a,o),Hs(e,l,a)),a}function wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mi(e,t){Tc(e,t),(e=e.alternate)&&Tc(e,t)}function up(){return null}var cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function hi(e){this._internalRoot=e}Fl.prototype.render=hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Bl(e,t,null,null)};Fl.prototype.unmount=hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Bl(null,e,null,null)}),t[Ut]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ou();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Wu(e)}};function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ec(){}function dp(e,t,n,s,l){if(l){if(typeof s=="function"){var o=s;s=function(){var u=wl(a);o.call(u)}}var a=af(t,s,e,0,null,!1,!1,"",Ec);return e._reactRootContainer=a,e[Ut]=a.current,ns(e.nodeType===8?e.parentNode:e),In(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var i=s;s=function(){var u=wl(c);i.call(u)}}var c=fi(e,0,!1,null,null,!1,!1,"",Ec);return e._reactRootContainer=c,e[Ut]=c.current,ns(e.nodeType===8?e.parentNode:e),In(function(){Bl(t,c,n,s)}),c}function $l(e,t,n,s,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var i=l;l=function(){var c=wl(a);i.call(c)}}Bl(t,a,e,l)}else a=dp(n,t,e,l,s);return wl(a)}Bu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(Ia(t,n|1),et(t,_e()),!(he&6)&&(hr=_e()+500,vn()))}break;case 13:In(function(){var s=zt(e,1);if(s!==null){var l=Ge();Ct(s,e,1,l)}}),mi(e,1)}};La=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ge();Ct(t,e,134217728,n)}mi(e,134217728)}};Fu=function(e){if(e.tag===13){var t=cn(e),n=zt(e,t);if(n!==null){var s=Ge();Ct(n,e,t,s)}mi(e,t)}};Ou=function(){return ge};$u=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Ao=function(e,t,n){switch(t){case"input":if(Mo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=bl(s);if(!l)throw Error($(90));vu(s),Mo(s,l)}}}break;case"textarea":yu(e,n);break;case"select":t=n.value,t!=null&&er(e,!!n.multiple,t,!1)}};Tu=ii;Eu=In;var fp={usingClientEntryPoint:!1,Events:[gs,Gn,bl,Su,Cu,ii]},br={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mp={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bu(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Tl=Bs.inject(mp),Rt=Bs}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fp;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pi(t))throw Error($(200));return cp(e,t,null,n)};at.createRoot=function(e,t){if(!pi(e))throw Error($(299));var n=!1,s="",l=cf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=fi(e,1,!1,null,null,n,!1,s,l),e[Ut]=t.current,ns(e.nodeType===8?e.parentNode:e),new hi(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=bu(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return In(e)};at.hydrate=function(e,t,n){if(!Ol(t))throw Error($(200));return $l(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!pi(e))throw Error($(405));var s=n!=null&&n.hydratedSources||null,l=!1,o="",a=cf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=af(t,null,e,1,n??null,l,!1,o,a),e[Ut]=t.current,ns(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Fl(t)};at.render=function(e,t,n){if(!Ol(t))throw Error($(200));return $l(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Ol(e))throw Error($(40));return e._reactRootContainer?(In(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};at.unstable_batchedUpdates=ii;at.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ol(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return $l(e,t,n,!1,s)};at.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),cu.exports=at;var hp=cu.exports,Dc=hp;ko.createRoot=Dc.createRoot,ko.hydrateRoot=Dc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ds.apply(this,arguments)}var en;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(en||(en={}));const Mc="popstate";function pp(e){e===void 0&&(e={});function t(s,l){let{pathname:o,search:a,hash:i}=s.location;return pa("",{pathname:o,search:a,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:kl(l)}return vp(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xp(){return Math.random().toString(36).substr(2,8)}function bc(e,t){return{usr:e.state,key:e.key,idx:t}}function pa(e,t,n,s){return n===void 0&&(n=null),ds({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wr(t):t,{state:n,key:t&&t.key||s||xp()})}function kl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function vp(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:o=!1}=s,a=l.history,i=en.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(ds({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){i=en.Pop;let k=h(),v=k==null?null:k-u;u=k,c&&c({action:i,location:g.location,delta:v})}function m(k,v){i=en.Push;let p=pa(g.location,k,v);u=h()+1;let x=bc(p,u),w=g.createHref(p);try{a.pushState(x,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(w)}o&&c&&c({action:i,location:g.location,delta:1})}function y(k,v){i=en.Replace;let p=pa(g.location,k,v);u=h();let x=bc(p,u),w=g.createHref(p);a.replaceState(x,"",w),o&&c&&c({action:i,location:g.location,delta:0})}function j(k){let v=l.location.origin!=="null"?l.location.origin:l.location.href,p=typeof k=="string"?k:kl(k);return p=p.replace(/ $/,"%20"),be(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let g={get action(){return i},get location(){return e(l,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Mc,d),c=k,()=>{l.removeEventListener(Mc,d),c=null}},createHref(k){return t(l,k)},createURL:j,encodeLocation(k){let v=j(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(k){return a.go(k)}};return g}var _c;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_c||(_c={}));function gp(e,t,n){return n===void 0&&(n="/"),yp(e,t,n)}function yp(e,t,n,s){let l=typeof t=="string"?wr(t):t,o=pr(l.pathname||"/",n);if(o==null)return null;let a=df(e);jp(a);let i=null;for(let c=0;i==null&&c<a.length;++c){let u=_p(o);i=Mp(a[c],u)}return i}function df(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(o,a,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=dn([s,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),df(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Ep(u,o.index),routesMeta:h})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))l(o,a);else for(let c of ff(o.path))l(o,a,c)}),t}function ff(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let a=ff(s.join("/")),i=[];return i.push(...a.map(c=>c===""?o:[o,c].join("/"))),l&&i.push(...a),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function jp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dp(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const wp=/^:[\w-]+$/,kp=3,Np=2,Sp=1,Cp=10,Tp=-2,Pc=e=>e==="*";function Ep(e,t){let n=e.split("/"),s=n.length;return n.some(Pc)&&(s+=Tp),t&&(s+=Np),n.filter(l=>!Pc(l)).reduce((l,o)=>l+(wp.test(o)?kp:o===""?Sp:Cp),s)}function Dp(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Mp(e,t,n){let{routesMeta:s}=e,l={},o="/",a=[];for(let i=0;i<s.length;++i){let c=s[i],u=i===s.length-1,h=o==="/"?t:t.slice(o.length)||"/",d=xa({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(l,d.params),a.push({params:l,pathname:dn([o,d.pathname]),pathnameBase:Ap(dn([o,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(o=dn([o,d.pathnameBase]))}return a}function xa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=bp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],a=o.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:s.reduce((u,h,d)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let g=i[d]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const j=i[d];return y&&!j?u[m]=void 0:u[m]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function bp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function _p(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const Pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=e=>Pp.test(e);function Ip(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?wr(e):e,o;if(n)if(Rp(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),xi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Rc(n.substring(1),"/"):o=Rc(n,t)}else o=t;return{pathname:o,search:Bp(s),hash:Fp(l)}}function Rc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vo(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mf(e,t){let n=Lp(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function hf(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=wr(e):(l=ds({},e),be(!l.pathname||!l.pathname.includes("?"),vo("?","pathname","search",l)),be(!l.pathname||!l.pathname.includes("#"),vo("#","pathname","hash",l)),be(!l.search||!l.search.includes("#"),vo("#","search","hash",l)));let o=e===""||l.pathname==="",a=o?"/":l.pathname,i;if(a==null)i=n;else{let d=t.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;l.pathname=m.join("/")}i=d>=0?t[d]:"/"}let c=Ip(l,i),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const dn=e=>e.join("/").replace(/\/\/+/g,"/"),Ap=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Op(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pf=["post","put","patch","delete"];new Set(pf);const $p=["get",...pf];new Set($p);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fs.apply(this,arguments)}const Wl=f.createContext(null),xf=f.createContext(null),gn=f.createContext(null),Ul=f.createContext(null),yn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),vf=f.createContext(null);function Wp(e,t){let{relative:n}=t===void 0?{}:t;js()||be(!1);let{basename:s,navigator:l}=f.useContext(gn),{hash:o,pathname:a,search:i}=zl(e,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:dn([s,a])),l.createHref({pathname:c,search:i,hash:o})}function js(){return f.useContext(Ul)!=null}function jn(){return js()||be(!1),f.useContext(Ul).location}function gf(e){f.useContext(gn).static||f.useLayoutEffect(e)}function Et(){let{isDataRoute:e}=f.useContext(yn);return e?tx():Up()}function Up(){js()||be(!1);let e=f.useContext(Wl),{basename:t,future:n,navigator:s}=f.useContext(gn),{matches:l}=f.useContext(yn),{pathname:o}=jn(),a=JSON.stringify(mf(l,n.v7_relativeSplatPath)),i=f.useRef(!1);return gf(()=>{i.current=!0}),f.useCallback(function(u,h){if(h===void 0&&(h={}),!i.current)return;if(typeof u=="number"){s.go(u);return}let d=hf(u,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:dn([t,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[t,s,a,o,e])}function zp(){let{matches:e}=f.useContext(yn),t=e[e.length-1];return t?t.params:{}}function zl(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=f.useContext(gn),{matches:l}=f.useContext(yn),{pathname:o}=jn(),a=JSON.stringify(mf(l,s.v7_relativeSplatPath));return f.useMemo(()=>hf(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Hp(e,t){return Vp(e,t)}function Vp(e,t,n,s){js()||be(!1);let{navigator:l}=f.useContext(gn),{matches:o}=f.useContext(yn),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=jn(),h;if(t){var d;let k=typeof t=="string"?wr(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||be(!1),h=k}else h=u;let m=h.pathname||"/",y=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=gp(e,{pathname:y}),g=Xp(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},i,k.params),pathname:dn([c,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:dn([c,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,s);return t&&g?f.createElement(Ul.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:en.Pop}},g):g}function Yp(){let e=ex(),t=Op(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:l},n):null,null)}const Gp=f.createElement(Yp,null);class Kp extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(yn.Provider,{value:this.props.routeContext},f.createElement(vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qp(e){let{routeContext:t,match:n,children:s}=e,l=f.useContext(Wl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(yn.Provider,{value:t},s)}function Xp(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let h=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);h>=0||be(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:y}=n,j=d.route.loader&&m[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||j){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,m)=>{let y,j=!1,g=null,k=null;n&&(y=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||Gp,c&&(u<0&&m===0?(nx("route-fallback"),j=!0,k=null):u===m&&(j=!0,k=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,m+1)),p=()=>{let x;return y?x=g:j?x=k:d.route.Component?x=f.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,f.createElement(Qp,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(Kp,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var yf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yf||{}),jf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jf||{});function Jp(e){let t=f.useContext(Wl);return t||be(!1),t}function qp(e){let t=f.useContext(xf);return t||be(!1),t}function Zp(e){let t=f.useContext(yn);return t||be(!1),t}function wf(e){let t=Zp(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function ex(){var e;let t=f.useContext(vf),n=qp(),s=wf();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function tx(){let{router:e}=Jp(yf.UseNavigateStable),t=wf(jf.UseNavigateStable),n=f.useRef(!1);return gf(()=>{n.current=!0}),f.useCallback(function(l,o){o===void 0&&(o={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,fs({fromRouteId:t},o)))},[e,t])}const Ic={};function nx(e,t,n){Ic[e]||(Ic[e]=!0)}function rx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jt(e){be(!1)}function sx(e){let{basename:t="/",children:n=null,location:s,navigationType:l=en.Pop,navigator:o,static:a=!1,future:i}=e;js()&&be(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:a,future:fs({v7_relativeSplatPath:!1},i)}),[c,i,o,a]);typeof s=="string"&&(s=wr(s));let{pathname:h="/",search:d="",hash:m="",state:y=null,key:j="default"}=s,g=f.useMemo(()=>{let k=pr(h,c);return k==null?null:{location:{pathname:k,search:d,hash:m,state:y,key:j},navigationType:l}},[c,h,d,m,y,j,l]);return g==null?null:f.createElement(gn.Provider,{value:u},f.createElement(Ul.Provider,{children:n,value:g}))}function lx(e){let{children:t,location:n}=e;return Hp(va(t),n)}new Promise(()=>{});function va(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(s,l)=>{if(!f.isValidElement(s))return;let o=[...t,l];if(s.type===f.Fragment){n.push.apply(n,va(s.props.children,o));return}s.type!==jt&&be(!1),!s.props.index||!s.props.children||be(!1);let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=va(s.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nl.apply(this,arguments)}function kf(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,o;for(o=0;o<s.length;o++)l=s[o],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function ox(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ax(e,t){return e.button===0&&(!t||t==="_self")&&!ox(e)}const ix=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ux="6";try{window.__reactRouterVersion=ux}catch{}const dx=f.createContext({isTransitioning:!1}),fx="startTransition",Lc=rm[fx];function mx(e){let{basename:t,children:n,future:s,window:l}=e,o=f.useRef();o.current==null&&(o.current=pp({window:l,v5Compat:!0}));let a=o.current,[i,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},h=f.useCallback(d=>{u&&Lc?Lc(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>a.listen(h),[a,h]),f.useEffect(()=>rx(s),[s]),f.createElement(sx,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:s})}const hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=f.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:o,replace:a,state:i,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=kf(t,ix),{basename:y}=f.useContext(gn),j,g=!1;if(typeof u=="string"&&px.test(u)&&(j=u,hx))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=pr(w.pathname,y);w.origin===x.origin&&C!=null?u=C+w.search+w.hash:g=!0}catch{}let k=Wp(u,{relative:l}),v=yx(u,{replace:a,state:i,target:c,preventScrollReset:h,relative:l,viewTransition:d});function p(x){s&&s(x),x.defaultPrevented||v(x)}return f.createElement("a",Nl({},m,{href:j||k,onClick:g||o?s:p,ref:n,target:c}))}),vx=f.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:l=!1,className:o="",end:a=!1,style:i,to:c,viewTransition:u,children:h}=t,d=kf(t,cx),m=zl(c,{relative:d.relative}),y=jn(),j=f.useContext(xf),{navigator:g,basename:k}=f.useContext(gn),v=j!=null&&jx(m)&&u===!0,p=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,x=y.pathname,w=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(x=x.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&k&&(w=pr(w,k)||w);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let D=x===p||!a&&x.startsWith(p)&&x.charAt(C)==="/",E=w!=null&&(w===p||!a&&w.startsWith(p)&&w.charAt(p.length)==="/"),_={isActive:D,isPending:E,isTransitioning:v},B=D?s:void 0,L;typeof o=="function"?L=o(_):L=[o,D?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(_):i;return f.createElement(xx,Nl({},d,{"aria-current":B,className:L,ref:n,style:K,to:c,viewTransition:u}),typeof h=="function"?h(_):h)});var ga;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ga||(ga={}));var Ac;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ac||(Ac={}));function gx(e){let t=f.useContext(Wl);return t||be(!1),t}function yx(e,t){let{target:n,replace:s,state:l,preventScrollReset:o,relative:a,viewTransition:i}=t===void 0?{}:t,c=Et(),u=jn(),h=zl(e,{relative:a});return f.useCallback(d=>{if(ax(d,n)){d.preventDefault();let m=s!==void 0?s:kl(u)===kl(h);c(e,{replace:m,state:l,preventScrollReset:o,relative:a,viewTransition:i})}},[u,c,h,s,l,n,e,o,a,i])}function jx(e,t){t===void 0&&(t={});let n=f.useContext(dx);n==null&&be(!1);let{basename:s}=gx(ga.useViewTransitionState),l=zl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xa(l.pathname,a)!=null||xa(l.pathname,o)!=null}const ft={RUB:"",USD:"$",EUR:"",KZT:"",BYN:"Br",GEL:"",AMD:"",UZS:"",KGS:"",TJS:".",TRY:"",AED:".",CNY:"",USDT:""},Bc={RUB:" ",USD:" ",EUR:"",KZT:" ",BYN:" ",GEL:" ",AMD:" ",UZS:" ",KGS:" ",TJS:" ",TRY:" ",AED:" ",CNY:" ",USDT:"Tether (USDT)"},wx=["RUB","USD","EUR","KZT","BYN","GEL","AMD","UZS","KGS","TJS","TRY","AED","CNY","USDT"],kx=["#6366F1","#8B5CF6","#EC4899","#EF4444","#F59E0B","#10B981","#14B8A6","#3B82F6","#6B7280","#84CC16","#FCD34D","#06B6D4","#A855F7","#FB7185","#059669","#D97706","#C084FC","#34D399","#FCA5A5","#60A5FA"],Nx=["#4285F4","#34A853","#FBBC04","#EA4335","#9C27B0","#009688","#FF9800","#795548","#607D8B","#E91E63","#00BCD4","#4CAF50"],go="#4285F4",Sx=[{value:"card",label:""},{value:"cash",label:""},{value:"bank",label:""},{value:"safe",label:""},{value:"crypto",label:""},{value:"sber",label:""},{value:"tinkoff",label:""},{value:"home",label:""},{value:"wallet",label:""},{value:"treasure",label:""},{value:"money-bag",label:" "},{value:"diamond",label:""},{value:"gift",label:""},{value:"briefcase",label:""},{value:"coin",label:""},{value:"bills",label:""},{value:"vault",label:""},{value:"investment",label:""},{value:"savings",label:""},{value:"paypal",label:"PayPal"},{value:"visa",label:"Visa"},{value:"mastercard",label:"Mastercard"},{value:"t-bank",label:"-"},{value:"sberbank",label:""},{value:"gazprombank",label:""},{value:"rosselhozbank",label:""},{value:"vtb",label:""}],Cx=["","","","","","","","",""],xt={routines:[],events:[],dayTasks:{},wallets:[{id:"wallet-cash",name:"",icon:"cash",color:"#10B981",currency:"RUB",balance:0},{id:"wallet-card",name:"",icon:"card",color:"#3B82F6",currency:"RUB",balance:0}],transactions:[],categories:Cx,tasks:[],habits:[],ideas:[],folders:[{id:"inbox",name:"",color:"#6B7280",icon:"",order:0},{id:"work",name:"",color:"#3B82F6",icon:"",order:1},{id:"home",name:"",color:"#10B981",icon:"",order:2},{id:"ideas",name:"",color:"#F59E0B",icon:"",order:3},{id:"projects",name:"",color:"#8B5CF6",icon:"",order:4}],profile:{name:"",bio:"",goals:[]},documents:[],focusSessions:[],timerState:void 0,settings:{theme:"light"}};function Tx(e,t){var a,i;if(!e.some(c=>c.type&&!c.icon))return{wallets:e,transactions:t};const s={id:"wallet-cash-migrated",name:"",icon:"cash",color:"#10B981",currency:"RUB",balance:((a=e.find(c=>c.type==="cash"))==null?void 0:a.balance)||0},l={id:"wallet-card-migrated",name:"",icon:"card",color:"#3B82F6",currency:"RUB",balance:((i=e.find(c=>c.type==="card"))==null?void 0:i.balance)||e.reduce((c,u)=>c+u.balance,0)-s.balance},o=t.map(c=>({...c,walletId:"wallet-card-migrated"}));return{wallets:[s,l],transactions:o}}function Ex(e){return{id:e.id||"",title:e.title||"",description:e.description,icon:e.icon||"book",color:e.color||"#2f04fd",records:Array.isArray(e.records)?e.records:[],streak:typeof e.streak=="number"?e.streak:0,bestStreak:typeof e.bestStreak=="number"?e.bestStreak:0,createdAt:e.createdAt||new Date().toISOString()}}function ms(e){const t={...xt,...e};return Array.isArray(t.habits)?t.habits=t.habits.map(Ex):t.habits=[],!t.profile||typeof t.profile!="object"?t.profile=xt.profile:t.profile={name:t.profile.name||"",bio:t.profile.bio||"",goals:Array.isArray(t.profile.goals)?t.profile.goals:[],avatar:t.profile.avatar},Array.isArray(t.tasks)||(t.tasks=[]),Array.isArray(t.wallets)||(t.wallets=xt.wallets),Array.isArray(t.transactions)||(t.transactions=[]),Array.isArray(t.documents)||(t.documents=[]),Array.isArray(t.focusSessions)||(t.focusSessions=[]),Array.isArray(t.ideas)||(t.ideas=[]),Array.isArray(t.routines)||(t.routines=[]),Array.isArray(t.events)||(t.events=[]),t}const Dx="sdvig-db",Mx=1,Mn="appState",Nf="main",ya="data_migrated_to_indexeddb",hs="sdvig-app-state";let $n=null;function vi(){return new Promise((e,t)=>{if($n){e($n);return}const n=indexedDB.open(Dx,Mx);n.onerror=()=>{console.error("  IndexedDB:",n.error),t(n.error)},n.onsuccess=()=>{$n=n.result,$n.onclose=()=>{$n=null},e($n)},n.onupgradeneeded=s=>{const l=s.target.result;l.objectStoreNames.contains(Mn)||(l.createObjectStore(Mn),console.log("IndexedDB:  object store",Mn))}})}async function Sf(){try{const e=await vi();return new Promise((t,n)=>{const o=e.transaction(Mn,"readonly").objectStore(Mn).get(Nf);o.onerror=()=>{console.error("   IndexedDB:",o.error),n(o.error)},o.onsuccess=()=>{if(o.result){const a=ms(o.result);t(a)}else t(xt)}})}catch(e){return console.error("    IndexedDB:",e),xt}}async function gi(e){try{const t=await vi();return new Promise((n,s)=>{const l=t.transaction(Mn,"readwrite"),a=l.objectStore(Mn).put(e,Nf);a.onerror=()=>{console.error("   IndexedDB:",a.error),s(a.error)},a.onsuccess=()=>{n(!0)},l.onerror=()=>{console.error("  IndexedDB:",l.error),s(l.error)}})}catch(t){return console.error("    IndexedDB:",t),!1}}function bx(){return localStorage.getItem(ya)==="true"}async function _x(){if(bx())return console.log("IndexedDB:    "),!0;console.log("IndexedDB:    localStorage...");try{const e=localStorage.getItem(hs);if(!e)return console.log("IndexedDB:   localStorage ,   "),localStorage.setItem(ya,"true"),!0;const t=JSON.parse(e),n=ms(t);return await gi(n)?(localStorage.setItem(ya,"true"),console.log("IndexedDB:   "),console.log("IndexedDB:   localStorage   "),!0):(console.error("IndexedDB:    "),!1)}catch(e){return console.error("IndexedDB:  :",e),!1}}async function Px(){try{if(await vi(),!await _x()){console.warn("IndexedDB:   ,    localStorage");const n=localStorage.getItem(hs);return n?ms(JSON.parse(n)):xt}return await Sf()}catch(e){console.error("IndexedDB:  :",e);try{const t=localStorage.getItem(hs);if(t)return console.log("IndexedDB:  fallback  localStorage"),ms(JSON.parse(t))}catch{}return xt}}async function Rx(){try{const e=await Sf();return{_exportVersion:2,_exportDate:new Date().toISOString(),_appVersion:"2.0",appState:e}}catch(e){throw console.error("  :",e),e}}async function Ix(e){try{let t;e._exportVersion===2&&e.appState?(console.log(":    (v2)"),t=e.appState):e[hs]?(console.log(":    (localStorage)"),t=e[hs]):(console.log(":   "),t=e);const n=ms(t);if(!await gi(n))throw new Error("    ");return console.log("   "),n}catch(t){throw console.error("  :",t),t}}function Cf(){try{return typeof indexedDB<"u"&&indexedDB!==null}catch{return!1}}const Tf="sdvig-app-state";async function Lx(){return Cf()?Px():(console.warn("IndexedDB ,  localStorage"),Ax())}async function Js(e){if(!Cf())return Fc(e);try{return await gi(e)}catch(t){return console.error("   IndexedDB, fallback  localStorage:",t),Fc(e)}}function Ax(){try{const e=localStorage.getItem(Tf);if(e){const t=JSON.parse(e);return{...xt,...t}}}catch(e){console.error("   localStorage:",e)}return xt}function Fc(e){try{return localStorage.setItem(Tf,JSON.stringify(e)),!0}catch(t){return console.error("   localStorage:",t),!1}}let Fs;const Bx=new Uint8Array(16);function Fx(){if(!Fs&&(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(Bx)}const Be=[];for(let e=0;e<256;++e)Be.push((e+256).toString(16).slice(1));function Ox(e,t=0){return Be[e[t+0]]+Be[e[t+1]]+Be[e[t+2]]+Be[e[t+3]]+"-"+Be[e[t+4]]+Be[e[t+5]]+"-"+Be[e[t+6]]+Be[e[t+7]]+"-"+Be[e[t+8]]+Be[e[t+9]]+"-"+Be[e[t+10]]+Be[e[t+11]]+Be[e[t+12]]+Be[e[t+13]]+Be[e[t+14]]+Be[e[t+15]]}const $x=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oc={randomUUID:$x};function Te(e,t,n){if(Oc.randomUUID&&!e)return Oc.randomUUID();e=e||{};const s=e.random||(e.rng||Fx)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Ox(s)}const $c="sdvig_install_prompt_shown";function Wx(){const e=window.matchMedia("(display-mode: standalone)").matches,t=navigator.standalone===!0;return e||t}function Ar(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function Ux(e,t=60){if(e.includes("-")){const[n,s]=e.split("-").map(c=>c.trim()),[l,o]=n.split(":").map(Number),[a,i]=s.split(":").map(Number);return{startHour:l,startMinute:o,endHour:a,endMinute:i}}else{const[n,s]=e.split(":").map(Number),l=new Date;return l.setHours(n,s,0,0),l.setMinutes(l.getMinutes()+t),{startHour:n,startMinute:s,endHour:l.getHours(),endMinute:l.getMinutes()}}}function zx(e){const t=[],n=new Date;n.setHours(0,0,0,0);const s=Object.keys(e.completed).filter(u=>e.completed[u]);if(s.length===0)return t;const l=e.duration&&e.duration>=10?e.duration:60;let o=9,a=0,i=10,c=0;if(e.time){const u=Ux(e.time,l);o=u.startHour,a=u.startMinute,i=u.endHour,c=u.endMinute}for(const u of s){const h=new Date(u+"T00:00:00");if(isNaN(h.getTime())||h>=n)continue;const d=new Date(h);d.setHours(o,a,0,0);const m=new Date(h);m.setHours(i,c,0,0),m<d&&m.setDate(m.getDate()+1),t.push({id:Te(),title:e.title,description:e.description,startTime:d,endTime:m,color:"#9C27B0",icon:e.icon,completed:!0})}return t}function Wc(e){if(!Array.isArray(e)||e.length===0)return 0;const t=[...e].sort().reverse(),n=new Date;n.setHours(0,0,0,0);const s=Ar(n);if(t.includes(s)){let c=0;const u=new Date(n);for(let h=0;h<365;h++){const d=Ar(u);if(t.includes(d))c++,u.setDate(u.getDate()-1);else break}return c>0?c:1}const l=new Date(n);l.setDate(l.getDate()-1);const o=Ar(l);if(!t.includes(o))return 0;let a=0;const i=new Date(l);for(let c=0;c<365;c++){const u=Ar(i);if(t.includes(u))a++,i.setDate(i.getDate()-1);else break}return a}function Hx(e,t){switch(t.type){case"ADD_ROUTINE":return{...e,routines:[...e.routines,t.payload]};case"UPDATE_ROUTINE":return{...e,routines:e.routines.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_ROUTINE":{const n=e.routines.find(s=>s.id===t.payload);if(n){const s=zx(n);return{...e,routines:e.routines.filter(l=>l.id!==t.payload),events:[...e.events,...s]}}return{...e,routines:e.routines.filter(s=>s.id!==t.payload)}}case"TOGGLE_ROUTINE":return{...e,routines:e.routines.map(n=>{if(n.id===t.payload.id){const s={...n.completed};return s[t.payload.date]=!s[t.payload.date],{...n,completed:s}}return n})};case"ADD_EVENT":return{...e,events:[...e.events,t.payload]};case"UPDATE_EVENT":return{...e,events:e.events.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_EVENT":return{...e,events:e.events.filter(n=>n.id!==t.payload)};case"TOGGLE_EVENT":return{...e,events:e.events.map(n=>n.id===t.payload?{...n,completed:!n.completed}:n)};case"MOVE_EVENT_TO_TOMORROW":{const n=e.events.find(s=>s.id===t.payload);if(!n)return e;if(n.startTime&&n.endTime){const s=typeof n.startTime=="string"?new Date(n.startTime):n.startTime,o=(typeof n.endTime=="string"?new Date(n.endTime):n.endTime).getTime()-s.getTime(),a=new Date(s);a.setDate(a.getDate()+1);const i=new Date(a.getTime()+o);return{...e,events:e.events.map(c=>c.id===t.payload?{...c,startTime:a,endTime:i}:c)}}if(n.date){const s=new Date(n.date+"T00:00:00");s.setDate(s.getDate()+1);const l=Ar(s);return{...e,events:e.events.map(o=>o.id===t.payload?{...o,date:l}:o)}}return e}case"SET_DAY_TASKS":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:t.payload.tasks}};case"TOGGLE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).map(n=>n.id===t.payload.taskId?{...n,completed:!n.completed}:n)}};case"UPDATE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).map(n=>n.id===t.payload.task.id?t.payload.task:n)}};case"DELETE_DAY_TASK":return{...e,dayTasks:{...e.dayTasks,[t.payload.date]:(e.dayTasks[t.payload.date]||[]).filter(n=>n.id!==t.payload.taskId)}};case"ADD_WALLET":return{...e,wallets:[...e.wallets,t.payload]};case"UPDATE_WALLET":return{...e,wallets:e.wallets.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_WALLET":return{...e,wallets:e.wallets.filter(n=>n.id!==t.payload),transactions:e.transactions.filter(n=>n.walletId!==t.payload)};case"ADD_TRANSACTION":{const n=t.payload;if(n.type==="transfer"){const o=e.wallets.find(c=>c.id===n.walletId),a=e.wallets.find(c=>c.id===n.toWalletId);if(!o||!a)return e;const i=n.toAmount||n.amount;return{...e,transactions:[...e.transactions,n],wallets:e.wallets.map(c=>c.id===n.walletId?{...c,balance:c.balance-n.amount}:c.id===n.toWalletId?{...c,balance:c.balance+i}:c)}}if(!e.wallets.find(o=>o.id===n.walletId))return e;const l=n.type==="income"?n.amount:-n.amount;return{...e,transactions:[...e.transactions,n],wallets:e.wallets.map(o=>o.id===n.walletId?{...o,balance:o.balance+l}:o)}}case"DELETE_TRANSACTION":{const n=e.transactions.find(l=>l.id===t.payload);if(!n)return e;if(n.type==="transfer"){const l=n.toAmount||n.amount;return{...e,transactions:e.transactions.filter(o=>o.id!==t.payload),wallets:e.wallets.map(o=>o.id===n.walletId?{...o,balance:o.balance+n.amount}:o.id===n.toWalletId?{...o,balance:o.balance-l}:o)}}const s=n.type==="income"?-n.amount:n.amount;return{...e,transactions:e.transactions.filter(l=>l.id!==t.payload),wallets:e.wallets.map(l=>l.id===n.walletId?{...l,balance:l.balance+s}:l)}}case"ADD_CATEGORY":return e.categories.includes(t.payload)?e:{...e,categories:[...e.categories,t.payload]};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(n=>n.id!==t.payload&&n.parentId!==t.payload)};case"TOGGLE_TASK":{const n=new Date().toISOString();let s=e.tasks.map(o=>{if(o.id===t.payload){const a=!o.completed;return{...o,completed:a,completedAt:a?n:void 0}}return o});const l=s.find(o=>o.id===t.payload);return l!=null&&l.parentId&&s.filter(i=>i.parentId===l.parentId).every(i=>i.completed)&&(s=s.map(i=>i.id===l.parentId?{...i,completed:!0,completedAt:n}:i)),{...e,tasks:s}}case"ADD_HABIT":return{...e,habits:[...e.habits,t.payload]};case"UPDATE_HABIT":return{...e,habits:e.habits.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_HABIT":return{...e,habits:e.habits.filter(n=>n.id!==t.payload)};case"TOGGLE_HABIT":{const{id:n,date:s}=t.payload;return{...e,habits:(e.habits||[]).map(l=>{if(l.id!==n)return l;const o=Array.isArray(l.records)?l.records:[],a=typeof l.bestStreak=="number"?l.bestStreak:0,c=o.includes(s)?o.filter(d=>d!==s):[...o,s].sort(),u=Wc(c),h=Math.max(a,u);return{...l,records:c,streak:u,bestStreak:h}})}}case"RECALCULATE_STREAKS":return{...e,habits:(e.habits||[]).map(n=>{const s=Array.isArray(n.records)?n.records:[],l=Wc(s),o=typeof n.bestStreak=="number"?n.bestStreak:0;return{...n,streak:l,bestStreak:Math.max(o,l)}})};case"ADD_IDEA":return{...e,ideas:[...e.ideas,t.payload]};case"UPDATE_IDEA":return{...e,ideas:e.ideas.map(n=>n.id===t.payload.id?{...n,title:t.payload.title,text:t.payload.text||n.text,tags:t.payload.tags||[],folderId:t.payload.folderId!==void 0?t.payload.folderId:n.folderId||null,isPinned:t.payload.isPinned!==void 0?t.payload.isPinned:n.isPinned||!1,status:t.payload.status||n.status||"inbox",imageBase64:t.payload.imageBase64,updatedAt:new Date().toISOString()}:n)};case"DELETE_IDEA":return{...e,ideas:e.ideas.filter(n=>n.id!==t.payload)};case"TOGGLE_IDEA_PIN":return{...e,ideas:e.ideas.map(n=>n.id===t.payload?{...n,isPinned:!n.isPinned}:n)};case"MOVE_IDEA_TO_FOLDER":return{...e,ideas:e.ideas.map(n=>n.id===t.payload.id?{...n,folderId:t.payload.folderId}:n)};case"ADD_FOLDER":return{...e,folders:[...e.folders,t.payload]};case"UPDATE_FOLDER":return{...e,folders:e.folders.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_FOLDER":return{...e,folders:e.folders.filter(n=>n.id!==t.payload),ideas:e.ideas.map(n=>n.folderId===t.payload?{...n,folderId:null}:n)};case"UPDATE_PROFILE":return{...e,profile:t.payload};case"ADD_DOCUMENT":return{...e,documents:[...e.documents,t.payload]};case"DELETE_DOCUMENT":return{...e,documents:e.documents.filter(n=>n.id!==t.payload)};case"ADD_FOCUS_SESSION":return{...e,focusSessions:[...e.focusSessions,t.payload]};case"UPDATE_TIMER_STATE":return{...e,timerState:t.payload};case"SET_THEME":return{...e,settings:{...e.settings,theme:t.payload}};case"SET_START_PAGE_MODE":return{...e,settings:{...e.settings,startPageMode:t.payload}};case"SET_CUSTOM_START_PAGE":return{...e,settings:{...e.settings,customStartPage:t.payload}};case"SET_LAST_VISITED_PAGE":return{...e,settings:{...e.settings,lastVisitedPage:t.payload}};case"UPDATE_SETTINGS":return{...e,settings:{...e.settings,...t.payload}};case"LOAD_STATE":return t.payload;default:return e}}const Ef=f.createContext(void 0);function Vx({onClose:e}){return r.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)",animation:"fadeIn 0.3s ease"},children:[r.jsxs("div",{style:{background:"var(--bg, #fff)",borderRadius:"16px",maxWidth:"400px",width:"100%",overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",animation:"slideUp 0.3s ease"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #0F766E 0%, #14B8A6 100%)",padding:"24px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"8px"},children:""}),r.jsx("h2",{style:{color:"white",fontSize:"22px",fontWeight:700,margin:0},children:" "}),r.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",margin:"8px 0 0 0"},children:"    "})]}),r.jsxs("div",{style:{padding:"24px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-soft, #D1FAE5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx("span",{style:{fontSize:"16px"},children:""})}),r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"15px",fontWeight:600,color:"var(--text, #1F2937)",margin:"0 0 4px 0"},children:" "}),r.jsx("p",{style:{fontSize:"13px",color:"var(--muted, #6B7280)",margin:0,lineHeight:1.5},children:"         ."})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--accent-soft, #D1FAE5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx("span",{style:{fontSize:"16px"},children:""})}),r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"15px",fontWeight:600,color:"var(--text, #1F2937)",margin:"0 0 4px 0"},children:" "}),r.jsx("p",{style:{fontSize:"13px",color:"var(--muted, #6B7280)",margin:0,lineHeight:1.5},children:"   .     ."})]})]}),r.jsxs("a",{href:"https://samur000.github.io/SDVIG-INFO/#install",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"14px",background:"linear-gradient(135deg, #0F766E 0%, #14B8A6 100%)",borderRadius:"10px",color:"white",fontSize:"15px",fontWeight:600,textDecoration:"none",marginBottom:"12px",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="scale(1.02)",t.currentTarget.style.boxShadow="0 4px 12px rgba(15, 118, 110, 0.4)"},onMouseLeave:t=>{t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="none"},children:[r.jsx("span",{children:" ?"}),r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),r.jsx("polyline",{points:"15 3 21 3 21 9"}),r.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),r.jsx("button",{onClick:e,style:{width:"100%",padding:"14px",background:"var(--bg-secondary, #F3F4F6)",border:"none",borderRadius:"10px",color:"var(--muted, #6B7280)",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.background="var(--border, #E5E7EB)"},onMouseLeave:t=>{t.currentTarget.style.background="var(--bg-secondary, #F3F4F6)"},children:""})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
      `})]})}function Yx({children:e}){var m;const[t,n]=f.useReducer(Hx,xt),[s,l]=f.useState(!1),[o,a]=f.useState(null),[i,c]=f.useState(!1),u=f.useRef(!0),h=f.useRef(null);f.useEffect(()=>{async function y(){try{console.log("AppContext:  ...");const j=await Lx();let g={...j,settings:j.settings||xt.settings};const k=Tx(g.wallets,g.transactions);g={...g,wallets:k.wallets,transactions:k.transactions},g.ideas&&g.ideas.length>0&&(g.ideas=g.ideas.map(p=>"tags"in p&&"folderId"in p&&"isPinned"in p?p:{...p,title:void 0,text:p.text||"",tags:[],folderId:null,isPinned:!1,status:p.status==="processed"?"archived":"inbox",imageBase64:void 0})),(!g.folders||g.folders.length===0)&&(g.folders=[{id:"inbox",name:"",color:"#6B7280",icon:"",order:0},{id:"work",name:"",color:"#3B82F6",icon:"",order:1},{id:"home",name:"",color:"#10B981",icon:"",order:2},{id:"ideas",name:"",color:"#F59E0B",icon:"",order:3},{id:"projects",name:"",color:"#8B5CF6",icon:"",order:4}]),n({type:"LOAD_STATE",payload:g}),n({type:"RECALCULATE_STREAKS"}),l(!0),!localStorage.getItem($c)&&!Wx()&&c(!0),console.log("AppContext:   ")}catch(j){console.error("AppContext:   :",j),a("  .   ."),l(!0)}}y()},[]),f.useEffect(()=>{if(u.current||!s){u.current=!1;return}return h.current&&clearTimeout(h.current),h.current=setTimeout(async()=>{try{await Js(t)}catch(y){console.error("AppContext:  :",y)}},300),()=>{h.current&&clearTimeout(h.current)}},[t,s]),f.useEffect(()=>{var j;const y=((j=t.settings)==null?void 0:j.theme)||"light";document.documentElement.setAttribute("data-theme",y)},[(m=t.settings)==null?void 0:m.theme]);const d=()=>{localStorage.setItem($c,"true"),c(!1)};return s?o?r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui",padding:"20px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),r.jsx("p",{style:{color:"#DC2626",marginBottom:"16px"},children:o}),r.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#0F766E",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"inherit"},children:" "})]}):r.jsxs(Ef.Provider,{value:{state:t,dispatch:n},children:[e,i&&r.jsx(Vx,{onClose:d})]}):r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui",gap:"12px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #E5E7EB",borderTopColor:"#0F766E",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r.jsx("span",{style:{color:"#6B7280"},children:"..."}),r.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]})}function Dt(){const e=f.useContext(Ef);if(e===void 0)throw new Error("useApp must be used within AppProvider");return e}function xr({checked:e,onChange:t,size:n="md",color:s}){const l=s?{"--checkbox-color":s,borderColor:s,...e?{background:s}:{}}:void 0;return r.jsx("button",{className:`checkbox ${e?"checked":""} checkbox-${n}`,onClick:t,type:"button","aria-checked":e,style:l,children:e&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})})}function vr({icon:e,title:t,text:n,action:s}){return r.jsxs("div",{className:"empty-state",children:[e&&r.jsx("div",{className:"empty-state-icon",children:e}),r.jsx("p",{className:"empty-state-title",children:t}),n&&r.jsx("p",{className:"empty-state-text",children:n}),s]})}const Df=f.createContext(void 0);function Gx({children:e}){const[t,n]=f.useState([]),s=f.useCallback(l=>{const o=Date.now().toString();n(a=>[...a,{id:o,message:l}]),setTimeout(()=>{n(a=>a.filter(i=>i.id!==o))},2500)},[]);return r.jsxs(Df.Provider,{value:{showToast:s},children:[e,r.jsx("div",{className:"toast-container",children:t.map(l=>r.jsx("div",{className:"toast animate-toast",children:l.message},l.id))})]})}function Mf(){const e=f.useContext(Df);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const Kx=[{path:"/",label:"",icon:"day"},{path:"/finance",label:"",icon:"finance"},{path:"/tasks",label:"",icon:"tasks"},{path:"/inbox",label:"",icon:"inbox"},{path:"/profile",label:"",icon:"profile"}];function Qx({type:e}){switch(e){case"day":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]});case"finance":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),r.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]});case"tasks":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]});case"inbox":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 002 2h16a2 2 0 002-2v-6l-3.45-6.89A2 2 0 0016.76 4H7.24a2 2 0 00-1.79 1.11z"})]});case"profile":return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]});default:return null}}function bf(){return r.jsx("nav",{className:"nav",children:Kx.map(e=>r.jsxs(vx,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,end:e.path==="/",children:[r.jsx("span",{className:"nav-icon",children:r.jsx(Qx,{type:e.icon})}),r.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function Yt({children:e,title:t,subtitle:n,showHeader:s=!0,headerRight:l}){return r.jsxs("div",{className:"layout",children:[s&&r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-content",children:[t?r.jsxs("div",{className:"header-title-section",children:[r.jsx("h1",{className:"header-title",children:t}),n&&r.jsx("p",{className:"header-subtitle",children:n})]}):r.jsx("span",{className:"header-logo",children:""}),l&&r.jsx("div",{className:"header-right",children:l})]})}),r.jsx("main",{className:"main",children:e}),r.jsx(bf,{})]})}function Ne({isOpen:e,onClose:t,title:n,children:s,size:l="md",hasChanges:o=!1,onSave:a,onRequestClose:i,confirmMessage:c}){const[u,h]=f.useState(!1),d=i||t;f.useEffect(()=>(e?document.body.style.overflow="hidden":(document.body.style.overflow="",h(!1)),()=>{document.body.style.overflow=""}),[e]),f.useEffect(()=>{const k=v=>{v.key==="Escape"&&m()};return e&&window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,d]);const m=()=>{o?h(!0):d()},y=()=>{h(!1),t()},j=()=>{a&&a(),h(!1)},g=()=>{h(!1)};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"modal-overlay",onClick:m,children:r.jsxs("div",{className:`modal-content modal-${l}`,onClick:k=>k.stopPropagation(),children:[n&&r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:n}),r.jsxs("div",{className:"modal-header-actions",children:[o&&a&&r.jsx("button",{className:"modal-save-btn",onClick:j,"aria-label":"",children:""}),r.jsx("button",{className:"modal-close",onClick:m,"aria-label":"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),r.jsx("div",{className:"modal-body",children:s})]})}),u&&r.jsx("div",{className:"modal-overlay",onClick:g,children:r.jsxs("div",{className:"modal-content modal-sm",onClick:k=>k.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:" ?"}),r.jsx("button",{className:"modal-close",onClick:g,"aria-label":"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("p",{style:{margin:"0 0 8px 0",color:"var(--muted)"},children:["    ",c?` ${c}`:"","."]}),r.jsxs("div",{className:"form-actions",style:{justifyContent:"flex-end",gap:"8px",marginTop:"20px"},children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:y,children:" "}),r.jsx("button",{type:"button",className:"btn btn-primary filled",onClick:j,children:""})]})]})]})})]}):null}function Xx(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}function fn(e=50){const t=Array.isArray(e)?e:[e];if("vibrate"in navigator)try{if(Xx())if(t.length>=3){const[n,s,l]=t;navigator.vibrate(n),setTimeout(()=>{navigator.vibrate(l)},(n||0)+(s||30))}else t.length===1?navigator.vibrate(t[0]):navigator.vibrate(t);else navigator.vibrate(t)}catch(n){console.warn("Vibration failed:",n);try{const s=t.length>0?t[0]:50;navigator.vibrate(s)}catch(s){console.warn("Simple vibration also failed:",s)}}}const Uc=["!  ! "," !  ! ","!    ! "," ! ! ","!   ! ","!   ! "];function Yr(){return Uc[Math.floor(Math.random()*Uc.length)]}const Jx=["","","","","","",""],qx=["","","","","","",""],_f=["","","","","","","","","","","",""];function me(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function yi(e){return new Date(e+"T00:00:00")}function Pt(){return me(new Date)}function tn(e){return Jx[e.getDay()]}function Pf(e){return qx[e.getDay()]}function ja(e){const t=e.getDate(),n=_f[e.getMonth()],s=e.getFullYear();return`${t} ${n} ${s} .`}function Gr(e=new Date){const t=[],n=new Date(e),s=n.getDay(),l=s===0?-6:1-s;n.setDate(n.getDate()+l);for(let o=0;o<7;o++)t.push(new Date(n)),n.setDate(n.getDate()+1);return t}function Sl(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Ln(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function rt(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Zx(e){const t=new Date(e),n=t.getDay(),s=n===0?-6:1-n;return t.setDate(t.getDate()+s),t.setHours(0,0,0,0),t}function e0(e){const t=yi(e),s=Zx(new Date),l=rt(s,7);return t>=s&&t<l}function zc(e){const t=yi(e),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}function t0(e){return e.reduce((t,n)=>{const s=n.date;return t[s]||(t[s]=[]),t[s].push(n),t},{})}function n0(e){const t=yi(e),n=new Date;if(Sl(t))return"";const s=rt(n,-1);if(Ln(t,s))return"";const l=rt(n,1);return Ln(t,l)?"":`${t.getDate()} ${_f[t.getMonth()]}`}function r0(e,t){const n=[],s=new Date(e,t,1),l=new Date(e,t+1,0);let o=s.getDay();o=o===0?6:o-1;const a=new Date(e,t,1-o);let i=l.getDay();i=i===0?6:i-1;const c=new Date(l);c.setDate(l.getDate()+(6-i));const u=new Date(a);for(let h=0;h<42&&!(u>c);h++)n.push(new Date(u)),u.setDate(u.getDate()+1);return n}const s0=["","","","","","","","","","","",""];function _r(e){return s0[e]}function l0(e,t,n){return e.getMonth()===t&&e.getFullYear()===n}function kr(e,t,n){const[s,l]=f.useState(!1),o=f.useRef(e),i=n||((h,d)=>JSON.stringify(h)===JSON.stringify(d));f.useEffect(()=>{o.current=e},[e]),f.useEffect(()=>{const h=t(),d=!i(h,o.current);l(d)},[t,i]);const c=f.useCallback(()=>{o.current=t(),l(!1)},[t]),u=f.useCallback(()=>t(),[t]);return{hasChanges:s,resetChanges:c,getChanges:u}}const yo=["","","","","","",""],o0=f.forwardRef(({routine:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.title)||""),[i,c]=f.useState((e==null?void 0:e.description)||""),[u,h]=f.useState((e==null?void 0:e.time)||""),[d,m]=f.useState((e==null?void 0:e.duration)||30),[y,j]=f.useState((e==null?void 0:e.days)||yo),g=f.useMemo(()=>e?{title:e.title,description:e.description||"",time:e.time||"",duration:e.duration||30,days:e.days}:{title:"",description:"",time:"",duration:30,days:yo},[e]),{hasChanges:k}=kr(g,()=>({title:o,description:i,time:u,duration:d,days:[...y].sort()}),(w,C)=>w.title===C.title&&w.description===C.description&&w.time===C.time&&w.duration===C.duration&&JSON.stringify([...w.days].sort())===JSON.stringify([...C.days].sort()));f.useEffect(()=>{s&&s(k)},[k,s]);const v=w=>{y.includes(w)?j(y.filter(C=>C!==w)):j([...y,w])},p=()=>{!o.trim()||y.length===0||d<10||(e||fn([10,30,10]),t({id:(e==null?void 0:e.id)||Te(),title:o.trim(),description:i.trim()||void 0,time:u||void 0,duration:d>=10?d:30,days:y,completed:(e==null?void 0:e.completed)||{},createdAt:(e==null?void 0:e.createdAt)||me(new Date)}))};f.useImperativeHandle(l,()=>({hasChanges:k,save:p}),[k,o,i,u,d,y]);const x=w=>{w.preventDefault(),p()};return r.jsxs("form",{className:"form",onSubmit:x,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:w=>a(w.target.value),placeholder:":  ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("textarea",{value:i,onChange:w=>c(w.target.value),placeholder:"  ...",rows:3})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"time",value:u,onChange:w=>h(w.target.value)})]}),r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"number",min:"10",step:"5",value:d,onChange:w=>{const C=parseInt(w.target.value)||10;m(Math.max(10,C))},placeholder:"30"})]})]}),r.jsx("small",{style:{color:"var(--muted)",fontSize:"12px",marginTop:"4px",display:"block"},children:" 10 "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("div",{className:"days-selector",children:yo.map(w=>r.jsx("button",{type:"button",className:`day-btn ${y.includes(w)?"active":""}`,onClick:()=>v(w),children:w},w))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})}),Rf=f.forwardRef(({event:e,defaultDate:t,onSave:n,onCancel:s,onChangesChange:l},o)=>{const a=()=>{const T=new Date,X=T.getMinutes()<30?30:60;return T.setMinutes(X,0,0),X===60&&T.setHours(T.getHours()+1,0,0),T},i=T=>{const P=new Date(T);return P.setHours(P.getHours()+1),P},u=(()=>{if(e){const T=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,P=typeof e.endTime=="string"?new Date(e.endTime):e.endTime;return{date:me(T),startTime:T,endTime:P}}else{const T=new Date(t+"T09:00:00");if(isNaN(T.getTime())){const P=a(),X=i(P);return{date:t,startTime:P,endTime:X}}else{const P=a();P.setFullYear(T.getFullYear(),T.getMonth(),T.getDate());const X=i(P);return{date:t,startTime:P,endTime:X}}}})(),[h,d]=f.useState((e==null?void 0:e.title)||""),[m,y]=f.useState((e==null?void 0:e.description)||""),[j,g]=f.useState(u.date),[k,v]=f.useState(u.startTime),[p,x]=f.useState(u.endTime),[w,C]=f.useState((e==null?void 0:e.color)||go),[D,E]=f.useState(""),_=f.useMemo(()=>e?{title:e.title,description:e.description||"",date:me(typeof e.startTime=="string"?new Date(e.startTime):e.startTime),startTime:typeof e.startTime=="string"?new Date(e.startTime):e.startTime,endTime:typeof e.endTime=="string"?new Date(e.endTime):e.endTime,color:e.color||go}:{title:"",description:"",date:t,startTime:u.startTime,endTime:u.endTime,color:go},[e,t,u]),{hasChanges:B}=kr(_,()=>({title:h,description:m,date:j,startTime:k,endTime:p,color:w}),(T,P)=>T.title===P.title&&T.description===P.description&&T.date===P.date&&T.startTime.getTime()===P.startTime.getTime()&&T.endTime.getTime()===P.endTime.getTime()&&T.color===P.color);f.useEffect(()=>{l&&l(B)},[B,l]),f.useImperativeHandle(o,()=>({hasChanges:B,save:V}),[B,h,m,j,k,p,w]),f.useEffect(()=>{if(j){const T=new Date(j+"T00:00:00");if(!isNaN(T.getTime())){const P=new Date(k);P.setFullYear(T.getFullYear(),T.getMonth(),T.getDate());const X=new Date(p);X.setFullYear(T.getFullYear(),T.getMonth(),T.getDate()),v(P),x(X)}}},[j]),f.useEffect(()=>{k>=p?E("    "):(p.getTime()-k.getTime())/6e4<30?E("    30 "):E("")},[k,p]);const L=T=>{const P=T.getHours().toString().padStart(2,"0"),X=T.getMinutes().toString().padStart(2,"0");return`${P}:${X}`},K=T=>{const[P,X]=T.split(":").map(Number),M=new Date(k);M.setHours(P,X,0,0),v(M);const U=(p.getTime()-M.getTime())/(1e3*60);if(M>=p||U<30){const Y=new Date(M);Y.setMinutes(Y.getMinutes()+30),x(Y)}},G=T=>{const[P,X]=T.split(":").map(Number),M=new Date(p);if(M.setHours(P,X,0,0),(M.getTime()-k.getTime())/(1e3*60)<30){const Y=new Date(k);Y.setMinutes(Y.getMinutes()+30),x(Y),E("    30 "),setTimeout(()=>E(""),2e3)}else x(M),E("")},V=()=>{!h.trim()||!j||k>=p||(e||fn([10,30,10]),n({id:(e==null?void 0:e.id)||Te(),title:h.trim(),description:m.trim()||void 0,startTime:k,endTime:p,color:w,completed:(e==null?void 0:e.completed)||!1}))},ae=T=>{T.preventDefault(),V()};return r.jsxs("form",{className:"form",onSubmit:ae,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:h,onChange:T=>d(T.target.value),placeholder:":   ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("textarea",{value:m,onChange:T=>y(T.target.value),placeholder:"  ...",rows:3})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"date",value:j,onChange:T=>g(T.target.value),required:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",style:{flex:1},children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"time",value:L(k),onChange:T=>K(T.target.value),required:!0})]}),r.jsxs("div",{className:"form-group",style:{flex:1},children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"time",value:L(p),onChange:T=>G(T.target.value),required:!0})]})]}),D&&r.jsx("div",{className:"form-error",style:{color:"var(--danger)",fontSize:"13px",marginTop:"-8px",marginBottom:"8px"},children:D}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"color-picker",style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Nx.map(T=>r.jsx("button",{type:"button",className:"color-option",style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:T,border:w===T?"3px solid var(--text)":"2px solid var(--border)",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>C(T),title:T},T))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:s,children:""})})]})});function If(e,t){const n=me(t);return e.filter(s=>{if(s.startTime){const l=typeof s.startTime=="string"?new Date(s.startTime):s.startTime;return Ln(l,t)}return s.date?s.date===n:!1}).sort((s,l)=>{if(s.startTime&&l.startTime){const o=typeof s.startTime=="string"?new Date(s.startTime):s.startTime,a=typeof l.startTime=="string"?new Date(l.startTime):l.startTime;return o.getTime()-a.getTime()}return 0})}function a0(e,t){const n=new Date(t[0]);n.setHours(0,0,0,0);const s=new Date(t[t.length-1]);return s.setHours(23,59,59,999),e.filter(l=>{if(l.startTime){const o=typeof l.startTime=="string"?new Date(l.startTime):l.startTime;return isNaN(o.getTime())?!1:o>=n&&o<=s}if(l.date){const o=new Date(l.date+"T00:00:00");return isNaN(o.getTime())?!1:o>=n&&o<=s}return!1})}function or(e){if(!e)return 0;const t=typeof e=="string"?new Date(e):e,n=t.getHours(),s=t.getMinutes();return n*60+s}function ar(e,t){if(!e||!t)return 60;const n=typeof e=="string"?new Date(e):e,s=typeof t=="string"?new Date(t):t;if(isNaN(n.getTime())||isNaN(s.getTime()))return 60;const l=(s.getTime()-n.getTime())/(1e3*60);return Math.max(30,l)}function i0(e,t){if(!e.startTime||!e.endTime||!t.startTime||!t.endTime)return!1;const n=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,s=typeof e.endTime=="string"?new Date(e.endTime):e.endTime,l=typeof t.startTime=="string"?new Date(t.startTime):t.startTime,o=typeof t.endTime=="string"?new Date(t.endTime):t.endTime;return isNaN(n.getTime())||isNaN(s.getTime())||isNaN(l.getTime())||isNaN(o.getTime())?!1:n<o&&l<s}function Lf(e){if(e.length===0)return[];const t=new Map,n=new Map;for(const i of e)t.set(i.id,i.id),n.set(i.id,0);const s=i=>(t.get(i)!==i&&t.set(i,s(t.get(i))),t.get(i)),l=(i,c)=>{const u=s(i),h=s(c);if(u===h)return;const d=n.get(u)||0,m=n.get(h)||0;d<m?t.set(u,h):d>m?t.set(h,u):(t.set(h,u),n.set(u,d+1))};for(let i=0;i<e.length;i++)for(let c=i+1;c<e.length;c++)i0(e[i],e[c])&&l(e[i].id,e[c].id);const o=new Map;for(const i of e){const c=s(i.id);o.has(c)||o.set(c,[]),o.get(c).push(i)}const a=[];for(const i of o.values())i.sort((c,u)=>{const h=typeof c.startTime=="string"?new Date(c.startTime):c.startTime,d=typeof u.startTime=="string"?new Date(u.startTime):u.startTime;return!h||!d?0:h.getTime()-d.getTime()}),a.push(i);return a.sort((i,c)=>{const u=typeof i[0].startTime=="string"?new Date(i[0].startTime):i[0].startTime,h=typeof c[0].startTime=="string"?new Date(c[0].startTime):c[0].startTime;return!u||!h?0:u.getTime()-h.getTime()}),a}function An(e){if(!e)return"00:00";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"00:00";const n=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0");return`${n}:${s}`}function Af(){const e=new Date,t=e.getHours(),n=e.getMinutes();return t*60+n}function Bf({event:e,onClose:t,onEdit:n,onDelete:s,onToggle:l}){let o,a,i="",c="",u="",h="";if(e.startTime&&e.endTime){if(o=typeof e.startTime=="string"?new Date(e.startTime):e.startTime,a=typeof e.endTime=="string"?new Date(e.endTime):e.endTime,!isNaN(o.getTime())&&!isNaN(a.getTime())){i=An(o),c=An(a);const m=a.getTime()-o.getTime(),y=Math.floor(m/(1e3*60*60)),j=Math.floor(m%(1e3*60*60)/(1e3*60));y>0?(u=`${y} `,j>0&&(u+=` ${j} `)):u=`${j} `,h=ja(o)}}else if(e.date&&e.time){const m=new Date(e.date+"T"+e.time);isNaN(m.getTime())||(o=m,h=ja(o),i=e.time,c="",u="")}const d=e.color||"#4285F4";return r.jsx(Ne,{isOpen:!0,onClose:t,title:"",children:r.jsxs("div",{className:"event-details",children:[r.jsx("div",{className:"event-details-color-bar",style:{backgroundColor:d}}),r.jsx("div",{className:"event-details-header",children:r.jsxs("div",{className:"event-details-title-row",children:[r.jsx("h2",{className:`event-details-title ${e.completed?"completed":""}`,children:e.title}),l&&r.jsx(xr,{checked:e.completed,onChange:l,size:"md",color:d})]})}),r.jsxs("div",{className:"event-details-info",children:[r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),""]}),r.jsx("div",{className:"event-details-item-value",children:h||""})]}),r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),""]}),r.jsxs("div",{className:"event-details-item-value",children:[i,"  ",c," (",u,")"]})]}),e.description&&r.jsxs("div",{className:"event-details-item",children:[r.jsxs("div",{className:"event-details-item-label",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),""]}),r.jsx("div",{className:"event-details-item-value event-details-description",children:e.description})]})]}),r.jsxs("div",{className:"event-details-actions",children:[r.jsx("button",{className:"btn btn-primary filled",onClick:n,children:""}),r.jsx("button",{className:"btn text-danger",onClick:s,children:""})]})]})})}const c0=["","","","","","",""];function u0(){const{state:e,dispatch:t}=Dt(),{showToast:n}=Mf(),s=Et(),l=jn(),[o,a]=f.useState(new Date),[i,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!1),[y,j]=f.useState(""),[g,k]=f.useState(null),[v,p]=f.useState(null),[x,w]=f.useState(null),[C,D]=f.useState(null),E=f.useRef(null),[_,B]=f.useState(!1),L=f.useRef(null),[K,G]=f.useState(!1),[V,ae]=f.useState(!1),T=f.useMemo(()=>(g==null?void 0:g.title)||"",[g]),P=y.trim()!==T;f.useEffect(()=>{ae(P)},[P]);const X=f.useRef(null),M=f.useRef(null),U=me(o),Y=tn(o),oe=f.useMemo(()=>Gr(o),[o]),ue=Sl(o),xe=f.useMemo(()=>{const b={};return e.events.forEach(Z=>{Z.date&&(b[Z.date]=!0)}),Object.keys(e.dayTasks).forEach(Z=>{var ve;((ve=e.dayTasks[Z])==null?void 0:ve.length)>0&&(b[Z]=!0)}),oe.forEach(Z=>{const ve=tn(Z);e.routines.some(Ve=>Ve.days.includes(ve))&&(b[me(Z)]=!0)}),b},[e.events,e.dayTasks,e.routines,oe]),fe=f.useMemo(()=>e.routines.filter(b=>b.days.includes(Y)),[e.routines,Y]),I=f.useMemo(()=>e.events.filter(b=>{if(b.routineId)return!1;if(b.startTime){const Z=typeof b.startTime=="string"?new Date(b.startTime):b.startTime;return me(Z)===U}return b.date?b.date===U:!1}),[e.events,U]),ee=e.dayTasks[U]||[],le=b=>{if(b.startTime&&b.endTime){const Z=typeof b.startTime=="string"?new Date(b.startTime):b.startTime,ve=typeof b.endTime=="string"?new Date(b.endTime):b.endTime;if(!isNaN(Z.getTime())&&!isNaN(ve.getTime()))return`${An(Z)} - ${An(ve)}`}return b.time?b.time:""},ie=b=>{if(b.startTime){const Z=typeof b.startTime=="string"?new Date(b.startTime):b.startTime;if(!isNaN(Z.getTime())){const ve=Z.getHours().toString().padStart(2,"0"),ke=Z.getMinutes().toString().padStart(2,"0");return`${ve}:${ke}`}}return b.time||"99:99"},ce=f.useMemo(()=>{const b=[];return fe.forEach(Z=>{b.push({type:"routine",item:Z,time:Z.time||"99:99"})}),I.forEach(Z=>{b.push({type:"event",item:Z,time:ie(Z),timeDisplay:le(Z)})}),b.sort((Z,ve)=>Z.time.localeCompare(ve.time))},[fe,I]),O=f.useCallback(()=>{a(b=>rt(b,-1))},[]),R=f.useCallback(()=>{a(b=>rt(b,1))},[]),A=f.useCallback(()=>{a(new Date)},[]),Q=b=>{X.current=b.touches[0].clientX,M.current=null},te=b=>{M.current=b.touches[0].clientX},re=b=>b.completed[U]||!1,z=ee.filter(b=>b.completed).length,W=()=>{ee.length>=3||m(!0)},S=()=>{if(y.trim()){if(g)t({type:"UPDATE_DAY_TASK",payload:{date:U,task:{...g,title:y.trim()}}});else{const b={id:Te(),title:y.trim(),completed:!1,date:U};t({type:"SET_DAY_TASKS",payload:{date:U,tasks:[...ee,b]}})}j(""),k(null),m(!1)}},N=b=>{confirm(" ?")&&t({type:"DELETE_DAY_TASK",payload:{date:U,taskId:b}})},H=b=>{k(b),j(b.title),m(!0)},J=b=>{const Z=ee.find(ke=>ke.id===b),ve=Z&&!Z.completed;t({type:"TOGGLE_DAY_TASK",payload:{date:U,taskId:b}}),ve&&(fn(50),n(Yr()))},F=b=>{const Z=e.routines.find(ke=>ke.id===b),ve=Z&&!Z.completed[U];t({type:"TOGGLE_ROUTINE",payload:{id:b,date:U}}),ve&&(fn(50),n(Yr()))},ne=b=>{const Z=e.events.find(ke=>ke.id===b),ve=Z&&!Z.completed;t({type:"TOGGLE_EVENT",payload:b}),ve&&(fn(50),n(Yr()))},se=b=>{t({type:"MOVE_EVENT_TO_TOMORROW",payload:b})},pe=b=>{t(v?{type:"UPDATE_ROUTINE",payload:b}:{type:"ADD_ROUTINE",payload:b}),c(!1),p(null)},ct=b=>{t(x?{type:"UPDATE_EVENT",payload:b}:{type:"ADD_EVENT",payload:b}),h(!1),w(null)},wn=b=>{confirm(" ?")&&t({type:"DELETE_ROUTINE",payload:b})},tt=b=>{confirm(" ?")&&t({type:"DELETE_EVENT",payload:b})};return f.useEffect(()=>{var b;(b=l.state)!=null&&b.selectedDate&&a(new Date(l.state.selectedDate))},[l.state]),r.jsxs(Yt,{title:Pf(o),subtitle:ja(o),headerRight:r.jsx("button",{className:"header-calendar-btn",onClick:()=>s("/calendar",{state:{selectedDate:o}}),title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),children:[r.jsxs("div",{className:"week-navigation",onTouchStart:Q,onTouchMove:te,children:[r.jsx("button",{className:"week-nav-arrow",onClick:O,title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("div",{className:"week-strip",children:oe.map((b,Z)=>{const ve=me(b)===U,ke=Sl(b),Ve=me(b),Lt=xe[Ve];return r.jsxs("button",{className:`week-day ${ve?"selected":""} ${ke?"today":""}`,onClick:()=>a(b),children:[r.jsx("span",{className:"week-day-name",children:c0[Z]}),r.jsx("span",{className:"week-day-num",children:b.getDate()}),Lt&&r.jsx("span",{className:"week-day-dot"}),ke&&!ve&&r.jsx("span",{className:"week-day-today-mark"})]},Z)})}),r.jsx("button",{className:"week-nav-arrow",onClick:R,title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!ue&&r.jsxs("button",{className:"today-chip",onClick:A,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),""]}),r.jsxs("div",{className:"day-content",onTouchStart:Q,onTouchMove:te,children:[r.jsxs("div",{className:"day-tasks-card card-accent",children:[r.jsxs("div",{className:"day-tasks-header",children:[r.jsx("h3",{children:"3   "}),r.jsxs("span",{className:"day-tasks-counter",children:[z," / 3"]})]}),r.jsxs("div",{className:"day-tasks-list",children:[ee.map(b=>r.jsxs("div",{className:"day-task-item",children:[r.jsx(xr,{checked:b.completed,onChange:()=>J(b.id)}),r.jsx("span",{className:`day-task-title ${b.completed?"line-through":""}`,children:b.title}),r.jsxs("div",{className:"day-task-actions",children:[r.jsx("button",{className:"btn-icon-mini",title:"",onClick:()=>H(b),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"btn-icon-mini text-danger",title:"",onClick:()=>N(b.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]},b.id)),ee.length<3&&r.jsxs("button",{className:"day-task-add",onClick:W,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]})]})]}),r.jsxs("div",{className:"schedule-section",children:[r.jsxs("div",{className:"schedule-header",children:[r.jsx("h3",{children:""}),r.jsxs("div",{className:"schedule-actions",children:[r.jsx("button",{className:"btn btn-sm",onClick:()=>c(!0),children:"+ "}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>h(!0),children:"+ "})]})]}),ce.length===0?r.jsx(vr,{title:" ",text:"      ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}):r.jsx("div",{className:"schedule-list",children:ce.map(({type:b,item:Z,timeDisplay:ve})=>{const ke=b==="event"?Z:null,Ve=(ke==null?void 0:ke.color)||"#4285F4";return r.jsxs("div",{className:`schedule-item ${b==="event"?"schedule-item-event":""}`,style:b==="event"?{backgroundColor:Ve+"15",borderLeftColor:Ve,borderLeftWidth:"4px",cursor:"pointer"}:void 0,onClick:b==="event"?()=>D(Z):void 0,children:[r.jsx("div",{className:"schedule-item-time",children:b==="event"&&ve?ve:Z.time||""}),r.jsxs("div",{className:"schedule-item-content",children:[r.jsxs("div",{className:"schedule-item-main",children:[r.jsx("div",{onClick:b==="event"?Lt=>Lt.stopPropagation():void 0,children:r.jsx(xr,{checked:b==="routine"?re(Z):Z.completed,onChange:()=>b==="routine"?F(Z.id):ne(Z.id)})}),r.jsxs("div",{className:"schedule-item-text",children:[r.jsx("span",{className:(b==="routine"?re(Z):Z.completed)?"line-through":"",children:Z.title}),Z.description&&r.jsx("span",{className:"schedule-item-description",children:Z.description})]}),b==="routine"&&r.jsx("span",{className:"chip chip-sm",children:""})]}),r.jsxs("div",{className:"schedule-item-actions",onClick:b==="event"?Lt=>Lt.stopPropagation():void 0,children:[r.jsx("button",{className:"btn-icon",title:"",onClick:()=>{t({type:"UPDATE_TIMER_STATE",payload:{mode:"focus",timeLeft:25*60,isRunning:!1,sessionsCompleted:0,currentTask:Z.title,focusDuration:25,startedAt:void 0}}),s("/focus")},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),r.jsx("button",{className:"btn-icon",title:"",onClick:()=>{b==="routine"?(p(Z),c(!0)):(w(Z),h(!0))},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),b==="event"&&r.jsx("button",{className:"btn-icon",title:"  ",onClick:()=>se(Z.id),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})}),r.jsx("button",{className:"btn-icon text-danger",title:"",onClick:()=>b==="routine"?wn(Z.id):tt(Z.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})]},Z.id)})})]})]}),r.jsx(Ne,{isOpen:i,onClose:()=>{c(!1),p(null),G(!1)},onRequestClose:()=>{var b;if((b=L.current)!=null&&b.hasChanges){G(!0);return}c(!1),p(null)},hasChanges:K,onSave:()=>{L.current&&L.current.save()},confirmMessage:"",title:v?" ":" ",children:r.jsx(o0,{ref:L,routine:v,onChangesChange:G,onSave:b=>{pe(b),c(!1),p(null),G(!1)},onCancel:()=>{c(!1),p(null),G(!1)}})}),r.jsx(Ne,{isOpen:u,onClose:()=>{h(!1),w(null),B(!1)},onRequestClose:()=>{var b;if((b=E.current)!=null&&b.hasChanges){B(!0);return}h(!1),w(null)},hasChanges:_,onSave:()=>{E.current&&E.current.save()},confirmMessage:"",title:x?" ":" ",children:r.jsx(Rf,{ref:E,event:x,defaultDate:U,onChangesChange:B,onSave:b=>{ct(b),h(!1),w(null),B(!1)},onCancel:()=>{h(!1),w(null),B(!1)}})}),r.jsx(Ne,{isOpen:d,onClose:()=>{m(!1),j((g==null?void 0:g.title)||""),k(null),ae(!1)},onRequestClose:()=>{if(V){ae(!0);return}m(!1),j((g==null?void 0:g.title)||""),k(null)},hasChanges:V,onSave:()=>{S(),m(!1),j(""),k(null),ae(!1)},confirmMessage:"  ",title:g?" ":"  ",children:r.jsxs("form",{onSubmit:b=>{b.preventDefault(),S()},className:"form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:y,onChange:b=>j(b.target.value),placeholder:"   ?",autoFocus:!0})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:()=>{m(!1),j((g==null?void 0:g.title)||""),k(null),ae(!1)},children:""})})]})}),C&&r.jsx(Bf,{event:C,onClose:()=>D(null),onEdit:()=>{w(C),D(null),h(!0)},onDelete:()=>{confirm(" ?")&&(tt(C.id),D(null))},onToggle:()=>{ne(C.id);const b={...C,completed:!C.completed};D(b)}})]})}function d0(e,t=60){if(e.includes("-")){const[n,s]=e.split("-").map(c=>c.trim()),[l,o]=n.split(":").map(Number),[a,i]=s.split(":").map(Number);return{startHour:l,startMinute:o,endHour:a,endMinute:i}}else{const[n,s]=e.split(":").map(Number),l=new Date;return l.setHours(n,s,0,0),l.setMinutes(l.getMinutes()+t),{startHour:n,startMinute:s,endHour:l.getHours(),endMinute:l.getMinutes()}}}function f0(e,t,n,s=[]){const l=[],o=e.duration&&e.duration>=10?e.duration:60;let a=9,i=0,c=10,u=0;if(e.time){const y=d0(e.time,o);a=y.startHour,i=y.startMinute,c=y.endHour,u=y.endMinute}else{const y=new Date;y.setHours(9,0,0,0),y.setMinutes(y.getMinutes()+o),c=y.getHours(),u=y.getMinutes()}const h=new Set(s.filter(y=>y.routineId===e.id).map(y=>{const j=typeof y.startTime=="string"?new Date(y.startTime):y.startTime;return me(j)}));let d=new Date(t);if(d.setHours(0,0,0,0),e.createdAt){const y=new Date(e.createdAt+"T00:00:00");!isNaN(y.getTime())&&y>d&&(d=y)}const m=new Date(d);for(m.setHours(0,0,0,0);m<=n;){const y=me(m),j=tn(m);if(e.days.includes(j)&&!h.has(y)){const g=new Date(m);g.setHours(a,i,0,0);const k=new Date(m);k.setHours(c,u,0,0),k<g&&k.setDate(k.getDate()+1);const v={id:Te(),title:e.title,description:e.description,startTime:g,endTime:k,color:"#9C27B0",icon:e.icon,completed:e.completed[y]||!1,routineId:e.id};l.push(v)}m.setDate(m.getDate()+1)}return l}const Hc=Array.from({length:24},(e,t)=>t);function m0({date:e,events:t,onEventClick:n}){const s=f.useRef(null),[l,o]=f.useState(null),a=Ln(e,new Date);f.useEffect(()=>{if(!a){o(null);return}const u=()=>{o(Af())};u();const h=setInterval(u,6e4);return()=>clearInterval(h)},[a]);const i=f.useMemo(()=>If(t,e),[t,e]),c=f.useMemo(()=>Lf(i),[i]);return f.useEffect(()=>{if(a&&s.current&&l!==null){const u=s.current.clientHeight,h=l-u/2;s.current.scrollTop=Math.max(0,h)}},[a]),f.useEffect(()=>{if(a&&s.current&&l!==null){const u=s.current.clientHeight,h=s.current.scrollTop,d=h,m=h+u;if(l<d||l>m){const y=l-u/2;s.current.scrollTop=Math.max(0,y)}}},[l,a]),r.jsxs("div",{className:"day-view",children:[r.jsxs("div",{className:"day-view-hours",children:[Hc.map(u=>r.jsx("div",{className:"day-view-hour",children:r.jsxs("span",{className:"day-view-hour-label",children:[u.toString().padStart(2,"0"),":00"]})},u)),r.jsx("div",{className:"day-view-hour",children:r.jsx("span",{className:"day-view-hour-label",children:"00:00"})})]}),r.jsxs("div",{className:"day-view-content",ref:s,children:[a&&l!==null&&r.jsxs("div",{className:"day-view-current-time",style:{top:`${l}px`},children:[r.jsx("div",{className:"day-view-current-time-line"}),r.jsx("div",{className:"day-view-current-time-dot"})]}),r.jsxs("div",{className:"day-view-grid",children:[Hc.map(u=>r.jsxs(f.Fragment,{children:[r.jsx("div",{className:"day-view-grid-line-hour",style:{top:`${u*60}px`}}),u<23&&r.jsx("div",{className:"day-view-grid-line-half",style:{top:`${u*60+30}px`}})]},u)),r.jsx("div",{className:"day-view-grid-line-hour",style:{top:"1440px"}})]}),r.jsx("div",{className:"day-view-events",children:(()=>{const u=new Map;return c.forEach((h,d)=>{if(h.length===0)return;let m=1/0,y=-1/0;if(h.forEach(g=>{if(!g.startTime||!g.endTime)return;const k=typeof g.startTime=="string"?new Date(g.startTime):g.startTime,v=typeof g.endTime=="string"?new Date(g.endTime):g.endTime,p=or(k),x=ar(k,v),w=p+x;m=Math.min(m,p),y=Math.max(y,w)}),m===1/0)return;let j=0;for(let g=0;g<d;g++){const k=c[g];if(k.length===0)continue;let v=1/0,p=-1/0;if(k.forEach(C=>{if(!C.startTime||!C.endTime)return;const D=typeof C.startTime=="string"?new Date(C.startTime):C.startTime,E=typeof C.endTime=="string"?new Date(C.endTime):C.endTime,_=or(D),B=ar(D,E),L=_+B;v=Math.min(v,_),p=Math.max(p,L)}),v===1/0)continue;const x=u.get(g)||0,w=p+x;m<p&&y>v&&m<w&&(j=Math.max(j,w-m))}j>0&&u.set(d,j)}),c.map((h,d)=>{const g=(100-.5*(h.length-1))/h.length,k=u.get(d)||0;return h.map((v,p)=>{if(!v.startTime||!v.endTime)return null;const x=typeof v.startTime=="string"?new Date(v.startTime):v.startTime,w=typeof v.endTime=="string"?new Date(v.endTime):v.endTime;if(isNaN(x.getTime())||isNaN(w.getTime()))return null;const C=or(x)+k,D=ar(x,w),E=p*(g+.5),_=g,B=v.color||"#4285F4",L=!!v.routineId;return r.jsx("div",{className:`day-view-event ${L?"day-view-event-routine":""}`,style:{top:`${C}px`,left:`${E}%`,width:`${_}%`,height:`${D}px`,borderLeftColor:B,backgroundColor:B+"20"},onClick:()=>n==null?void 0:n(v),children:r.jsxs("div",{className:"day-view-event-content",children:[r.jsxs("div",{className:"day-view-event-title",children:[L&&r.jsx("span",{className:"day-view-event-routine-icon",children:" "}),v.title]}),r.jsxs("div",{className:"day-view-event-time",children:[An(x),"  ",An(w)]}),v.description&&r.jsx("div",{className:"day-view-event-description",children:v.description})]})},v.id)}).filter(Boolean)})})()})]})]})}const Vc=Array.from({length:24},(e,t)=>t);function h0({date:e,events:t,onEventClick:n}){const s=f.useRef(null),[l,o]=f.useState(null),a=f.useMemo(()=>Gr(e),[e]);f.useEffect(()=>{const d=()=>{o(Af())};d();const m=setInterval(d,6e4);return()=>clearInterval(m)},[]);const i=f.useMemo(()=>a0(t,a),[t,a]),c=f.useMemo(()=>{const d={};return a.forEach(m=>{const y=me(m);d[y]=i.filter(j=>{if(j.startTime){const g=typeof j.startTime=="string"?new Date(j.startTime):j.startTime;return isNaN(g.getTime())?!1:Ln(g,m)}return j.date?j.date===y:!1}).filter(j=>{if(j.startTime&&j.endTime){const g=typeof j.startTime=="string"?new Date(j.startTime):j.startTime,k=typeof j.endTime=="string"?new Date(j.endTime):j.endTime;return!isNaN(g.getTime())&&!isNaN(k.getTime())}return!1})}),d},[i,a]),u=new Date,h=a.some(d=>Ln(d,u));return f.useEffect(()=>{if(h&&s.current&&l!==null){const d=s.current.clientHeight,m=l-d/2;s.current.scrollTop=Math.max(0,m)}},[h]),f.useEffect(()=>{if(h&&s.current&&l!==null){const d=s.current.clientHeight,m=s.current.scrollTop,y=m,j=m+d;if(l<y||l>j){const g=l-d/2;s.current.scrollTop=Math.max(0,g)}}},[l,h]),r.jsx("div",{className:"week-view",children:r.jsxs("div",{className:"week-view-body",children:[r.jsxs("div",{className:"week-view-hours",children:[Vc.map(d=>r.jsx("div",{className:"week-view-hour",children:r.jsxs("span",{className:"week-view-hour-label",children:[d.toString().padStart(2,"0"),":00"]})},d)),r.jsx("div",{className:"week-view-hour",children:r.jsx("span",{className:"week-view-hour-label",children:"00:00"})})]}),r.jsxs("div",{className:"week-view-content",ref:s,children:[l!==null&&h&&r.jsxs("div",{className:"week-view-current-time",style:{top:`${l}px`},children:[r.jsx("div",{className:"week-view-current-time-line"}),r.jsx("div",{className:"week-view-current-time-dot"})]}),a.slice(1).map((d,m)=>{const y=(m+1)/7*100;return r.jsx("div",{className:"week-view-day-divider",style:{left:`${y}%`}},`divider-${me(d)}`)}),r.jsxs("div",{className:"week-view-grid",children:[Vc.map(d=>r.jsxs(f.Fragment,{children:[r.jsx("div",{className:"week-view-grid-row-hour",style:{top:`${d*60}px`},children:a.map(m=>r.jsx("div",{className:"week-view-grid-cell"},me(m)))}),d<23&&r.jsx("div",{className:"week-view-grid-row-half",style:{top:`${d*60+30}px`},children:a.map(m=>r.jsx("div",{className:"week-view-grid-cell-half"},me(m)))})]},d)),r.jsx("div",{className:"week-view-grid-row-hour",style:{top:"1440px"},children:a.map(d=>r.jsx("div",{className:"week-view-grid-cell"},me(d)))})]}),r.jsx("div",{className:"week-view-events",children:a.map((d,m)=>{const y=me(d),j=c[y]||[],g=Lf(j),k=100/7*m,v=new Map;return g.forEach((p,x)=>{if(p.length===0)return;let w=1/0,C=-1/0;if(p.forEach(E=>{if(!E.startTime||!E.endTime)return;const _=typeof E.startTime=="string"?new Date(E.startTime):E.startTime,B=typeof E.endTime=="string"?new Date(E.endTime):E.endTime,L=or(_),K=ar(_,B),G=L+K;w=Math.min(w,L),C=Math.max(C,G)}),w===1/0)return;let D=0;for(let E=0;E<x;E++){const _=g[E];if(_.length===0)continue;let B=1/0,L=-1/0;if(_.forEach(V=>{if(!V.startTime||!V.endTime)return;const ae=typeof V.startTime=="string"?new Date(V.startTime):V.startTime,T=typeof V.endTime=="string"?new Date(V.endTime):V.endTime,P=or(ae),X=ar(ae,T),M=P+X;B=Math.min(B,P),L=Math.max(L,M)}),B===1/0)continue;const K=v.get(E)||0,G=L+K;w<L&&C>B&&w<G&&(D=Math.max(D,G-w))}D>0&&v.set(x,D)}),r.jsx("div",{className:"week-view-day-column",style:{left:`${k}%`,width:`${100/7}%`},children:g.map((p,x)=>{const E=(100-.5*(p.length-1))/p.length,_=v.get(x)||0;return p.map((B,L)=>{if(!B.startTime||!B.endTime)return null;const K=typeof B.startTime=="string"?new Date(B.startTime):B.startTime,G=typeof B.endTime=="string"?new Date(B.endTime):B.endTime;if(isNaN(K.getTime())||isNaN(G.getTime()))return null;const V=or(K)+_,ae=ar(K,G),T=L*(E+.5),P=B.color||"#4285F4",X=!!B.routineId;return r.jsx("div",{className:`week-view-event ${X?"week-view-event-routine":""}`,style:{top:`${V}px`,left:`${T}%`,width:`${E}%`,height:`${ae}px`,borderLeftColor:P,backgroundColor:P+"20"},onClick:()=>n==null?void 0:n(B),children:r.jsxs("div",{className:"week-view-event-content",children:[r.jsxs("div",{className:"week-view-event-title",children:[X&&r.jsx("span",{className:"week-view-event-routine-icon",children:" "}),B.title]}),r.jsx("div",{className:"week-view-event-time",children:An(K)})]})},B.id)}).filter(Boolean)})},y)})})]})]})})}const p0=["","","","","","",""];function x0({viewDate:e,selectedDate:t,events:n,onSelectDate:s}){const l=e.getFullYear(),o=e.getMonth(),a=f.useMemo(()=>r0(l,o),[l,o]),i=f.useMemo(()=>{const c={};return a.forEach(u=>{const h=me(u),d=If(n,u);d.length>0&&(c[h]=d)}),c},[n,a]);return r.jsxs("div",{className:"month-view",children:[r.jsx("div",{className:"month-view-weekdays",children:p0.map(c=>r.jsx("div",{className:"month-view-weekday",children:c},c))}),r.jsx("div",{className:"month-view-grid",children:a.map((c,u)=>{const h=me(c),d=l0(c,o,l),m=me(t)===h,y=Sl(c),j=i[h]||[],g=j.length,k=3;return r.jsxs("button",{className:`month-view-day ${d?"":"other-month"} ${m?"selected":""} ${y?"today":""}`,onClick:()=>s(c),children:[r.jsx("span",{className:"month-view-day-num",children:c.getDate()}),r.jsxs("div",{className:"month-view-day-events",children:[j.slice(0,k).map(v=>{const p=v.color||"#4285F4",x=!!v.routineId;let w="";if(v.startTime){const C=typeof v.startTime=="string"?new Date(v.startTime):v.startTime;if(!isNaN(C.getTime())){const D=C.getHours().toString().padStart(2,"0"),E=C.getMinutes().toString().padStart(2,"0");w=`${D}:${E} `}}else v.time&&(w=`${v.time} `);return r.jsx("div",{className:`month-view-event-bar ${x?"month-view-event-routine":""}`,style:{backgroundColor:p+"20",borderLeftColor:p},title:v.title,children:r.jsxs("span",{className:"month-view-event-title",children:[x&&r.jsx("span",{className:"month-view-event-routine-icon",children:" "}),w&&r.jsx("span",{className:"month-view-event-time",children:w}),v.title]})},v.id)}),g>k&&r.jsxs("div",{className:"month-view-event-more",children:["+",g-k]}),g===0&&d&&r.jsx("div",{className:"month-view-event-empty"})]})]},u)})})]})}function v0(){var O;const e=Et(),t=jn(),{state:n,dispatch:s}=Dt(),l=(O=t.state)!=null&&O.selectedDate?new Date(t.state.selectedDate):new Date,[o,a]=f.useState(l),[i,c]=f.useState(l),[u,h]=f.useState("day"),[d,m]=f.useState(!1),[y,j]=f.useState(null),[g,k]=f.useState(null),v=f.useRef(null),[p,x]=f.useState(!1),w=f.useRef(null),C=f.useRef(null),D=f.useRef(null),E=f.useRef(null),[_,B]=f.useState(!1),[L,K]=f.useState(!1),G=f.useRef(null),V=50;f.useEffect(()=>{var R;if((R=t.state)!=null&&R.selectedDate){const A=new Date(t.state.selectedDate);c(A),a(A)}},[t.state]),f.useEffect(()=>{if(g!=null&&g.routineId&&g.startTime){const R=typeof g.startTime=="string"?new Date(g.startTime):g.startTime,A=me(R),Q=n.routines.find(te=>te.id===g.routineId);if(Q){const te=Q.completed[A]||!1;g.completed!==te&&k(re=>re?{...re,completed:te}:null)}}},[n.routines]);const[ae,T]=f.useState(null),P=f.useCallback(R=>{_||(T(R),B(!0),requestAnimationFrame(()=>{if(R==="prev"){if(u==="day")a(A=>rt(A,-1)),c(A=>rt(A,-1));else if(u==="week")a(A=>rt(A,-7)),c(A=>rt(A,-7));else if(u==="month"){const A=new Date(o);A.setMonth(A.getMonth()-1),a(A)}}else if(u==="day")a(A=>rt(A,1)),c(A=>rt(A,1));else if(u==="week")a(A=>rt(A,7)),c(A=>rt(A,7));else if(u==="month"){const A=new Date(o);A.setMonth(A.getMonth()+1),a(A)}setTimeout(()=>{B(!1),T(null)},350)}))},[u,o,_]),X=R=>{w.current=R.touches[0].clientX,D.current=R.touches[0].clientY,C.current=null,E.current=null,K(!1)},M=R=>{if(w.current!==null&&D.current!==null){const A=R.touches[0].clientX,Q=R.touches[0].clientY;C.current=A,E.current=Q;const te=Math.abs(A-w.current),re=Math.abs(Q-D.current);te>8&&te>re?(L||K(!0),R.cancelable&&R.preventDefault()):L&&re>te*1.5&&K(!1)}},U=f.useCallback(R=>{if(w.current===null||D.current===null){w.current=null,D.current=null,C.current=null,E.current=null,K(!1);return}const A=C.current??w.current,Q=E.current??D.current,te=A-w.current,re=Q-D.current;Math.abs(te)>Math.abs(re)&&Math.abs(te)>V&&(R.cancelable&&R.preventDefault(),te>0?P("prev"):P("next")),w.current=null,C.current=null,D.current=null,E.current=null,K(!1)},[P,L]),Y=()=>{const R=new Date;a(R),c(R)},oe=R=>{k(R)},ue=()=>{g&&(j(g),k(null),m(!0))},xe=()=>{g&&confirm(" ?")&&(s({type:"DELETE_EVENT",payload:g.id}),k(null))},fe=()=>{if(g)if(g.routineId&&g.startTime){const R=typeof g.startTime=="string"?new Date(g.startTime):g.startTime,A=me(R),Q=n.routines.find(z=>z.id===g.routineId),te=(Q==null?void 0:Q.completed[A])||!1;s({type:"TOGGLE_ROUTINE",payload:{id:g.routineId,date:A}});const re={...g,completed:!te};k(re)}else{s({type:"TOGGLE_EVENT",payload:g.id});const R={...g,completed:!g.completed};k(R)}},I=R=>{c(R),a(R),u!=="day"&&h("day")},ee=R=>{s(y?{type:"UPDATE_EVENT",payload:R}:{type:"ADD_EVENT",payload:R}),m(!1),j(null)},le=()=>{if(u==="day")return`${Pf(i)}, ${i.getDate()} ${_r(i.getMonth()).toLowerCase()}`;if(u==="week"){const R=Gr(i),A=R[0],Q=R[6];return A.getMonth()===Q.getMonth()?`${A.getDate()}${Q.getDate()} ${_r(A.getMonth()).toLowerCase()}`:`${A.getDate()} ${_r(A.getMonth()).toLowerCase()}  ${Q.getDate()} ${_r(Q.getMonth()).toLowerCase()}`}else return`${_r(o.getMonth())} ${o.getFullYear()}`},ie=me(i),ce=f.useMemo(()=>{const R=n.events.filter(re=>!re.routineId);let A,Q;if(u==="day")A=new Date(i),Q=new Date(i);else if(u==="week"){const re=Gr(i);A=re[0],Q=re[re.length-1]}else A=new Date(o.getFullYear(),o.getMonth(),1),Q=new Date(o.getFullYear(),o.getMonth()+1,0);A.setHours(0,0,0,0),Q.setHours(23,59,59,999);const te=[];for(const re of n.routines){const z=f0(re,A,Q,[]);te.push(...z)}return[...R,...te]},[n.events,n.routines,u,i,o]);return r.jsxs(Yt,{title:le(),headerRight:r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-header-btn",onClick:Y,title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})})]}),children:[r.jsxs("div",{className:"calendar-page",onTouchStart:X,onTouchMove:M,onTouchEnd:U,children:[r.jsxs("div",{className:"calendar-mode-selector",children:[r.jsx("button",{className:`calendar-mode-btn ${u==="day"?"active":""}`,onClick:()=>h("day"),children:""}),r.jsx("button",{className:`calendar-mode-btn ${u==="week"?"active":""}`,onClick:()=>h("week"),children:""}),r.jsx("button",{className:`calendar-mode-btn ${u==="month"?"active":""}`,onClick:()=>h("month"),children:""})]}),u==="week"&&(()=>{const R=Gr(i),A=new Date,Q=["","","","","","",""];return r.jsx("div",{className:"calendar-week-header",children:r.jsx("div",{className:"calendar-week-header-days",children:R.map((te,re)=>{const z=Ln(te,A),W=Q[re];return r.jsxs("div",{className:`calendar-week-header-day ${z?"current":""}`,onClick:()=>I(te),children:[r.jsx("span",{className:"calendar-week-header-day-label",children:W}),r.jsx("span",{className:`calendar-week-header-day-number ${z?"current":""}`,children:te.getDate()})]},me(te))})})})})(),r.jsxs("div",{className:`calendar-content ${_?ae==="next"?"transitioning-next":"transitioning":""} ${L?"swiping":""}`,ref:G,style:L?{overflowY:"hidden",touchAction:"none"}:void 0,children:[u==="day"&&r.jsx(m0,{date:i,events:ce,onEventClick:oe}),u==="week"&&r.jsx(h0,{date:i,events:ce,onEventClick:oe}),u==="month"&&r.jsx(x0,{viewDate:o,selectedDate:i,events:ce,onSelectDate:I})]}),r.jsx("button",{className:"calendar-add-btn",onClick:()=>{j(null),m(!0)},title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),g&&r.jsx(Bf,{event:g,onClose:()=>k(null),onEdit:ue,onDelete:xe,onToggle:fe}),r.jsx(Ne,{isOpen:d,onClose:()=>{m(!1),j(null),x(!1)},onRequestClose:()=>{var R;if((R=v.current)!=null&&R.hasChanges){x(!0);return}m(!1),j(null)},hasChanges:p,onSave:()=>{v.current&&v.current.save()},confirmMessage:"",title:y?" ":" ",children:r.jsx(Rf,{ref:v,event:y,defaultDate:ie,onChangesChange:x,onSave:R=>{ee(R),m(!1),j(null),x(!1)},onCancel:()=>{m(!1),j(null),x(!1)}})})]})}const g0="/SDVIG-TEST2/assets/money-card-CfWQM0xH.png",y0="/SDVIG-TEST2/assets/money-cash-BdY2lc3_.png",j0="/SDVIG-TEST2/assets/paypal-card-E9WFKGIM.png",w0="/SDVIG-TEST2/assets/visa-card-CJvN6pph.png",k0="/SDVIG-TEST2/assets/mastercard-card-1JAPFojR.png",N0="/SDVIG-TEST2/assets/t-bank-vmVCoORc.png",S0="/SDVIG-TEST2/assets/sberbank-DZTh3LYd.png",C0="/SDVIG-TEST2/assets/gazprombank-CKeUmITS.png",T0="/SDVIG-TEST2/assets/rosselhozbank-BYNH4v38.png",E0="/SDVIG-TEST2/assets/vtb-DVvHNMYG.png",D0=({icon:e,color:t="currentColor",size:n=24})=>{if(e==="card")return r.jsx("img",{src:g0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}});if(e==="cash")return r.jsx("img",{src:y0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}});const s={bank:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M3 21h18"}),r.jsx("path",{d:"M3 10h18"}),r.jsx("path",{d:"M5 6l7-3 7 3"}),r.jsx("path",{d:"M4 10v11"}),r.jsx("path",{d:"M20 10v11"}),r.jsx("path",{d:"M8 10v11"}),r.jsx("path",{d:"M12 10v11"}),r.jsx("path",{d:"M16 10v11"})]}),safe:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"4"}),r.jsx("path",{d:"M12 8v8"}),r.jsx("path",{d:"M8 12h8"})]}),crypto:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:r.jsx("path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727"})}),sber:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#21A038"}),r.jsx("path",{d:"M12 6v12M8 9h8M8 15h8",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"})]}),tinkoff:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3"}),r.jsx("path",{d:"M8 12h8"}),r.jsx("path",{d:"M12 8v8"})]}),home:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),wallet:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),r.jsx("path",{d:"M2 11h20"}),r.jsx("circle",{cx:"16",cy:"15",r:"1"})]}),treasure:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"}),r.jsx("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:t,fillOpacity:"0.2"}),r.jsx("path",{d:"M12 9v6M9 12h6"}),r.jsx("path",{d:"M4 10h16M4 14h16"})]}),"money-bag":r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M9 7c0-1.1.9-2 2-2h2c1.1 0 2 .9 2 2v1h-6V7z",fill:t,fillOpacity:"0.1"}),r.jsx("path",{d:"M7 9h10c2 0 3 1 3 3v5c0 2-1 3-3 3H7c-2 0-3-1-3-3v-5c0-2 1-3 3-3z"}),r.jsx("path",{d:"M9 7v2M15 7v2"}),r.jsx("path",{d:"M8 12h8M8 15h6"}),r.jsx("circle",{cx:"12",cy:"13.5",r:"1",fill:t,fillOpacity:"0.3"})]}),diamond:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M6 3h12l4 6-10 12L2 9l4-6z"}),r.jsx("path",{d:"M11 3l1 9 1-9"}),r.jsx("path",{d:"M5 9h14"})]}),gift:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"8",width:"18",height:"12",rx:"1"}),r.jsx("path",{d:"M12 8v12"}),r.jsx("path",{d:"M12 8H7a2 2 0 00-2 2v0a2 2 0 002 2h5"}),r.jsx("path",{d:"M12 8h5a2 2 0 012 2v0a2 2 0 01-2 2h-5"}),r.jsx("path",{d:"M7 4a2 2 0 00-2 2v2h5V6a2 2 0 00-2-2z"}),r.jsx("path",{d:"M17 4a2 2 0 012 2v2h-5V6a2 2 0 012-2z"})]}),briefcase:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),r.jsx("path",{d:"M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"}),r.jsx("path",{d:"M8 7h8"}),r.jsx("path",{d:"M8 11h8"})]}),coin:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:t,fillOpacity:"0.1"}),r.jsx("circle",{cx:"12",cy:"12",r:"7",fill:"none"}),r.jsx("path",{d:"M12 5v14M5 12h14",strokeWidth:"1.5"}),r.jsx("circle",{cx:"12",cy:"12",r:"2",fill:t,fillOpacity:"0.3"})]}),bills:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),r.jsx("path",{d:"M6 10h12"}),r.jsx("path",{d:"M6 14h8"}),r.jsx("circle",{cx:"18",cy:"10",r:"1"})]}),vault:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M12 9v6"}),r.jsx("path",{d:"M9 12h6"}),r.jsx("path",{d:"M3 8h18"}),r.jsx("path",{d:"M3 16h18"})]}),investment:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("polyline",{points:"3 14 7 10 11 14 15 10 19 14 21 12"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("circle",{cx:"7",cy:"10",r:"1"}),r.jsx("circle",{cx:"11",cy:"14",r:"1"}),r.jsx("circle",{cx:"15",cy:"10",r:"1"}),r.jsx("circle",{cx:"19",cy:"14",r:"1"})]}),savings:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",children:[r.jsx("path",{d:"M12 2v20"}),r.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"}),r.jsx("circle",{cx:"12",cy:"8",r:"1.5"}),r.jsx("circle",{cx:"12",cy:"16",r:"1.5"})]}),paypal:r.jsx("img",{src:j0,alt:"PayPal",className:"wallet-icon-img",style:{width:n,height:n}}),visa:r.jsx("img",{src:w0,alt:"Visa",className:"wallet-icon-img",style:{width:n,height:n}}),mastercard:r.jsx("img",{src:k0,alt:"Mastercard",className:"wallet-icon-img",style:{width:n,height:n}}),"t-bank":r.jsx("img",{src:N0,alt:"-",className:"wallet-icon-img",style:{width:n,height:n}}),sberbank:r.jsx("img",{src:S0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),gazprombank:r.jsx("img",{src:C0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),rosselhozbank:r.jsx("img",{src:T0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}}),vtb:r.jsx("img",{src:E0,alt:"",className:"wallet-icon-img",style:{width:n,height:n}})};return r.jsx("div",{className:"wallet-icon-svg",children:s[e]})},mt=D0,M0=f.forwardRef(({wallet:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.name)||""),[i,c]=f.useState((e==null?void 0:e.icon)||"card"),[u,h]=f.useState((e==null?void 0:e.color)||"#3B82F6"),[d,m]=f.useState((e==null?void 0:e.currency)||"RUB"),[y,j]=f.useState(!1),g=f.useRef(null),k=f.useMemo(()=>e?{name:e.name,icon:e.icon,color:e.color,currency:e.currency}:{name:"",icon:"card",color:"#3B82F6",currency:"RUB"},[e]),{hasChanges:v}=kr(k,()=>({name:o,icon:i,color:u,currency:d}));f.useEffect(()=>{s&&s(v)},[v,s]),f.useEffect(()=>{const w=C=>{g.current&&!g.current.contains(C.target)&&j(!1)};return y&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[y]);const p=()=>{o.trim()&&t({id:(e==null?void 0:e.id)||Te(),name:o.trim(),icon:i,color:u,currency:d,balance:(e==null?void 0:e.balance)||0})};f.useImperativeHandle(l,()=>({hasChanges:v,save:p}),[v,o,i,u,d]);const x=w=>{w.preventDefault(),p()};return r.jsxs("form",{className:"wallet-form",onSubmit:x,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:w=>a(w.target.value),placeholder:": , ...",required:!0,autoFocus:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"icon-selector",children:Sx.map(w=>r.jsx("button",{type:"button",className:`icon-btn ${i===w.value?"active":""}`,onClick:()=>c(w.value),title:w.label,style:{color:i===w.value?u:void 0},children:r.jsx(mt,{icon:w.value,color:i===w.value?u:"currentColor"})},w.value))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"color-selector",children:kx.map(w=>r.jsx("button",{type:"button",className:`color-btn ${u===w?"active":""}`,onClick:()=>h(w),style:{backgroundColor:w},children:u===w&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})},w))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-currency-select",ref:g,children:[r.jsxs("button",{type:"button",className:`custom-currency-trigger ${y?"open":""}`,onClick:()=>j(!y),children:[r.jsx("span",{className:"currency-symbol",children:ft[d]}),r.jsx("span",{className:"currency-code",children:d}),r.jsx("span",{className:"currency-name",children:Bc[d]}),r.jsx("svg",{className:"currency-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),y&&r.jsx("div",{className:"custom-currency-dropdown",children:wx.map(w=>r.jsxs("button",{type:"button",className:`custom-currency-option ${w===d?"active":""}`,onClick:()=>{m(w),j(!1)},children:[r.jsx("span",{className:"currency-symbol",children:ft[w]}),r.jsx("span",{className:"currency-code",children:w}),r.jsx("span",{className:"currency-name",children:Bc[w]}),w===d&&r.jsx("svg",{className:"currency-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},w))})]})]}),r.jsx("div",{className:"wallet-preview",children:r.jsxs("div",{className:"wallet-preview-card",style:{borderColor:u},children:[r.jsx("div",{className:"wallet-preview-icon",style:{backgroundColor:u+"20",color:u},children:r.jsx(mt,{icon:i,color:u})}),r.jsxs("div",{className:"wallet-preview-info",children:[r.jsx("span",{className:"wallet-preview-name",children:o||""}),r.jsxs("span",{className:"wallet-preview-currency",children:[ft[d]," ",d]})]})]})}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})}),b0=f.forwardRef(({wallets:e,categories:t,onSave:n,onCancel:s,onAddCategory:l,isOpen:o=!0,initialTab:a="expense",onChangesChange:i},c)=>{var z,W,S;const[u,h]=f.useState(a),[d,m]=f.useState(""),[y,j]=f.useState(((z=e[0])==null?void 0:z.id)||""),[g,k]=f.useState(t[0]||""),[v,p]=f.useState(""),[x,w]=f.useState(!1),[C,D]=f.useState(Pt()),[E,_]=f.useState(""),[B,L]=f.useState(((W=e[1])==null?void 0:W.id)||((S=e[0])==null?void 0:S.id)||""),[K,G]=f.useState(""),V=f.useRef(null);f.useEffect(()=>{var N,H,J;o?V.current||(m(""),j(((N=e[0])==null?void 0:N.id)||""),k(t[0]||""),p(""),D(Pt()),_(""),L(((H=e[1])==null?void 0:H.id)||((J=e[0])==null?void 0:J.id)||""),G(""),h(a),w(!1),setTimeout(()=>{var F,ne,se;V.current={activeTab:a,amount:"",walletId:((F=e[0])==null?void 0:F.id)||"",category:t[0]||"",newCategory:"",date:Pt(),comment:"",toWalletId:((ne=e[1])==null?void 0:ne.id)||((se=e[0])==null?void 0:se.id)||"",exchangeRate:""}},0)):V.current=null},[o,a,e,t]);const ae={activeTab:u,amount:d,walletId:y,category:x?v:g,newCategory:v,date:C,comment:E,toWalletId:B,exchangeRate:K},T=V.current?JSON.stringify(V.current)!==JSON.stringify(ae):!1;f.useEffect(()=>{i&&i(T)},[T,i]);const[P,X]=f.useState(!1),[M,U]=f.useState(!1),[Y,oe]=f.useState(!1),ue=f.useRef(null),xe=f.useRef(null),fe=f.useRef(null),I=f.useRef(null),[ee,le]=f.useState(!0),ie=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,ce=e.find(N=>N.id===y),O=e.find(N=>N.id===B),R=(ce==null?void 0:ce.currency)===(O==null?void 0:O.currency);f.useEffect(()=>{if(!o){le(!0);return}const H=setTimeout(()=>{const J=ue.current;J&&(ie?(le(!0),setTimeout(()=>{le(!1),requestAnimationFrame(()=>{J.focus(),J.setSelectionRange&&setTimeout(()=>J.setSelectionRange(0,0),10)})},100)):(le(!1),setTimeout(()=>J.focus(),150)))},ie?300:150);return()=>clearTimeout(H)},[o,ie]),f.useEffect(()=>{if(y===B&&e.length>1){const N=e.find(H=>H.id!==y);N&&L(N.id)}},[y,B,e]),f.useEffect(()=>{o&&h(a)},[a,o]);const A=()=>{const N=y;j(B),L(N)};f.useEffect(()=>{const N=H=>{xe.current&&!xe.current.contains(H.target)&&X(!1),fe.current&&!fe.current.contains(H.target)&&U(!1),I.current&&!I.current.contains(H.target)&&oe(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const Q=f.useCallback(()=>{const N=parseFloat(d);if(!(!N||!y)){if(u==="transfer"){if(!B||B===y)return;const H=parseFloat(K),J=R?N:N*H;if(!R&&!H)return;const F=new Date,ne=`${String(F.getHours()).padStart(2,"0")}:${String(F.getMinutes()).padStart(2,"0")}`,se={id:Te(),type:"transfer",amount:N,date:C,walletId:y,toWalletId:B,toAmount:J,category:"",comment:E.trim()||void 0,createdAt:F.toISOString(),time:ne};n(se)}else{const H=x?v.trim():g;if(!H)return;x&&v.trim()&&l(v.trim());const J=new Date,F=`${String(J.getHours()).padStart(2,"0")}:${String(J.getMinutes()).padStart(2,"0")}`,ne={id:Te(),type:u,amount:N,date:C,walletId:y,category:H,comment:E.trim()||void 0,createdAt:J.toISOString(),time:F};n(ne)}V.current=null}},[d,y,u,B,K,R,C,E,x,v,g,n,l]);f.useImperativeHandle(c,()=>({hasChanges:T,save:Q}),[T,Q]);const te=N=>{N.preventDefault(),Q()},re=N=>{const H=e.find(J=>J.id===N);return H?ft[H.currency]:""};return r.jsxs("form",{className:"transaction-form",onSubmit:te,children:[r.jsxs("div",{className:"transaction-tabs",children:[r.jsx("div",{className:`transaction-tabs-indicator ${u}`}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="expense"?"active expense":""}`,onClick:()=>h("expense"),children:""}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="income"?"active income":""}`,onClick:()=>h("income"),children:""}),r.jsx("button",{type:"button",className:`transaction-tab ${u==="transfer"?"active transfer":""}`,onClick:()=>h("transfer"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:u==="transfer"?" ":""}),r.jsxs("div",{className:"amount-input",children:[r.jsx("input",{ref:ue,type:"number",inputMode:"decimal",value:d,onChange:N=>m(N.target.value),onTouchStart:N=>{ie&&ee&&(le(!1),setTimeout(()=>N.currentTarget.focus(),10))},onClick:N=>{ie&&ee&&(le(!1),setTimeout(()=>N.currentTarget.focus(),10))},readOnly:ie&&ee,placeholder:"0",min:"0",step:"0.01",required:!0}),r.jsx("span",{className:"amount-currency",children:re(y)})]})]}),u!=="transfer"&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select",ref:xe,children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>X(!P),children:[ce&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon",style:{backgroundColor:ce.color+"20"},children:r.jsx(mt,{icon:ce.icon,color:ce.color})}),r.jsx("span",{className:"wallet-select-name",children:ce.name}),r.jsx("span",{className:"wallet-select-currency",children:ft[ce.currency]})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),P&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(N=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${N.id===y?"active":""}`,onClick:()=>{j(N.id),X(!1)},children:[r.jsx("div",{className:"wallet-select-icon",style:{backgroundColor:N.color+"20"},children:r.jsx(mt,{icon:N.icon,color:N.color})}),r.jsx("span",{className:"wallet-select-name",children:N.name}),r.jsx("span",{className:"wallet-select-currency",children:ft[N.currency]}),N.id===y&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},N.id))})]})]}),u==="transfer"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"transfer-wallets-row",children:[r.jsxs("div",{className:"transfer-wallet-field",ref:fe,children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select compact",children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>{U(!M),oe(!1)},children:[ce&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:ce.color+"20"},children:r.jsx(mt,{icon:ce.icon,color:ce.color})}),r.jsx("span",{className:"wallet-select-name",children:ce.name})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),M&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(N=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${N.id===y?"active":""}`,onClick:()=>{j(N.id),U(!1)},children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:N.color+"20"},children:r.jsx(mt,{icon:N.icon,color:N.color})}),r.jsx("span",{className:"wallet-select-name",children:N.name}),r.jsx("span",{className:"wallet-select-currency",children:ft[N.currency]}),N.id===y&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},N.id))})]})]}),r.jsx("button",{type:"button",className:"swap-wallets-btn",onClick:A,title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M7 16l-4-4m0 0l4-4m-4 4h18"}),r.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})]})}),r.jsxs("div",{className:"transfer-wallet-field",ref:I,children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"custom-wallet-select compact",children:[r.jsxs("button",{type:"button",className:"custom-wallet-trigger",onClick:()=>{oe(!Y),U(!1)},children:[O&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:O.color+"20"},children:r.jsx(mt,{icon:O.icon,color:O.color})}),r.jsx("span",{className:"wallet-select-name",children:O.name})]}),r.jsx("svg",{className:"wallet-select-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),Y&&r.jsx("div",{className:"custom-wallet-dropdown",children:e.map(N=>r.jsxs("button",{type:"button",className:`custom-wallet-option ${N.id===B?"active":""}`,onClick:()=>{L(N.id),oe(!1)},children:[r.jsx("div",{className:"wallet-select-icon small",style:{backgroundColor:N.color+"20"},children:r.jsx(mt,{icon:N.icon,color:N.color})}),r.jsx("span",{className:"wallet-select-name",children:N.name}),r.jsx("span",{className:"wallet-select-currency",children:ft[N.currency]}),N.id===B&&r.jsx("svg",{className:"wallet-option-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},N.id))})]})]})]}),y===B&&r.jsx("div",{className:"transfer-warning",children:"  "}),!R&&y!==B&&r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{className:"form-label",children:[" (1 ",ce==null?void 0:ce.currency," = ? ",O==null?void 0:O.currency,")"]}),r.jsx("div",{className:"amount-input",children:r.jsx("input",{type:"number",inputMode:"decimal",value:K,onChange:N=>G(N.target.value),placeholder:"0",min:"0",step:"0.0001",required:!0})}),d&&K&&r.jsxs("div",{className:"exchange-result-info",children:[r.jsx("span",{className:"exchange-result-label",children:" :"}),r.jsxs("span",{className:"exchange-result-value",children:[(parseFloat(d)*parseFloat(K)).toLocaleString("ru-RU",{maximumFractionDigits:2})," ",ft[(O==null?void 0:O.currency)||"RUB"]]})]})]})]}),u!=="transfer"&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),x?r.jsxs("div",{className:"category-select",children:[r.jsx("input",{type:"text",value:v,onChange:N=>p(N.target.value),placeholder:" ",required:!0}),r.jsx("button",{type:"button",className:"add-category-btn",onClick:()=>w(!1),children:""})]}):r.jsxs("div",{className:"category-select",children:[r.jsx("select",{value:g,onChange:N=>k(N.target.value),required:!0,children:t.map(N=>r.jsx("option",{value:N,children:N},N))}),r.jsx("button",{type:"button",className:"add-category-btn",onClick:()=>w(!0),children:"+ "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"date",value:C,onChange:N=>D(N.target.value),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",value:E,onChange:N=>_(N.target.value),placeholder:"..."})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:s,children:""})})]})}),Yc="sdvig_finance_transactions_visible";function _0(){const{state:e,dispatch:t}=Dt(),[n,s]=f.useState(!1),[l,o]=f.useState(!1),[a,i]=f.useState(null),[c,u]=f.useState("expense"),h=f.useRef(null),[d,m]=f.useState(!1),y=f.useRef(null),[j,g]=f.useState(!1),[k,v]=f.useState(()=>{const T=localStorage.getItem(Yc);return T!==null?T==="true":!0});f.useEffect(()=>{localStorage.setItem(Yc,String(k))},[k]);const p=f.useMemo(()=>{const T={};return e.wallets.forEach(P=>{T[P.currency]=(T[P.currency]||0)+P.balance}),T},[e.wallets]),x=f.useMemo(()=>[...e.transactions].sort((T,P)=>{const X=T.createdAt||T.date;return(P.createdAt||P.date).localeCompare(X)}),[e.transactions]),w=f.useMemo(()=>t0(x),[x]),C=f.useMemo(()=>e.transactions.filter(T=>T.type==="expense"&&e0(T.date)).reduce((T,P)=>T+P.amount,0),[e.transactions]),D=f.useMemo(()=>e.transactions.filter(T=>T.type==="expense"&&zc(T.date)).reduce((T,P)=>T+P.amount,0),[e.transactions]),E=f.useMemo(()=>{const T={};return e.transactions.filter(P=>P.type==="expense"&&zc(P.date)).forEach(P=>{T[P.category]=(T[P.category]||0)+P.amount}),Object.entries(T).sort(([,P],[,X])=>X-P).slice(0,3)},[e.transactions]),_=T=>{t({type:"ADD_TRANSACTION",payload:T}),s(!1)},B=T=>{confirm(" ?")&&t({type:"DELETE_TRANSACTION",payload:T})},L=T=>{t(a?{type:"UPDATE_WALLET",payload:T}:{type:"ADD_WALLET",payload:T}),o(!1),i(null)},K=T=>{if(e.wallets.length<=1){alert("   ");return}confirm(" ?      .")&&t({type:"DELETE_WALLET",payload:T})},G=(T,P="RUB")=>{const X=ft[P]||"";return new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:2}).format(T)+" "+X},V=T=>e.wallets.find(P=>P.id===T),ae=T=>{const P=V(T.walletId);if(T.type==="transfer"){const M=V(T.toWalletId||""),U=T.toAmount||T.amount;let Y="";return T.time&&(Y=`${T.time}  ${Y}`),T.comment&&(Y=T.time?`${T.time}  ${T.comment}`:T.comment),{title:`${(P==null?void 0:P.name)||"?"}  ${(M==null?void 0:M.name)||"?"}`,subtitle:Y,amountFrom:G(T.amount,P==null?void 0:P.currency),amountTo:G(U,M==null?void 0:M.currency),color:(P==null?void 0:P.color)||"#6B7280",wallet:P,toWallet:M,isTransfer:!0}}const X=T.time?`${T.time}  ${T.category}`:T.category;return{title:(P==null?void 0:P.name)||" ",subtitle:X,amount:(T.type==="income"?"+":"-")+G(T.amount,P==null?void 0:P.currency),color:(P==null?void 0:P.color)||"#6B7280",wallet:P,isTransfer:!1}};return r.jsxs(Yt,{title:"",children:[r.jsx("div",{className:"wallets-scroll",children:r.jsxs("div",{className:"wallets-container",children:[e.wallets.map(T=>r.jsxs("div",{className:"wallet-card",style:{borderColor:T.color},onClick:()=>{i(T),o(!0)},children:[r.jsx("div",{className:"wallet-card-icon",style:{backgroundColor:T.color+"20",color:T.color},children:r.jsx(mt,{icon:T.icon,color:T.color})}),r.jsxs("div",{className:"wallet-card-info",children:[r.jsx("span",{className:"wallet-card-name",children:T.name}),r.jsx("span",{className:"wallet-card-balance",children:G(T.balance,T.currency)})]})]},T.id)),r.jsxs("button",{className:"wallet-card wallet-add-card",onClick:()=>{i(null),o(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),r.jsx("span",{children:""})]})]})}),r.jsx("div",{className:"total-balances",children:Object.entries(p).map(([T,P])=>r.jsxs("div",{className:"total-balance-item",children:[r.jsxs("span",{className:"total-balance-label",children:[" ",T]}),r.jsx("span",{className:"total-balance-value",children:G(P,T)})]},T))}),r.jsxs("div",{className:"analytics-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"analytics-cards",children:[r.jsxs("div",{className:"analytics-card",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("span",{className:"analytics-value",children:G(C)})]}),r.jsxs("div",{className:"analytics-card",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("span",{className:"analytics-value",children:G(D)})]})]}),E.length>0&&r.jsxs("div",{className:"top-categories",children:[r.jsx("span",{className:"analytics-label",children:" "}),r.jsx("div",{className:"category-list",children:E.map(([T,P])=>r.jsxs("div",{className:"category-item",children:[r.jsx("span",{children:T}),r.jsx("span",{children:G(P)})]},T))})]})]}),r.jsxs("button",{className:"add-transaction-btn btn btn-primary filled",onClick:()=>{u("expense"),s(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),r.jsxs("button",{className:"transfer-btn btn",onClick:()=>{u("transfer"),s(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M7 16l-4-4m0 0l4-4m-4 4h18"}),r.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})]}),""]}),r.jsx("div",{className:"transactions-section",children:x.length===0?r.jsxs(r.Fragment,{children:[r.jsx("h3",{children:" "}),r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),r.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})})]}):r.jsxs("div",{className:"archive-section",children:[r.jsxs("button",{className:"archive-toggle",onClick:()=>v(!k),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`archive-icon ${k?"open":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),r.jsx("span",{children:" "}),r.jsx("span",{className:"archive-count",children:x.length})]}),k&&r.jsx("div",{className:"transactions-list",children:Object.entries(w).sort(([T],[P])=>P.localeCompare(T)).map(([T,P])=>r.jsxs("div",{className:"transactions-group",children:[r.jsx("div",{className:"transactions-date",children:n0(T)}),P.map(X=>{const M=ae(X);return r.jsxs("div",{className:"transaction-item",children:[r.jsx("div",{className:"transaction-color-indicator",style:{backgroundColor:M.color}}),r.jsxs("div",{className:"transaction-info",children:[M.isTransfer?r.jsxs("div",{className:"transaction-title-row transfer-row",children:[r.jsx("div",{className:"transfer-from-part",children:M.wallet&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:M.wallet.color+"20",color:M.wallet.color},children:r.jsx(mt,{icon:M.wallet.icon,color:M.wallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:M.wallet.name||"?"})]})}),r.jsx("span",{className:"transfer-arrow",children:""}),r.jsx("div",{className:"transfer-to-part",children:M.toWallet&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:M.toWallet.color+"20",color:M.toWallet.color},children:r.jsx(mt,{icon:M.toWallet.icon,color:M.toWallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:M.toWallet.name||"?"})]})})]}):r.jsxs("div",{className:"transaction-title-row",children:[M.wallet&&r.jsx("div",{className:"transaction-wallet-icon",style:{backgroundColor:M.wallet.color+"20",color:M.wallet.color},children:r.jsx(mt,{icon:M.wallet.icon,color:M.wallet.color,size:14})}),r.jsx("span",{className:"transaction-category",children:M.title})]}),r.jsx("span",{className:"transaction-wallet",children:M.subtitle})]}),r.jsxs("div",{className:"transaction-right",children:[M.isTransfer?r.jsxs("div",{className:"transfer-amounts",children:[r.jsxs("span",{className:"transaction-amount transfer-from",children:["-",M.amountFrom]}),r.jsxs("span",{className:"transaction-amount transfer-to",children:["+",M.amountTo]})]}):r.jsx("span",{className:`transaction-amount ${X.type}`,children:M.amount}),r.jsx("button",{className:"transaction-delete",onClick:()=>B(X.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]},X.id)})]},T))})]})}),r.jsx(Ne,{isOpen:n,onClose:()=>{s(!1),g(!1)},onRequestClose:()=>{var T;if((T=y.current)!=null&&T.hasChanges){g(!0);return}s(!1)},hasChanges:j,onSave:()=>{y.current&&y.current.save()},confirmMessage:"",title:" ",size:"lg",children:r.jsx(b0,{ref:y,wallets:e.wallets,categories:e.categories,onChangesChange:g,onSave:T=>{_(T),setTimeout(()=>{s(!1),g(!1)},0)},onCancel:()=>{s(!1),g(!1)},onAddCategory:T=>t({type:"ADD_CATEGORY",payload:T}),isOpen:n,initialTab:c})}),r.jsxs(Ne,{isOpen:l,onClose:()=>{o(!1),i(null),m(!1)},onRequestClose:()=>{var T;if((T=h.current)!=null&&T.hasChanges){m(!0);return}o(!1),i(null)},hasChanges:d,onSave:()=>{h.current&&h.current.save()},confirmMessage:"",title:a?" ":" ",size:"lg",children:[r.jsx(M0,{ref:h,wallet:a,onChangesChange:m,onSave:T=>{L(T),o(!1),i(null),m(!1)},onCancel:()=>{o(!1),i(null),m(!1)}}),a&&r.jsx("div",{className:"wallet-form-delete",children:r.jsx("button",{className:"btn btn-danger",onClick:()=>{K(a.id),o(!1),i(null)},children:" "})})]})]})}const P0=[{value:null,label:" "},{value:5,label:"5 "},{value:15,label:"15 "},{value:30,label:"30 "},{value:60,label:"1 "}],Ff=f.forwardRef(({task:e,onSave:t,onCancel:n,onChangesChange:s},l)=>{const[o,a]=f.useState((e==null?void 0:e.title)||""),[i,c]=f.useState((e==null?void 0:e.date)||""),[u,h]=f.useState((e==null?void 0:e.priority)||"normal"),[d,m]=f.useState((e==null?void 0:e.timeEstimate)||null),y=f.useMemo(()=>e?{title:e.title,date:e.date||"",priority:e.priority||"normal",timeEstimate:e.timeEstimate||null}:{title:"",date:"",priority:"normal",timeEstimate:null},[e]),{hasChanges:j}=kr(y,()=>({title:o,date:i,priority:u,timeEstimate:d}));f.useEffect(()=>{s&&s(j)},[j,s]);const g=()=>{o.trim()&&t({id:(e==null?void 0:e.id)||Te(),title:o.trim(),completed:(e==null?void 0:e.completed)||!1,date:i||void 0,priority:u,timeEstimate:d||void 0,parentId:e==null?void 0:e.parentId,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString()})};f.useImperativeHandle(l,()=>({hasChanges:j,save:g}),[j,o,i,u,d]);const k=v=>{v.preventDefault(),g()};return r.jsxs("form",{className:"form",onSubmit:k,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:o,onChange:v=>a(v.target.value),placeholder:"  ?",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"date",value:i,onChange:v=>c(v.target.value),min:Pt()}),r.jsx("p",{className:"form-hint",children:'   "-"'})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsxs("div",{className:"priority-toggle",children:[r.jsx("button",{type:"button",className:`priority-btn ${u==="normal"?"active":""}`,onClick:()=>h("normal"),children:""}),r.jsx("button",{type:"button",className:`priority-btn important ${u==="important"?"active":""}`,onClick:()=>h("important"),children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("div",{className:"time-estimates",children:P0.map(v=>r.jsx("button",{type:"button",className:`time-btn ${d===v.value?"active":""}`,onClick:()=>m(v.value),children:v.label},v.value||"none"))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""})})]})});function R0({task:e,existingSubtasks:t=[],onSave:n,onClose:s}){const[l,o]=f.useState([]);f.useEffect(()=>{t.length>0?o(t.map(h=>h.title)):o([""])},[t]);const a=(h,d)=>{const m=[...l];m[h]=d,o(m)},i=()=>{o([...l,""])},c=h=>{const d=l.filter((m,y)=>y!==h);if(d.length===1&&!d[0].trim()){n(e,[]),s();return}if(d.length===0){n(e,[]),s();return}o(d)},u=h=>{h.preventDefault();const d=l.filter(m=>m.trim());if(d.length===0){n(e,[]),s();return}n(e,d)};return r.jsx(Ne,{isOpen:!0,onClose:s,title:" ",children:r.jsxs("div",{className:"breakdown-content",children:[r.jsxs("div",{className:"breakdown-task",children:[r.jsx("span",{className:"breakdown-label",children:":"}),r.jsx("span",{className:"breakdown-title",children:e.title})]}),r.jsx("p",{className:"breakdown-hint",children:"    .     ?"}),r.jsxs("form",{className:"form breakdown-form",onSubmit:u,children:[r.jsx("div",{className:"breakdown-subtasks-list",children:l.map((h,d)=>r.jsxs("div",{className:"form-group subtask-input-group",children:[r.jsx("input",{type:"text",value:h,onChange:m=>a(d,m.target.value),placeholder:` ${d+1}`,autoFocus:d===l.length-1}),r.jsx("button",{type:"button",className:"subtask-remove-btn",onClick:()=>c(d),title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]},d))}),r.jsxs("div",{className:"breakdown-footer",children:[r.jsxs("button",{type:"button",className:"add-subtask-btn",onClick:i,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn",onClick:s,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",disabled:l.length===0,children:t.length>0?" ":" "})]})]})]})]})})}function wa({icon:e,color:t="currentColor",size:n=24}){return{book:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M4 19.5A2.5 2.5 0 016.5 17H20"}),r.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"})]}),coding:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"16 18 22 12 16 6"}),r.jsx("polyline",{points:"8 6 2 12 8 18"})]}),workout:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M6.5 6.5L17.5 17.5"}),r.jsx("path",{d:"M21.7 7.3l-5-5"}),r.jsx("path",{d:"M7.3 21.7l-5-5"}),r.jsx("path",{d:"M2 12l10 10"}),r.jsx("path",{d:"M12 2l10 10"})]}),run:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"5",r:"2"}),r.jsx("path",{d:"M4 17l4-4 2 2 6-6"}),r.jsx("path",{d:"M20 21l-4-4-2 2-6-6"})]}),meditate:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"6",r:"3"}),r.jsx("path",{d:"M12 9v3"}),r.jsx("path",{d:"M7 21c0-4 2.5-6 5-6s5 2 5 6"}),r.jsx("path",{d:"M5 14c1.5-1 3-1.5 4.5-1.5"}),r.jsx("path",{d:"M19 14c-1.5-1-3-1.5-4.5-1.5"})]}),"drink-water":r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 2l6 8.5c1.3 1.8 2 4 2 6.5 0 4.4-3.6 5-8 5s-8-.6-8-5c0-2.5.7-4.7 2-6.5L12 2z"}),r.jsx("path",{d:"M8 14c.5-1 1.5-2 4-2"})]}),sleep:r.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})}),study:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),r.jsx("path",{d:"M6 12v5c0 1.1 2.7 2 6 2s6-.9 6-2v-5"})]}),reading:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),r.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),finance:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),r.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"})]}),clean:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M3 6h18"}),r.jsx("path",{d:"M8 6V4c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v2"}),r.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),r.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),r.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),music:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 18V5l12-2v13"}),r.jsx("circle",{cx:"6",cy:"18",r:"3"}),r.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),walking:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"4",r:"2"}),r.jsx("path",{d:"M15 22v-4l-3-3 1-4 3 3h4"}),r.jsx("path",{d:"M9 22l3-8"}),r.jsx("path",{d:"M9 12l-3-3"})]}),yoga:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"5",r:"2"}),r.jsx("path",{d:"M4 20l4-9h8l4 9"}),r.jsx("path",{d:"M12 7v5"}),r.jsx("path",{d:"M8 12h8"})]}),writing:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 19l7-7 3 3-7 7H12v-3z"}),r.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),r.jsx("path",{d:"M2 2l7.586 7.586"}),r.jsx("circle",{cx:"11",cy:"11",r:"2"})]}),cooking:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M6 13.87A4 4 0 013.67 8H6"}),r.jsx("path",{d:"M6 8V3"}),r.jsx("path",{d:"M10 8V3"}),r.jsx("path",{d:"M14 8V3"}),r.jsx("path",{d:"M17 8h2.33A4 4 0 0117 13.87V21a1 1 0 01-1 1H7a1 1 0 01-1-1v-7.13"})]}),diet:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18 8h1a4 4 0 010 8h-1"}),r.jsx("path",{d:"M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"}),r.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),r.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),r.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),focus:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("circle",{cx:"12",cy:"12",r:"6"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"no-phone":r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),r.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),r.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}),mood:r.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),r.jsx("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),r.jsx("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),heart:r.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})})}[e]||null}const I0=["heart","workout","run","meditate","yoga","walking","drink-water","sleep","diet","cooking","clean","mood","focus","no-phone","book","reading","study","writing","coding","music","finance"],L0=["#0F766E","#13B4FF","#2F04FD","#BB29E8","#FA553F","#FF8C00","#70CB19","#CDEF1E","#CDC94E","#FF5C8D","#EF4444","#06B6D4","#2563EB","#4338CA","#A855F7","#84CC16","#F59E0B","#B45309","#111827","#6B7280","#10B981"];function Gc(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function A0({records:e,color:t,createdAt:n}){const s=Array.isArray(e)?e:[],l=f.useMemo(()=>{const o=[],a=new Date;a.setHours(0,0,0,0);const i=Gc(a);let c;if(s.length>0){const d=[...s].sort();c=new Date(d[0]+"T00:00:00")}else if(n){const d=new Date(n);isNaN(d.getTime())?c=new Date(a.getFullYear(),a.getMonth(),1):(c=new Date(d),c.setHours(0,0,0,0))}else c=new Date(a.getFullYear(),a.getMonth(),1);let u=new Date(c.getFullYear(),c.getMonth(),1);const h=new Date(a.getFullYear(),a.getMonth(),1);for(;u<=h;){const d=u.getFullYear(),m=u.getMonth(),y=new Date(d,m+1,0).getDate(),j=d===a.getFullYear()&&m===a.getMonth(),g=[];for(let k=1;k<=y;k++){const v=new Date(d,m,k),p=Gc(v),x=j&&p>i;g.push({date:p,day:k,completed:s.includes(p),isFuture:x})}o.push({key:`${d}-${m}`,days:g}),u=new Date(d,m+1,1)}return o},[s,n]);return r.jsx("div",{className:"streak-grid",children:l.map(o=>r.jsx("div",{className:"streak-month",children:r.jsx("div",{className:"streak-row",children:o.days.map(a=>r.jsx("div",{className:`streak-square ${a.completed?"completed":""} ${a.isFuture?"future":""}`,style:{backgroundColor:a.completed?t:"transparent",borderColor:a.completed?t:"var(--border)"},title:`${a.day}  ${a.completed?"":a.isFuture?" ":""}`},a.date))})},o.key))})}function B0({habit:e,isCompletedToday:t,onToggle:n,onEdit:s,onDelete:l}){const o=e.streak??0,a=e.bestStreak??0,i=Array.isArray(e.records)?e.records:[],c=o===a&&o>0;return r.jsxs("div",{className:`habit-card ${c?"best-streak":""}`,style:{"--habit-color":e.color},children:[r.jsxs("div",{className:"habit-card-header",children:[r.jsx("div",{className:"habit-card-icon",style:{color:e.color},children:r.jsx(wa,{icon:e.icon,color:e.color,size:28})}),r.jsxs("div",{className:"habit-card-info",children:[r.jsx("span",{className:"habit-card-title",children:e.title}),e.description&&r.jsx("span",{className:"habit-card-desc",children:e.description})]}),r.jsx(xr,{checked:t,onChange:n,size:"md",color:e.color})]}),r.jsxs("div",{className:"habit-card-stats",children:[r.jsxs("div",{className:"habit-stat-item",children:[r.jsx("span",{className:"habit-stat-value",style:{color:e.color},children:o}),r.jsx("span",{className:"habit-stat-label",children:" "})]}),r.jsx("div",{className:"habit-stat-divider"}),r.jsxs("div",{className:"habit-stat-item",children:[r.jsx("span",{className:"habit-stat-value",children:a}),r.jsx("span",{className:"habit-stat-label",children:""})]})]}),r.jsx(A0,{records:i,color:e.color,createdAt:e.createdAt}),r.jsxs("div",{className:"habit-card-actions",children:[r.jsx("button",{className:"habit-action-btn",onClick:s,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"habit-action-btn danger",onClick:l,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})}function Of({isOpen:e,onClose:t,onSave:n,editingHabit:s}){const[l,o]=f.useState(""),[a,i]=f.useState(""),[c,u]=f.useState("book"),[h,d]=f.useState("#13b4ff");f.useEffect(()=>{e&&(s?(o(s.title),i(s.description||""),u(s.icon),d(s.color)):(o(""),i(""),u("book"),d("#13b4ff")))},[e,s]);const m=f.useMemo(()=>s?{title:s.title,description:s.description||"",icon:s.icon,color:s.color}:{title:"",description:"",icon:"book",color:"#13b4ff"},[s,e]),{hasChanges:y}=kr(m,()=>({title:l,description:a,icon:c,color:h})),j=()=>{if(!l.trim())return;const k={id:(s==null?void 0:s.id)||Te(),title:l.trim(),description:a.trim()||void 0,icon:c,color:h,records:(s==null?void 0:s.records)||[],streak:(s==null?void 0:s.streak)||0,bestStreak:(s==null?void 0:s.bestStreak)||0,createdAt:(s==null?void 0:s.createdAt)||new Date().toISOString()};n(k),t()},g=()=>{t()};return r.jsx(Ne,{isOpen:e,onClose:g,onRequestClose:()=>{y||t()},hasChanges:y,onSave:j,confirmMessage:"",title:s?" ":" ",children:r.jsxs("div",{className:"create-habit-form",children:[r.jsx("div",{className:"habit-form-group",children:r.jsx("input",{type:"text",className:"habit-title-input",placeholder:" ",value:l,onChange:k=>o(k.target.value),autoFocus:!0})}),r.jsx("div",{className:"habit-form-group",children:r.jsx("input",{type:"text",className:"habit-desc-input",placeholder:" ()",value:a,onChange:k=>i(k.target.value)})}),r.jsxs("div",{className:"habit-form-group",children:[r.jsx("label",{className:"habit-form-label",children:""}),r.jsx("div",{className:"habit-icon-grid",children:I0.map(k=>r.jsx("button",{type:"button",className:`habit-icon-btn ${c===k?"active":""}`,onClick:()=>u(k),style:{borderColor:c===k?h:"var(--border)",backgroundColor:c===k?`${h}20`:"transparent"},children:r.jsx(wa,{icon:k,color:c===k?h:"var(--muted)",size:22})},k))})]}),r.jsxs("div",{className:"habit-form-group",children:[r.jsx("label",{className:"habit-form-label",children:""}),r.jsx("div",{className:"habit-color-grid",children:L0.map(k=>r.jsx("button",{type:"button",className:`habit-color-btn ${h===k?"active":""}`,style:{backgroundColor:k},onClick:()=>d(k),children:h===k&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})},k))})]}),r.jsxs("div",{className:"habit-preview",children:[r.jsx("div",{className:"habit-preview-icon",style:{color:h},children:r.jsx(wa,{icon:c,color:h,size:32})}),r.jsx("span",{className:"habit-preview-title",children:l||""})]}),r.jsx("div",{className:"habit-form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:g,children:""})})]})})}function F0(){const{state:e,dispatch:t}=Dt(),{showToast:n}=Mf(),[s,l]=f.useState("todo"),[o,a]=f.useState(!1),[i,c]=f.useState(!1),[u,h]=f.useState(null),[d,m]=f.useState(null),[y,j]=f.useState(null),[g,k]=f.useState(!1),[v,p]=f.useState(new Set),x=f.useRef(null),[w,C]=f.useState(!1),D=Pt(),E=I=>{p(ee=>{const le=new Set(ee);return le.has(I)?le.delete(I):le.add(I),le})},_=I=>{const ee=new Date(I),le=ee.getDate().toString().padStart(2,"0"),ie=(ee.getMonth()+1).toString().padStart(2,"0"),ce=ee.getFullYear(),O=ee.getHours().toString().padStart(2,"0"),R=ee.getMinutes().toString().padStart(2,"0");return`${le}.${ie}.${ce}, ${O}:${R}`},B=I=>{const ee=new Date(I),ie=new Date().getTime()-ee.getTime();return Math.floor(ie/(1e3*60*60*24))},L=I=>I===0?"0 ":I===1?"1 ":I>=2&&I<=4?`${I} `:`${I} `,K=I=>[...I].sort((ee,le)=>{const ie=ee.createdAt||"";return(le.createdAt||"").localeCompare(ie)}),G=f.useMemo(()=>{const I=[],ee=[],le=[];return e.tasks.forEach(ie=>{ie.parentId||ie.completed||(ie.date?ie.date===D?I.push(ie):ie.date>D&&ee.push(ie):le.push(ie))}),{todayTasks:K(I),weekTasks:K(ee),somedayTasks:K(le)}},[e.tasks,D]),V=f.useMemo(()=>K(e.tasks.filter(I=>!I.parentId&&I.completed)),[e.tasks]),ae=I=>e.tasks.filter(ee=>ee.parentId===I),T=I=>(Array.isArray(I.records)?I.records:[]).includes(D),P=I=>{const ee=e.tasks.find(ie=>ie.id===I),le=ee&&!ee.completed;t({type:"TOGGLE_TASK",payload:I}),le&&(fn(50),n(Yr()))},X=I=>{confirm(" ?")&&t({type:"DELETE_TASK",payload:I})},M=I=>{t(u?{type:"UPDATE_TASK",payload:I}:{type:"ADD_TASK",payload:I}),a(!1),h(null)},U=I=>{const ee=e.habits.find(ce=>ce.id===I),le=ee&&Array.isArray(ee.records)?ee.records:[],ie=ee&&!le.includes(D);t({type:"TOGGLE_HABIT",payload:{id:I,date:D}}),ie&&(fn(50),n(Yr()))},Y=I=>{confirm(" ?")&&t({type:"DELETE_HABIT",payload:I})},oe=I=>{t(d?{type:"UPDATE_HABIT",payload:I}:{type:"ADD_HABIT",payload:I}),c(!1),m(null)},ue=(I,ee)=>{const le=ae(I.id),ie=ee.filter(O=>O.trim()),ce=new Map;le.forEach(O=>{ce.set(O.title,O)}),le.forEach(O=>{t({type:"DELETE_TASK",payload:O.id})}),ie.forEach(O=>{const R=O.trim(),A=ce.get(R);t({type:"ADD_TASK",payload:{id:Te(),title:R,completed:(A==null?void 0:A.completed)||!1,date:I.date,priority:"normal",parentId:I.id,createdAt:(A==null?void 0:A.createdAt)||new Date().toISOString(),completedAt:A==null?void 0:A.completedAt}})}),j(null)},xe=(I,ee=!1)=>{const le=ae(I.id),ie=v.has(I.id),ce=le.length>3;return r.jsxs("div",{className:"task-item-wrapper",children:[r.jsxs("div",{className:`task-item ${I.priority==="important"?"important":""} ${ee?"archived":""}`,children:[r.jsx(xr,{checked:I.completed,onChange:()=>P(I.id)}),r.jsxs("div",{className:"task-content",children:[r.jsx("span",{className:I.completed?"line-through":"",children:I.title}),I.timeEstimate&&r.jsxs("span",{className:"task-estimate",children:[I.timeEstimate," "]}),I.createdAt&&r.jsxs("span",{className:"task-created",children:[": ",_(I.createdAt),"  ",L(B(I.createdAt))," "]}),I.completedAt&&r.jsxs("span",{className:"task-completed-at",children:[": ",_(I.completedAt)]})]}),!ee&&r.jsxs("div",{className:"task-actions",children:[r.jsx("button",{className:"btn-icon",title:"",onClick:()=>j(I),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"8",y1:"9",x2:"16",y2:"9"}),r.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),r.jsx("line",{x1:"8",y1:"15",x2:"16",y2:"15"})]})}),r.jsx("button",{className:"btn-icon",onClick:()=>{h(I),a(!0)},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),r.jsx("button",{className:"btn-icon text-danger",onClick:()=>X(I.id),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]}),ee&&r.jsx("button",{className:"btn-icon text-danger",onClick:()=>X(I.id),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]}),le.length>0&&!ee&&r.jsxs("div",{className:"subtasks",children:[r.jsx("div",{className:`subtasks-content ${ce&&!ie?"subtasks-collapsed":""}`,children:le.map(O=>r.jsxs("div",{className:"subtask-item",children:[r.jsx(xr,{checked:O.completed,onChange:()=>P(O.id),size:"sm"}),r.jsx("span",{className:O.completed?"line-through":"",children:O.title})]},O.id))}),ce&&r.jsx("button",{className:"subtasks-toggle",onClick:()=>E(I.id),children:ie?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"18 15 12 9 6 15"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:" "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]})})]})]},I.id)},fe=G.todayTasks.length>0||G.weekTasks.length>0||G.somedayTasks.length>0;return r.jsxs(Yt,{title:"",children:[r.jsxs("div",{className:"tabs",children:[r.jsx("button",{className:`tab ${s==="todo"?"active":""}`,onClick:()=>l("todo"),children:"To-Do"}),r.jsx("button",{className:`tab ${s==="habits"?"active":""}`,onClick:()=>l("habits"),children:""})]}),s==="todo"?r.jsxs("div",{className:"todo-content",children:[r.jsxs("button",{className:"add-item-btn",onClick:()=>a(!0),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),!fe&&V.length===0?r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]})}):r.jsxs(r.Fragment,{children:[G.todayTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"task-list",children:G.todayTasks.map(I=>xe(I))})]}),G.weekTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"task-list",children:G.weekTasks.map(I=>xe(I))})]}),G.somedayTasks.length>0&&r.jsxs("div",{className:"task-group",children:[r.jsx("h3",{children:"-"}),r.jsx("div",{className:"task-list",children:G.somedayTasks.map(I=>xe(I))})]}),V.length>0&&r.jsxs("div",{className:"archive-section",children:[r.jsxs("button",{className:"archive-toggle",onClick:()=>k(!g),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`archive-icon ${g?"open":""}`,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})}),r.jsx("span",{children:" "}),r.jsx("span",{className:"archive-count",children:V.length})]}),g&&r.jsx("div",{className:"archive-list",children:V.map(I=>xe(I,!0))})]})]})]}):r.jsxs("div",{className:"habits-content",children:[r.jsxs("button",{className:"add-item-btn",onClick:()=>{m(null),c(!0)},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})," "]}),e.habits.length===0?r.jsx(vr,{title:" ",text:"      ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),r.jsx("path",{d:"M12 6v6l4 2"})]})}):r.jsx("div",{className:"habits-list",children:e.habits.map(I=>r.jsx(B0,{habit:I,isCompletedToday:T(I),onToggle:()=>U(I.id),onEdit:()=>{m(I),c(!0)},onDelete:()=>Y(I.id)},I.id))})]}),r.jsx(Ne,{isOpen:o,onClose:()=>{a(!1),h(null),C(!1)},onRequestClose:()=>{var I;if((I=x.current)!=null&&I.hasChanges){C(!0);return}a(!1),h(null)},hasChanges:w,onSave:()=>{x.current&&x.current.save()},confirmMessage:"",title:u?" ":" ",children:r.jsx(Ff,{ref:x,task:u,onChangesChange:C,onSave:I=>{M(I),a(!1),h(null),C(!1)},onCancel:()=>{a(!1),h(null),C(!1)}})}),r.jsx(Of,{isOpen:i,onClose:()=>{c(!1),m(null)},onSave:oe,editingHabit:d}),y&&r.jsx(R0,{task:y,existingSubtasks:ae(y.id),onSave:ue,onClose:()=>j(null)})]})}function O0({idea:e,folders:t,onSave:n,onDelete:s,onMoveToFolder:l,onAddToTask:o,onAddToSchedule:a}){const i=Et(),[c,u]=f.useState(e.text||""),[h,d]=f.useState(!1),[m,y]=f.useState(!1),j=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{const x=e.title?`${e.title}
${e.text||""}`:e.text||"";u(x)},[e]),f.useEffect(()=>{const x=setTimeout(()=>{if(!c.trim())return;const C=e.title?`${e.title}
${e.text||""}`:e.text||"";if(c!==C){const D=c.split(`
`),E=D.findIndex(K=>K.trim()),_=E>=0&&D[E].trim().length<=50?D[E].trim():void 0,B=E>=0&&D.length>E+1?D.slice(E+1).join(`
`):E>=0?D[E]:c,L={...e,title:_,text:B,updatedAt:new Date().toISOString()};n(L)}},500);return()=>clearTimeout(x)},[c,e,n]);const k=x=>{var w;if(x.target===j.current&&((w=g.current)==null||w.focus(),g.current)){const C=g.current.value.length;g.current.setSelectionRange(C,C)}},v=x=>{u(x.target.value)},p=()=>{const x=e.title?`${e.title}
${e.text||""}`:e.text||"",C=c.trim().length>0;if(!e.title&&(!e.text||e.text.trim()==="")&&!C&&c===x){s(e.id),i(-1);return}if(c!==x){const E=c.split(`
`),_=E.findIndex(G=>G.trim()),B=_>=0&&E[_].trim().length<=50?E[_].trim():void 0,L=_>=0&&E.length>_+1?E.slice(_+1).join(`
`):_>=0?E[_]:c,K={...e,title:B,text:L,updatedAt:new Date().toISOString()};n(K)}i(-1)};return r.jsxs("div",{className:"note-editor",children:[r.jsxs("div",{className:"note-editor-header",children:[r.jsx("button",{className:"note-editor-back",onClick:p,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsxs("div",{style:{position:"relative"},children:[r.jsx("button",{className:"note-editor-menu-btn",onClick:x=>{x.stopPropagation(),d(!0),y(!1)},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("circle",{cx:"12",cy:"5",r:"1"}),r.jsx("circle",{cx:"12",cy:"12",r:"1"}),r.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}),h&&!m&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"note-editor-menu-overlay",onClick:()=>d(!1)}),r.jsx("div",{className:"note-editor-menu-dropdown",onClick:x=>x.stopPropagation(),children:r.jsxs("div",{className:"note-editor-menu-content",children:[r.jsxs("button",{className:"note-editor-menu-item",onClick:x=>{x.stopPropagation(),x.preventDefault(),d(!1),setTimeout(()=>{y(!0)},100)},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})})}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{className:"note-editor-menu-item",onClick:x=>{x.stopPropagation(),d(!1),o(e)},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{className:"note-editor-menu-item",onClick:x=>{x.stopPropagation(),d(!1),a(e)},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{className:"note-editor-menu-item danger",onClick:x=>{x.stopPropagation(),d(!1),window.confirm(" ?")&&(s(e.id),i(-1))},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),r.jsx("span",{children:""})]})]})})]}),m&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"note-editor-menu-overlay",onClick:()=>{y(!1),d(!1)}}),r.jsx("div",{className:"note-editor-menu-dropdown",onClick:x=>x.stopPropagation(),children:r.jsxs("div",{className:"note-editor-menu-content",children:[r.jsxs("button",{className:"note-editor-menu-item",onClick:x=>{x.stopPropagation(),x.preventDefault(),y(!1),setTimeout(()=>{d(!0)},100)},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("span",{children:""})]}),r.jsx("div",{style:{height:"1px",background:"var(--border)",margin:"8px 0"}}),r.jsxs("button",{className:"note-editor-menu-item",onClick:x=>{x.stopPropagation(),x.preventDefault(),l(e.id,null),y(!1),d(!1)},children:[r.jsx("span",{className:"note-editor-menu-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),r.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]})}),r.jsx("span",{children:""})]}),t.filter(x=>x.id!=="inbox").map(x=>r.jsxs("button",{className:"note-editor-menu-item",onClick:w=>{w.stopPropagation(),w.preventDefault(),l(e.id,x.id),y(!1),d(!1)},children:[r.jsx("span",{className:"note-editor-menu-icon",style:{color:x.color,fontSize:"20px"},children:x.icon}),r.jsx("span",{children:x.name})]},x.id))]})})]})]})]}),r.jsx("div",{className:"note-editor-canvas",ref:j,onClick:k,children:r.jsx("textarea",{ref:g,className:"note-editor-textarea",value:c,onChange:v,placeholder:" ...",autoFocus:!0})}),r.jsx(bf,{})]})}const $0=e=>{const t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${t}:${n}`};function Kc(){var W;const{state:e,dispatch:t}=Dt(),n=Et(),{id:s}=zp(),l=s?e.ideas.find(S=>S.id===s):null,[o,a]=f.useState(""),[i,c]=f.useState(!1),[u,h]=f.useState(""),[d,m]=f.useState(!1),[y,j]=f.useState(null),[g,k]=f.useState(!1),v=f.useRef(null),p=f.useRef(null),[x,w]=f.useState("inbox"),[C,D]=f.useState(null),[E,_]=f.useState(null),[B,L]=f.useState(!1),[K,G]=f.useState(!1),[V,ae]=f.useState(null),[T,P]=f.useState(null),[X,M]=f.useState(null),U=f.useRef(0),Y=f.useRef(0),oe=f.useRef(null),[ue,xe]=f.useState({}),fe=f.useMemo(()=>[...e.folders].sort((S,N)=>S.order-N.order),[e.folders]),I=f.useMemo(()=>{let S=e.ideas.filter(N=>N.status!=="archived");if(x==="inbox"||x===null?S=S.filter(N=>!N.folderId||N.folderId==="inbox"):S=S.filter(N=>N.folderId===x),o.trim()){const N=o.toLowerCase();S=S.filter(H=>{const J=(H.title||"").toLowerCase(),F=H.text.toLowerCase(),ne=H.tags.join(" ").toLowerCase();return J.includes(N)||F.includes(N)||ne.includes(N)})}return S.sort((N,H)=>N.isPinned&&!H.isPinned?-1:!N.isPinned&&H.isPinned?1:new Date(H.createdAt).getTime()-new Date(N.createdAt).getTime())},[e.ideas,x,o]);f.useEffect(()=>{const S=N=>{p.current&&!p.current.contains(N.target)&&k(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),f.useEffect(()=>{const S=N=>{const H=N.target;i&&!H.closest(".inbox-search-container")&&(o.trim()||c(!1))};if(i){const N=setTimeout(()=>{document.addEventListener("mousedown",S)},100);return()=>{clearTimeout(N),document.removeEventListener("mousedown",S)}}},[i,o]);const ee=S=>{const N=/#(\w+)/g,H=S.matchAll(N);return Array.from(H,J=>J[1])},le=S=>{if(S.preventDefault(),!u.trim())return;const N=ee(u),J=u.trim().split(`
`).filter(pe=>pe.trim()),F=J[0]&&J[0].length>50?void 0:J[0],ne=J.length>1?J.slice(1).join(`
`):J[0]||"",se={id:Te(),title:F||void 0,text:ne||"",tags:N,folderId:y||null,isPinned:!1,status:"inbox",createdAt:new Date().toISOString()};t({type:"ADD_IDEA",payload:se}),h(""),j(null),m(!1),k(!1)},ie=(S,N)=>{U.current=N.touches[0].clientX,Y.current=N.touches[0].clientX,oe.current=S},ce=S=>{if(oe.current===null)return;Y.current=S.touches[0].clientX;const N=Y.current-U.current,H=80;xe({...ue,[oe.current]:Math.max(-H,Math.min(H,N))})},O=S=>{if(oe.current!==S)return;(ue[S]||0)<-50&&t({type:"TOGGLE_IDEA_PIN",payload:S}),xe({...ue,[S]:0}),oe.current=null},R=S=>{const N=new Date(S),H=new Date,J=new Date(H.getFullYear(),H.getMonth(),H.getDate()),F=new Date(N.getFullYear(),N.getMonth(),N.getDate());if(F.getTime()===J.getTime())return $0(N);const ne=new Date(J);if(ne.setDate(ne.getDate()-1),F.getTime()===ne.getTime())return"";const se=String(N.getDate()).padStart(2,"0"),pe=String(N.getMonth()+1).padStart(2,"0");if(F.getFullYear()===H.getFullYear())return`${se}.${pe}`;const ct=N.getFullYear();return`${se}.${pe}.${ct}`},A=S=>{t({type:"UPDATE_IDEA",payload:S})},Q=S=>{t({type:"DELETE_IDEA",payload:S})},te=(S,N)=>{t({type:"MOVE_IDEA_TO_FOLDER",payload:{id:S,folderId:N}})},re=S=>{t({type:"ADD_TASK",payload:{id:Te(),title:S.title||S.text||" ",completed:!1,priority:"normal",createdAt:new Date().toISOString()}})},z=S=>{const N=new Date,H=new Date(N);H.setHours(9,0,0,0);const J=new Date(H);J.setHours(H.getHours()+1),t({type:"ADD_EVENT",payload:{id:Te(),title:S.title||S.text||" ",startTime:H,endTime:J,color:"#4285F4",completed:!1}})};return l?r.jsx(O0,{idea:l,folders:fe,onSave:A,onDelete:Q,onMoveToFolder:te,onAddToTask:re,onAddToSchedule:z}):r.jsxs(Yt,{title:"",headerRight:r.jsx("button",{className:"header-add-btn",onClick:()=>{const S={id:Te(),title:void 0,text:"",tags:[],folderId:x==="inbox"?null:x,isPinned:!1,status:"inbox",createdAt:new Date().toISOString()};t({type:"ADD_IDEA",payload:S}),n(`/inbox/note/${S.id}`)},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})})}),children:[r.jsxs("div",{className:"inbox-header",children:[r.jsx("div",{className:"inbox-header-top",children:r.jsxs("div",{className:"inbox-search-container",children:[i&&r.jsxs("div",{className:"inbox-search-input-wrapper",children:[r.jsx("input",{type:"text",className:"inbox-search-input",placeholder:" ...",value:o,onChange:S=>a(S.target.value),autoFocus:!0,onBlur:S=>{const N=S.relatedTarget;(!N||!N.closest(".inbox-search-clear")&&!N.closest(".inbox-search-btn"))&&setTimeout(()=>{const H=document.activeElement;(!H||H!==S.target&&!H.closest(".inbox-search-container"))&&(o.trim()||c(!1))},150)}}),o&&r.jsx("button",{type:"button",className:"inbox-search-clear",onClick:S=>{S.preventDefault(),S.stopPropagation(),a("");const N=document.querySelector(".inbox-search-input");N==null||N.focus()},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsx("button",{className:"inbox-search-btn",onClick:S=>{if(S.preventDefault(),S.stopPropagation(),!i)c(!0),setTimeout(()=>{const N=document.querySelector(".inbox-search-input");N==null||N.focus()},100);else if(o.trim()){a("");const N=document.querySelector(".inbox-search-input");N==null||N.focus()}else c(!1)},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),r.jsx("div",{className:"inbox-folders-scroll",children:r.jsxs("div",{className:"inbox-folders",children:[r.jsxs("button",{className:`inbox-folder-chip ${x==="inbox"||x===null?"active":""}`,onClick:()=>w("inbox"),children:[r.jsx("span",{className:"inbox-folder-icon",children:""}),r.jsx("span",{className:"inbox-folder-name",children:""})]}),fe.filter(S=>S.id!=="inbox").map(S=>r.jsxs("div",{className:"inbox-folder-chip-wrapper",children:[r.jsxs("button",{className:`inbox-folder-chip ${x===S.id?"active":""}`,onClick:()=>w(S.id),children:[r.jsx("span",{className:"inbox-folder-dot",style:{backgroundColor:S.color}}),r.jsx("span",{className:"inbox-folder-icon",children:S.icon}),r.jsx("span",{className:"inbox-folder-name",children:S.name})]}),r.jsx("button",{className:"inbox-folder-edit-btn",onClick:N=>{N.stopPropagation(),ae(S)},title:" ",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})]},S.id)),r.jsx("button",{className:"inbox-folder-chip inbox-folder-add",onClick:()=>G(!0),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})})]}),r.jsx("div",{className:`inbox-input-wrapper ${d?"focused":""}`,children:r.jsxs("form",{onSubmit:le,className:"inbox-smart-input",children:[r.jsx("textarea",{ref:v,className:"inbox-smart-textarea",value:u,onChange:S=>h(S.target.value),onFocus:()=>m(!0),onBlur:S=>{const N=S.relatedTarget,H=(N==null?void 0:N.closest(".inbox-input-controls"))||(N==null?void 0:N.closest(".inbox-folder-select-wrapper"))||(N==null?void 0:N.closest("label[for]"))||(N==null?void 0:N.tagName)==="INPUT"&&N.getAttribute("type")==="file";setTimeout(()=>{const J=document.activeElement;(!J||!J.closest(".inbox-input-controls")&&!J.closest(".inbox-folder-select-wrapper")&&!H)&&m(!1)},200)},placeholder:" ... (#   )",rows:d?4:2}),d&&r.jsxs("div",{className:"inbox-input-controls",children:[r.jsx("div",{className:"inbox-input-buttons",children:r.jsxs("div",{className:"inbox-folder-select-wrapper",ref:p,children:[r.jsxs("button",{type:"button",className:"inbox-input-btn",onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),k(!g)},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),r.jsx("span",{children:((W=fe.find(S=>S.id===(y||"inbox")))==null?void 0:W.name)||""}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"12px",height:"12px",marginLeft:"4px"},children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),g&&r.jsxs("div",{className:"inbox-folder-select-dropdown",onMouseDown:S=>S.stopPropagation(),children:[r.jsxs("button",{type:"button",className:`inbox-folder-select-item ${y===null?"active":""}`,onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),j(null),k(!1)},children:[r.jsx("span",{className:"inbox-folder-select-icon",children:""}),r.jsx("span",{children:""})]}),fe.filter(S=>S.id!=="inbox").map(S=>r.jsxs("button",{type:"button",className:`inbox-folder-select-item ${y===S.id?"active":""}`,onMouseDown:N=>{N.preventDefault(),N.stopPropagation(),j(S.id),k(!1)},children:[r.jsx("span",{className:"inbox-folder-select-dot",style:{backgroundColor:S.color}}),r.jsx("span",{className:"inbox-folder-select-icon",children:S.icon}),r.jsx("span",{children:S.name})]},S.id))]})]})}),r.jsx("button",{type:"submit",className:"btn btn-primary filled inbox-save-btn",disabled:!u.trim(),children:""})]})]})}),r.jsx("div",{className:"inbox-notes-list",children:I.length===0?r.jsx(vr,{title:o?"  ":"",text:o?"  ":"  ",icon:""}):r.jsx("div",{className:"inbox-notes-list-simple",children:I.map(S=>{const N=ue[S.id]||0,H=N<0,J=S.folderId?fe.find(se=>se.id===S.folderId):null,F=S.title||S.text||" ",ne=F.length>60?F.substring(0,60)+"...":F;return r.jsxs("div",{className:`inbox-note-item ${S.isPinned?"pinned":""}`,onTouchStart:se=>ie(S.id,se),onTouchMove:ce,onTouchEnd:()=>O(S.id),style:{transform:`translateX(${N}px)`,transition:oe.current===S.id?"none":"transform 0.2s ease"},children:[H&&r.jsx("div",{className:"inbox-swipe-indicator left",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})})}),r.jsxs("div",{className:"inbox-note-item-content",onClick:()=>n(`/inbox/note/${S.id}`),children:[r.jsxs("div",{className:"inbox-note-item-main",children:[r.jsxs("span",{className:"inbox-note-item-title",children:[S.isPinned&&r.jsx("span",{className:"inbox-note-item-pin-icon",children:""}),ne===" "?r.jsx("span",{style:{color:"var(--text-tertiary)"},children:" "}):ne]}),r.jsxs("div",{className:"inbox-note-item-meta",children:[r.jsx("span",{className:"inbox-note-item-date",children:R(S.createdAt)}),J&&J.id!=="inbox"&&r.jsx("span",{className:"inbox-note-item-folder",style:{backgroundColor:J.color+"20",color:J.color},title:J.name,children:J.icon})]})]}),r.jsx("svg",{className:"inbox-note-item-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]},S.id)})})}),r.jsx(Ne,{isOpen:B,onClose:()=>L(!1),title:" ",size:"lg",children:r.jsx(U0,{onSave:S=>{t({type:"ADD_IDEA",payload:S}),L(!1)},onCancel:()=>L(!1),folders:fe})}),r.jsx(Ne,{isOpen:!!C,onClose:()=>D(null),title:"  ",children:C&&r.jsx(H0,{idea:C,folders:fe,onEdit:S=>{_(S),D(null)},onDelete:S=>{P(S),D(null)},onTogglePin:S=>{t({type:"TOGGLE_IDEA_PIN",payload:S})},onMoveToFolder:(S,N)=>{t({type:"MOVE_IDEA_TO_FOLDER",payload:{id:S,folderId:N}}),D(null)},onAddToTodo:S=>{t({type:"ADD_TASK",payload:{id:Te(),title:S.title||S.text,completed:!1,priority:"normal"}}),t({type:"UPDATE_IDEA",payload:{...S,status:"archived"}}),D(null)},onAddToSchedule:S=>{const N=new Date,H=new Date(N);H.setHours(9,0,0,0);const J=new Date(H);J.setHours(H.getHours()+1),t({type:"ADD_EVENT",payload:{id:Te(),title:S.title||S.text,startTime:H,endTime:J,color:"#4285F4",completed:!1}}),t({type:"UPDATE_IDEA",payload:{...S,status:"archived"}}),D(null)}})}),r.jsx(Ne,{isOpen:!!E,onClose:()=>_(null),title:" ",size:"lg",children:E&&r.jsx(W0,{idea:E,onSave:S=>{t({type:"UPDATE_IDEA",payload:S}),_(null)},onCancel:()=>_(null),folders:fe})}),r.jsx(Ne,{isOpen:!!T,onClose:()=>P(null),title:" ?",children:T&&r.jsxs("div",{className:"delete-confirm-modal",children:[r.jsx("p",{children:" ,     ?    ."}),T.title&&r.jsx("p",{className:"delete-confirm-preview",children:r.jsx("strong",{children:T.title})}),T.text&&r.jsx("p",{className:"delete-confirm-preview",children:T.text}),r.jsxs("div",{className:"delete-confirm-actions",children:[r.jsx("button",{className:"btn text-danger",onClick:()=>P(null),children:""}),r.jsx("button",{className:"btn btn-danger filled",onClick:()=>{t({type:"DELETE_IDEA",payload:T.id}),P(null)},children:""})]})]})}),r.jsx(Ne,{isOpen:K,onClose:()=>G(!1),title:" ",children:r.jsx(Qc,{folder:null,onSave:S=>{t({type:"ADD_FOLDER",payload:S}),G(!1)},onCancel:()=>G(!1),onDelete:null})}),r.jsx(Ne,{isOpen:!!V,onClose:()=>ae(null),title:" ",children:V&&r.jsx(Qc,{folder:V,onSave:S=>{t({type:"UPDATE_FOLDER",payload:S}),ae(null)},onCancel:()=>ae(null),onDelete:S=>{M(S),ae(null)}})}),r.jsx(Ne,{isOpen:!!X,onClose:()=>M(null),title:" ?",children:X&&r.jsxs("div",{className:"delete-confirm-modal",children:[r.jsxs("p",{children:[' ,     "',X.name,'"?         .']}),r.jsxs("div",{className:"delete-confirm-actions",children:[r.jsx("button",{className:"btn text-danger",onClick:()=>M(null),children:""}),r.jsx("button",{className:"btn btn-danger filled",onClick:()=>{t({type:"DELETE_FOLDER",payload:X.id}),M(null)},children:""})]})]})})]})}function W0({idea:e,onSave:t,onCancel:n,folders:s}){const[l,o]=f.useState(e.title||""),[a,i]=f.useState(e.text||""),[c,u]=f.useState(e.folderId||null),h=m=>{const y=/#(\w+)/g,j=m.matchAll(y);return Array.from(j,g=>g[1])},d=m=>{if(m.preventDefault(),!a.trim())return;const y=h(a),g=a.trim().split(`
`).filter(x=>x.trim()),k=l.trim()||void 0,v=g.length>1?g.slice(1).join(`
`):g[0]||"",p={...e,title:k,text:v||"",tags:y,folderId:c||null,updatedAt:new Date().toISOString()};t(p)};return r.jsxs("form",{onSubmit:d,className:"full-note-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",className:"form-input",value:l,onChange:m=>o(m.target.value),placeholder:" ..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("textarea",{className:"form-textarea",value:a,onChange:m=>i(m.target.value),placeholder:" ... (#   )",rows:6,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("select",{className:"form-select",value:c||"inbox",onChange:m=>u(m.target.value==="inbox"?null:m.target.value),children:s.map(m=>r.jsxs("option",{value:m.id,children:[m.icon," ",m.name]},m.id))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:""})]})]})}function U0({onSave:e,onCancel:t,folders:n}){const[s,l]=f.useState(""),[o,a]=f.useState(""),[i,c]=f.useState(null),u=d=>{const m=/#(\w+)/g,y=d.matchAll(m);return Array.from(y,j=>j[1])},h=d=>{if(d.preventDefault(),!o.trim())return;const m=u(o),j=o.trim().split(`
`).filter(p=>p.trim()),g=s.trim()||void 0,k=j.length>1?j.slice(1).join(`
`):j[0]||"",v={id:Te(),title:g,text:k||"",tags:m,folderId:i||null,isPinned:!1,status:"inbox",createdAt:new Date().toISOString()};e(v)};return r.jsxs("form",{onSubmit:h,className:"full-note-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"text",className:"form-input",value:s,onChange:d=>l(d.target.value),placeholder:" ..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("textarea",{className:"form-textarea",value:o,onChange:d=>a(d.target.value),placeholder:" ... (#   )",rows:6,required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("select",{className:"form-select",value:i||"inbox",onChange:d=>c(d.target.value==="inbox"?null:d.target.value),children:n.map(d=>r.jsxs("option",{value:d.id,children:[d.icon," ",d.name]},d.id))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:t,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:""})]})]})}function z0({idea:e,folders:t,onMove:n}){const[s,l]=f.useState(!1),o=f.useRef(null);return f.useEffect(()=>{const a=i=>{o.current&&!o.current.contains(i.target)&&l(!1)};if(s)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[s]),r.jsxs("div",{className:"move-folder-wrapper",ref:o,children:[r.jsxs("button",{className:"idea-action-btn",onClick:()=>l(!s),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),r.jsx("span",{children:"  "})]}),s&&r.jsxs("div",{className:"move-folder-menu",children:[r.jsxs("button",{type:"button",className:`move-folder-menu-item ${!e.folderId||e.folderId==="inbox"?"active":""}`,onClick:()=>{n(null),l(!1)},children:[r.jsx("span",{children:""}),r.jsx("span",{children:""})]}),t.filter(a=>a.id!=="inbox").map(a=>r.jsxs("button",{type:"button",className:`move-folder-menu-item ${e.folderId===a.id?"active":""}`,onClick:()=>{n(a.id),l(!1)},children:[r.jsx("span",{className:"move-folder-dot",style:{backgroundColor:a.color}}),r.jsx("span",{children:a.icon}),r.jsx("span",{children:a.name})]},a.id))]})]})}function H0({idea:e,folders:t,onEdit:n,onDelete:s,onTogglePin:l,onMoveToFolder:o,onAddToTodo:a,onAddToSchedule:i}){return r.jsxs("div",{className:"idea-actions-modal",children:[r.jsxs("div",{className:"idea-preview",children:[e.title&&r.jsx("h3",{children:e.title}),e.text&&r.jsx("p",{children:e.text}),e.imageBase64&&r.jsx("img",{src:e.imageBase64,alt:"",style:{maxWidth:"100%",marginTop:"10px"}}),e.tags.length>0&&r.jsx("div",{style:{marginTop:"10px"},children:e.tags.map(c=>r.jsxs("span",{style:{color:"#3B82F6",marginRight:"8px"},children:["#",c]},c))})]}),r.jsxs("div",{className:"idea-action-buttons",children:[r.jsxs("button",{className:"idea-action-btn",onClick:()=>n(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>l(e.id),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 17v5M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"})}),r.jsx("span",{children:e.isPinned?"":""})]}),r.jsx(z0,{idea:e,folders:t,onMove:c=>o(e.id,c)}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>a(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),r.jsx("span",{children:"  To-Do"})]}),r.jsxs("button",{className:"idea-action-btn",onClick:()=>i(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{className:"idea-action-btn danger",onClick:()=>s(e),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),r.jsx("span",{children:""})]})]})]})}function Qc({folder:e,onSave:t,onCancel:n,onDelete:s}){const[l,o]=f.useState((e==null?void 0:e.name)||""),[a,i]=f.useState((e==null?void 0:e.color)||"#3B82F6"),[c,u]=f.useState((e==null?void 0:e.icon)||""),[h,d]=f.useState(""),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#6366F1","#F97316","#06B6D4"],y=["","","","","","","","","",""],j=h.trim()||c;f.useEffect(()=>{e&&!y.includes(e.icon)&&(d(e.icon),u(""))},[e]);const g=k=>{if(k.preventDefault(),!l.trim())return;const v=e?{...e,name:l.trim(),color:a,icon:j}:{id:Te(),name:l.trim(),color:a,icon:j,order:100};t(v)};return r.jsxs("form",{onSubmit:g,className:"folder-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",className:"form-input",value:l,onChange:k=>o(k.target.value),placeholder:": ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"folder-color-grid",children:m.map(k=>r.jsx("button",{type:"button",className:`folder-color-btn ${a===k?"active":""}`,style:{backgroundColor:k},onClick:()=>i(k)},k))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("div",{className:"folder-icon-grid",children:y.map(k=>r.jsx("button",{type:"button",className:`folder-icon-btn ${c===k&&!h.trim()?"active":""}`,onClick:()=>{u(k),d("")},children:k},k))}),r.jsxs("div",{className:"form-group",style:{marginTop:"12px"},children:[r.jsx("label",{className:"form-label",style:{fontSize:"13px",marginBottom:"6px"},children:"    (  ):"}),r.jsx("input",{type:"text",className:"form-input",value:h,onChange:k=>{d(k.target.value),k.target.value.trim()&&u("")},placeholder:":   !",maxLength:2}),h.trim()&&r.jsxs("div",{className:"folder-custom-icon-preview",style:{marginTop:"8px",fontSize:"24px"},children:[": ",h]})]})]}),r.jsxs("div",{className:"form-actions",children:[s&&e&&r.jsx("button",{type:"button",className:"btn btn-danger filled",onClick:()=>s(e),children:""}),r.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"12px"},children:[r.jsx("button",{type:"button",className:"btn text-danger",onClick:n,children:""}),r.jsx("button",{type:"submit",className:"btn btn-primary filled",children:e?"":""})]})]})]})}const V0=f.forwardRef(({onSave:e,onCancel:t,onChangesChange:n},s)=>{const[l,o]=f.useState(""),[a,i]=f.useState(),c=f.useRef(null),u=f.useMemo(()=>({name:"",imageBase64:void 0}),[]),{hasChanges:h}=kr(u,()=>({name:l,imageBase64:a}));f.useEffect(()=>{n&&n(h)},[h,n]);const d=j=>{var v;const g=(v=j.target.files)==null?void 0:v[0];if(!g)return;if(g.size>5*1024*1024){alert("  .  5MB.");return}const k=new FileReader;k.onload=()=>{i(k.result)},k.readAsDataURL(g)},m=()=>{l.trim()&&e({id:Te(),name:l.trim(),imageBase64:a})};f.useImperativeHandle(s,()=>({hasChanges:h,save:m}),[h,l,a]);const y=j=>{j.preventDefault(),m()};return r.jsxs("form",{className:"form",onSubmit:y,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:l,onChange:j=>o(j.target.value),placeholder:": ",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ()"}),r.jsx("input",{type:"file",ref:c,onChange:d,accept:"image/*",style:{display:"none"}}),a?r.jsxs("div",{className:"image-preview",children:[r.jsx("img",{src:a,alt:"Preview"}),r.jsx("button",{type:"button",className:"remove-image",onClick:()=>i(void 0),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):r.jsxs("button",{type:"button",className:"upload-btn",onClick:()=>{var j;return(j=c.current)==null?void 0:j.click()},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),r.jsx("polyline",{points:"17 8 12 3 7 8"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})," "]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn text-danger",onClick:t,children:""})})]})}),Y0=({data:e,color:t})=>r.jsx("div",{className:"routine-bar-chart",children:e.map((n,s)=>r.jsx("div",{className:`routine-bar ${n.scheduled?n.completed?"completed":"missed":"inactive"}`,style:n.completed?{backgroundColor:t}:void 0},s))}),jo=({data:e,color:t,animate:n=!0})=>{const[s,l]=f.useState(!n);f.useEffect(()=>{if(n){const d=setTimeout(()=>l(!0),100);return()=>clearTimeout(d)}},[n]);const o=Math.max(...e,1),a=100,i=40,c=4,u=e.map((d,m)=>{const y=c+m/(e.length-1)*(a-c*2),j=i-c-d/o*(i-c*2);return`${y},${j}`}).join(" "),h=`M ${c},${i-c} L ${u} L ${a-c},${i-c} Z`;return r.jsxs("svg",{viewBox:`0 0 ${a} ${i}`,className:`sparkline ${s?"animated":""}`,style:{"--sparkline-color":t},children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:`gradient-${t.replace("#","")}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.3"}),r.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.05"})]})}),r.jsx("path",{d:h,fill:`url(#gradient-${t.replace("#","")})`,className:"sparkline-area"}),r.jsx("polyline",{points:u,fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"sparkline-line"})]})},wo=({percent:e,color:t,size:n=60,strokeWidth:s=5,animate:l=!0})=>{const[o,a]=f.useState(l?0:e);f.useEffect(()=>{if(l){const h=setTimeout(()=>a(e),100);return()=>clearTimeout(h)}else a(e)},[e,l]);const i=(n-s)/2,c=i*2*Math.PI,u=c-o/100*c;return r.jsxs("svg",{width:n,height:n,className:"progress-ring",style:{"--ring-color":t},children:[r.jsx("circle",{className:"progress-ring-bg",strokeWidth:s,fill:"transparent",r:i,cx:n/2,cy:n/2}),r.jsx("circle",{className:"progress-ring-progress",strokeWidth:s,fill:"transparent",r:i,cx:n/2,cy:n/2,style:{strokeDasharray:c,strokeDashoffset:u,stroke:t}})]})};function G0(){const{state:e,dispatch:t}=Dt(),n=Et(),[s,l]=f.useState("balance"),[o,a]=f.useState(null),[i,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!1),[y,j]=f.useState(!1),[g,k]=f.useState(!1),v=f.useRef(null),p=f.useRef(null),[x,w]=f.useState(!1),C=e.wallets??[],D=e.transactions??[],E=e.tasks??[],_=e.habits??[],B=e.focusSessions??[];f.useEffect(()=>{const O=setTimeout(()=>k(!0),50);return()=>clearTimeout(O)},[]);const L=f.useMemo(()=>{const O=new Date,R={};C.forEach(W=>{const S=W.currency||"RUB";R[S]=(R[S]||0)+(W.balance||0)});const A={},Q={},te=[],re=Object.keys(R).find(W=>R[W]!==0)||"RUB";for(let W=6;W>=0;W--){const S=new Date(O);S.setDate(S.getDate()-W);const N=me(S),H=D.filter(F=>F.date===N);let J=0;H.forEach(F=>{if(F.type==="transfer"){const ne=C.find(pe=>pe.id===F.walletId),se=C.find(pe=>pe.id===F.toWalletId);if(ne){const pe=ne.currency||"RUB";Q[pe]=(Q[pe]||0)+F.amount,pe===re&&(J-=F.amount)}if(se){const pe=se.currency||"RUB",ct=F.toAmount||F.amount;A[pe]=(A[pe]||0)+ct,pe===re&&(J+=ct)}}else{const ne=C.find(pe=>pe.id===F.walletId);if(!ne)return;const se=ne.currency||"RUB";F.type==="income"?(A[se]=(A[se]||0)+F.amount,se===re&&(J+=F.amount)):F.type==="expense"&&(Q[se]=(Q[se]||0)+F.amount,se===re&&(J-=F.amount))}}),te.push(J)}const z={};return Object.keys(A).forEach(W=>{z[W]=(A[W]||0)-(Q[W]||0)}),Object.keys(Q).forEach(W=>{z[W]||(z[W]=-(Q[W]||0))}),{balancesByCurrency:R,incomeByCurrency:A,expenseByCurrency:Q,weekChangeByCurrency:z,sparklineBalance:te.map((W,S,N)=>N.slice(0,S+1).reduce((H,J)=>H+J,0)),sparklineIncome:te.map(W=>W>0?W:0),sparklineExpense:te.map(W=>W<0?Math.abs(W):0)}},[C,D]),K=f.useMemo(()=>{const O=Pt(),R=E.filter(S=>!S.parentId),A=R.filter(S=>S.date?S.date<=O:!0),Q=A.filter(S=>S.completed).length,te=A.length,re=te>0?Math.round(Q/te*100):0,z=new Date,W=[];for(let S=6;S>=0;S--){const N=new Date(z);N.setDate(N.getDate()-S);const H=me(N),J=R.filter(F=>F.completed?F.completedAt?F.completedAt.startsWith(H):F.date===H:!1).length;W.push(J)}return{completed:Q,total:te,percent:re,weekData:W}},[E]),G=f.useMemo(()=>{const O=Pt(),R=_.filter(z=>z.records.includes(O)).length,A=_.length,Q=A>0?Math.round(R/A*100):0,te=[],re=new Date;for(let z=6;z>=0;z--){const W=new Date(re);W.setDate(W.getDate()-z);const S=me(W),N=_.filter(H=>H.records.includes(S)).length;te.push(N)}return{completed:R,total:A,percent:Q,weekData:te}},[_]),V=f.useMemo(()=>{const O=Pt(),R=B.filter(S=>{var N;return((N=S.date)==null?void 0:N.split("T")[0])===O}),A=Math.floor(R.reduce((S,N)=>S+(N.duration||0),0)/60),Q=[],te=new Date;let re=0;for(let S=6;S>=0;S--){const N=new Date(te);N.setDate(N.getDate()-S);const H=me(N),F=B.filter(ne=>{var se;return((se=ne.date)==null?void 0:se.split("T")[0])===H}).reduce((ne,se)=>ne+(se.duration||0),0)/60;Q.push(F),re+=F}const z=Math.floor(re/60),W=Math.round(re%60);return{todayMinutes:A,weekTotal:re,hours:z,minutes:W,percent:Math.min(100,Math.round(A/120*100)),weekData:Q}},[B]),ae=f.useMemo(()=>{const O=e.routines||[],R=new Date,A=[];let Q=0,te=0;for(let z=6;z>=0;z--){const W=new Date(R);W.setDate(W.getDate()-z);const S=me(W),N=tn(W),H=O.filter(se=>{if(!se.days.includes(N))return!1;if(se.createdAt){const pe=new Date(se.createdAt+"T00:00:00");if(W<pe)return!1}return!0}),J=H.filter(se=>se.completed[S]),F=H.length,ne=J.length;Q+=F,te+=ne,A.push({scheduled:F>0,completed:F>0&&ne===F})}const re=Q>0?Math.round(te/Q*100):0;return{totalRoutines:O.length,percent:re,weekData:A}},[e.routines]),T=f.useMemo(()=>{const O=new Date,R=["","","","","","",""];let A=-1,Q=0;for(let te=0;te<7;te++){const re=new Date(O);re.setDate(re.getDate()-te);const z=me(re),W=E.filter(S=>S.date===z&&S.completed&&!S.parentId);W.length>Q&&(Q=W.length,A=re.getDay())}return Q>=3?`  : ${R[A]} (${Q} )`:K.completed>0?`  !  ${K.completed}  `:G.completed>0?` ${G.completed}   `:null},[E,K,G]),P=O=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0}).format(O),X=f.useRef(null),M=f.useRef(!1),U=O=>{a(O.touches[0].clientX),X.current=O.touches[0].clientY,M.current=!1},Y=O=>{if(o===null||X.current===null)return;const R=Math.abs(o-O.touches[0].clientX),A=Math.abs(X.current-O.touches[0].clientY);R>A&&R>10&&(M.current=!0,O.preventDefault())},oe=O=>{if(o===null)return;const R=o-O.changedTouches[0].clientX;M.current&&Math.abs(R)>50&&ue(R>0?"next":"prev"),a(null),X.current=null,M.current=!1},ue=O=>{c(!0),setTimeout(()=>{l(O==="next"?R=>R==="balance"?"income":R==="income"?"expense":"balance":R=>R==="balance"?"expense":R==="expense"?"income":"balance"),setTimeout(()=>c(!1),200)},100)},xe=(O,R)=>{R.stopPropagation(),O!==s&&(c(!0),setTimeout(()=>{l(O),setTimeout(()=>c(!1),200)},100))},I=(()=>{switch(s){case"balance":return{label:"",valuesByCurrency:L.balancesByCurrency,changeByCurrency:L.weekChangeByCurrency,sparkline:L.sparklineBalance,color:"#2186b4"};case"income":return{label:"",valuesByCurrency:L.incomeByCurrency,changeByCurrency:L.incomeByCurrency,sparkline:L.sparklineIncome,color:"#22c55e"};case"expense":return{label:"",valuesByCurrency:L.expenseByCurrency,changeByCurrency:Object.fromEntries(Object.entries(L.expenseByCurrency).map(([O,R])=>[O,-R])),sparkline:L.sparklineExpense,color:"#ef4444"}}})(),ee=O=>Object.entries(O).filter(([R,A])=>Math.abs(A)>.01).map(([R])=>R).sort((R,A)=>R==="RUB"?-1:A==="RUB"?1:R.localeCompare(A)),le=O=>{t({type:"ADD_TASK",payload:O}),h(!1)},ie=O=>{t({type:"ADD_HABIT",payload:O}),m(!1)},ce=O=>{t({type:"TOGGLE_HABIT",payload:{id:O,date:Pt()}})};return r.jsxs("div",{className:"weekly-report",children:[r.jsxs("div",{ref:v,className:`finance-card ${g?"loaded":""} ${i?"animating":""}`,onTouchStart:U,onTouchMove:Y,onTouchEnd:oe,children:[r.jsx("div",{className:"finance-content",children:r.jsxs("div",{className:"finance-info",onClick:()=>n("/finance"),children:[r.jsx("span",{className:"finance-label",children:I.label}),r.jsx("div",{className:"finance-values",children:(()=>{const O=ee(I.valuesByCurrency);return O.length>0?O.map(R=>{const A=I.valuesByCurrency[R]||0,Q=I.changeByCurrency[R]||0;return r.jsxs("div",{className:"finance-currency-row",children:[r.jsxs("span",{className:`finance-value ${s}`,children:[P(A)," ",ft[R]]}),Math.abs(Q)>.01&&r.jsxs("span",{className:`finance-change ${Q>=0?"positive":"negative"}`,children:[Q>=0?"":""," ",Q>=0?"+":"",P(Math.abs(Q))," ",ft[R],"  "]})]},R)}):r.jsx("span",{className:`finance-value ${s}`,children:"0 "})})()})]})}),r.jsxs("div",{className:"finance-dots",children:[r.jsx("button",{className:`dot ${s==="balance"?"active":""}`,onClick:O=>xe("balance",O)}),r.jsx("button",{className:`dot ${s==="income"?"active":""}`,onClick:O=>xe("income",O)}),r.jsx("button",{className:`dot ${s==="expense"?"active":""}`,onClick:O=>xe("expense",O)})]})]}),e.routines.length>0&&r.jsxs("div",{className:`routine-card ${g?"loaded":""}`,onClick:()=>n("/routine-analytics"),children:[r.jsxs("div",{className:"routine-card-left",children:[r.jsx("div",{className:"routine-card-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"}),r.jsx("circle",{cx:"12",cy:"12",r:"4"})]})}),r.jsxs("div",{className:"routine-card-info",children:[r.jsx("span",{className:"routine-card-title",children:""}),r.jsx("span",{className:"routine-card-subtitle",children:"  7 "})]})]}),r.jsxs("div",{className:"routine-card-center",children:[r.jsxs("span",{className:"routine-card-percent",children:[ae.percent,"%"]}),r.jsx("span",{className:"routine-card-label",children:" "})]}),r.jsx("div",{className:"routine-card-right",children:r.jsx(Y0,{data:ae.weekData,color:"#9C27B0"})})]}),r.jsx("div",{className:"ring-cards-scroll",children:r.jsxs("div",{className:"ring-cards",children:[r.jsxs("div",{className:"ring-card",onClick:()=>n("/tasks"),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(wo,{percent:K.percent,color:"#2186b4",animate:g}),r.jsx("div",{className:"ring-icon",style:{color:"#2186b4"},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M9 11l3 3L22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"})]})})]}),r.jsxs("span",{className:"ring-value",children:[K.completed,"/",K.total||1]}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(jo,{data:K.weekData,color:"#2186b4",animate:g})})]}),r.jsxs("div",{className:"ring-card",onClick:()=>j(!0),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(wo,{percent:G.percent,color:"#22c55e",animate:g}),r.jsx("div",{className:"ring-icon",style:{color:"#22c55e"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"})})})]}),r.jsxs("span",{className:"ring-value",children:[G.percent,"%"]}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(jo,{data:G.weekData,color:"#22c55e",animate:g})})]}),r.jsxs("div",{className:"ring-card",onClick:()=>n("/focus"),children:[r.jsxs("div",{className:"ring-container",children:[r.jsx(wo,{percent:V.percent,color:"#ea580c",animate:g}),r.jsx("div",{className:"ring-icon",style:{color:"#ea580c"},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]})})]}),r.jsx("span",{className:"ring-value",children:V.hours>0?`${V.hours}`:`${V.todayMinutes}`}),r.jsx("span",{className:"ring-label",children:""}),r.jsx("div",{className:"ring-sparkline",children:r.jsx(jo,{data:V.weekData,color:"#ea580c",animate:g})})]})]})}),r.jsxs("div",{className:"quick-actions",children:[r.jsxs("button",{className:"quick-action-btn",onClick:()=>h(!0),children:[r.jsx("div",{className:"quick-action-icon tasks",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),r.jsx("span",{className:"quick-action-text",children:""})]}),r.jsxs("button",{className:"quick-action-btn",onClick:()=>m(!0),children:[r.jsx("div",{className:"quick-action-icon habits",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),r.jsx("span",{className:"quick-action-text",children:""})]}),r.jsxs("button",{className:"quick-action-btn",onClick:()=>n("/focus"),children:[r.jsx("div",{className:"quick-action-icon focus",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),r.jsx("span",{className:"quick-action-text",children:""})]})]}),T&&r.jsx("div",{className:"insight-block",children:r.jsx("span",{children:T})}),r.jsx(Ne,{isOpen:u,onClose:()=>{h(!1),w(!1)},onRequestClose:()=>{var O;if((O=p.current)!=null&&O.hasChanges){w(!0);return}h(!1)},hasChanges:x,onSave:()=>{p.current&&p.current.save()},confirmMessage:"",title:" ",children:r.jsx(Ff,{ref:p,task:null,onChangesChange:w,onSave:O=>{le(O),h(!1),w(!1)},onCancel:()=>{h(!1),w(!1)}})}),r.jsx(Of,{isOpen:d,onClose:()=>m(!1),onSave:ie,editingHabit:null}),r.jsx(Ne,{isOpen:y,onClose:()=>j(!1),title:"  ",children:r.jsxs("div",{className:"habits-quick-list",children:[_.length===0?r.jsx("p",{className:"habits-empty",children:" .  !"}):_.map(O=>{const R=O.records.includes(Pt());return r.jsxs("label",{className:"habit-quick-item",children:[r.jsx("input",{type:"checkbox",checked:R,onChange:()=>ce(O.id)}),r.jsx("span",{className:R?"completed":"",children:O.title})]},O.id)}),r.jsx("button",{className:"btn btn-primary filled",onClick:()=>{j(!1),m(!0)},style:{marginTop:16},children:"+  "})]})})]})}function K0(){var j,g,k,v,p,x,w;const{state:e,dispatch:t}=Dt(),n=Et(),[s,l]=f.useState(!1),[o,a]=f.useState(null),i=f.useRef(null),[c,u]=f.useState(!1),h=e.documents??[],d=C=>{t({type:"ADD_DOCUMENT",payload:C}),l(!1)},m=C=>{confirm(" ?")&&t({type:"DELETE_DOCUMENT",payload:C})},y=f.useCallback(async C=>{var D;if(C.imageBase64)try{const _=await(await fetch(C.imageBase64)).blob(),B=new File([_],`${C.name}.${_.type.split("/")[1]||"png"}`,{type:_.type});if(navigator.share&&((D=navigator.canShare)!=null&&D.call(navigator,{files:[B]})))await navigator.share({files:[B],title:C.name});else{const L=document.createElement("a");L.href=C.imageBase64,L.download=`${C.name}.png`,L.click()}}catch(E){E.name!=="AbortError"&&console.error("   :",E)}},[]);return r.jsxs(Yt,{title:"",headerRight:r.jsx("button",{className:"header-settings-btn",onClick:()=>n("/settings"),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})}),children:[r.jsxs("div",{className:"profile-card",children:[r.jsxs("div",{className:"profile-header",children:[r.jsx("div",{className:"profile-avatar",children:(j=e.profile)!=null&&j.avatar?r.jsx("img",{src:e.profile.avatar,alt:e.profile.name||""}):r.jsx("span",{children:((v=(k=(g=e.profile)==null?void 0:g.name)==null?void 0:k[0])==null?void 0:v.toUpperCase())||"?"})}),r.jsxs("div",{className:"profile-info",children:[r.jsx("div",{className:"profile-name",children:((p=e.profile)==null?void 0:p.name)||" "}),((x=e.profile)==null?void 0:x.bio)&&r.jsx("div",{className:"profile-bio",children:e.profile.bio})]})]}),((w=e.profile)==null?void 0:w.goals)&&e.profile.goals.length>0&&r.jsxs("div",{className:"profile-goals",children:[r.jsx("span",{className:"goals-label",children:""}),r.jsx("div",{className:"goals-list",children:e.profile.goals.map((C,D)=>r.jsx("span",{className:"goal-tag",children:C},D))})]})]}),r.jsx(G0,{}),r.jsxs("div",{className:"documents-section",children:[r.jsxs("div",{className:"documents-header",children:[r.jsx("h3",{children:""}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>l(!0),children:"+ "})]}),h.length===0?r.jsx(vr,{title:" ",text:"  ",icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]})}):r.jsx("div",{className:"documents-grid",children:h.map(C=>r.jsxs("div",{className:"document-card",children:[r.jsx("div",{className:"document-preview",onClick:()=>C.imageBase64&&a(C),style:{cursor:C.imageBase64?"pointer":"default"},children:C.imageBase64?r.jsx("img",{src:C.imageBase64,alt:C.name}):r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]})}),r.jsxs("div",{className:"document-info",children:[r.jsx("span",{className:"document-name",children:C.name}),r.jsxs("div",{className:"document-actions",children:[C.imageBase64&&r.jsx("button",{className:"document-action-btn",onClick:()=>y(C),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"18",cy:"5",r:"3"}),r.jsx("circle",{cx:"6",cy:"12",r:"3"}),r.jsx("circle",{cx:"18",cy:"19",r:"3"}),r.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})}),r.jsx("button",{className:"document-action-btn text-danger",onClick:()=>m(C.id),title:"",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]})]})]},C.id))})]}),r.jsx(Ne,{isOpen:s,onClose:()=>{l(!1),u(!1)},onRequestClose:()=>{var C;if((C=i.current)!=null&&C.hasChanges){u(!0);return}l(!1)},hasChanges:c,onSave:()=>{i.current&&i.current.save()},confirmMessage:"",title:" ",children:r.jsx(V0,{ref:i,onChangesChange:u,onSave:C=>{d(C),l(!1),u(!1)},onCancel:()=>{l(!1),u(!1)}})}),o&&r.jsx("div",{className:"document-preview-overlay",onClick:()=>a(null),children:r.jsxs("div",{className:"document-preview-container",onClick:C=>C.stopPropagation(),children:[r.jsx("button",{className:"document-preview-close",onClick:()=>a(null),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),r.jsx("div",{className:"document-preview-header",children:r.jsx("h3",{children:o.name})}),o.imageBase64&&r.jsx("img",{src:o.imageBase64,alt:o.name,className:"document-preview-image"}),r.jsx("div",{className:"document-preview-actions",children:r.jsxs("button",{className:"btn btn-primary filled",onClick:()=>y(o),children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:18,height:18},children:[r.jsx("circle",{cx:"18",cy:"5",r:"3"}),r.jsx("circle",{cx:"6",cy:"12",r:"3"}),r.jsx("circle",{cx:"18",cy:"19",r:"3"}),r.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),r.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),""]})})]})})]})}const Q0=["","","","","",""],Xc=[{value:"/",label:""},{value:"/finance",label:""},{value:"/tasks",label:""},{value:"/calendar",label:""},{value:"/inbox",label:""},{value:"/profile",label:""}];function X0(){var S,N,H,J;const{state:e,dispatch:t}=Dt(),n=Et(),s=f.useRef(null),l=f.useRef(null),[o,a]=f.useState(null),[i,c]=f.useState(null),[u,h]=f.useState(!1),[d,m]=f.useState(e.profile.name||""),[y,j]=f.useState(e.profile.bio||""),[g,k]=f.useState(e.profile.goals||[]),[v,p]=f.useState(""),[x,w]=f.useState(e.profile.avatar),C=F=>{t({type:"SET_THEME",payload:F})},D=((S=e.settings)==null?void 0:S.startPageMode)||"default",E=((N=e.settings)==null?void 0:N.customStartPage)||"/",[_,B]=f.useState(!1),[L,K]=f.useState(!1),[G,V]=f.useState(D),[ae,T]=f.useState(E),P=G!==D||G==="custom"&&ae!==E,X=f.useMemo(()=>({name:e.profile.name||"",bio:e.profile.bio||"",goals:e.profile.goals||[],avatar:e.profile.avatar}),[e.profile]),M=f.useMemo(()=>d!==X.name||y!==X.bio||JSON.stringify([...g].sort())!==JSON.stringify([...X.goals].sort())||x!==X.avatar,[d,y,g,x,X]),[U,Y]=f.useState(!1);f.useEffect(()=>{o==="profile"&&Y(M)},[M,o]);const oe=()=>{var F;switch(D){case"last":return" ";case"custom":return((F=Xc.find(se=>se.value===E))==null?void 0:F.label)||"";case"default":default:return""}},ue=()=>{V(D),T(E),B(!0)},xe=()=>{t({type:"SET_START_PAGE_MODE",payload:G}),G==="custom"&&t({type:"SET_CUSTOM_START_PAGE",payload:ae}),B(!1)},fe=()=>{P?K(!0):B(!1)},I=()=>{K(!1),B(!1)},ee=()=>{xe(),K(!1)},le=()=>{m(e.profile.name||""),j(e.profile.bio||""),k(e.profile.goals||[]),w(e.profile.avatar),p(""),a("profile"),Y(!1)},ie=F=>{g.includes(F)?k(g.filter(ne=>ne!==F)):g.length<3&&k([...g,F])},ce=()=>{v.trim()&&g.length<3&&(k([...g,v.trim()]),p(""))},O=F=>{k(g.filter((ne,se)=>se!==F))},R=F=>{var pe;const ne=(pe=F.target.files)==null?void 0:pe[0];if(!ne)return;if(ne.size>2*1024*1024){alert("  .  2MB.");return}const se=new FileReader;se.onload=ct=>{var b;const wn=(b=ct.target)==null?void 0:b.result,tt=new Image;tt.onload=()=>{const Z=document.createElement("canvas"),ve=200;let ke=tt.width,Ve=tt.height;ke>Ve?ke>ve&&(Ve=Ve*ve/ke,ke=ve):Ve>ve&&(ke=ke*ve/Ve,Ve=ve),Z.width=ke,Z.height=Ve;const Lt=Z.getContext("2d");Lt==null||Lt.drawImage(tt,0,0,ke,Ve),w(Z.toDataURL("image/jpeg",.8))},tt.src=wn},se.readAsDataURL(ne),l.current&&(l.current.value="")},A=()=>{w(void 0)},Q=()=>{const F={name:d.trim(),bio:y.trim()||void 0,goals:g,avatar:x};t({type:"UPDATE_PROFILE",payload:F}),a(null),Y(!1)},te=f.useCallback(async()=>{h(!0);try{const F=await Rx(),ne=new Date,pe=`sdvig-backup-${`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}-${String(ne.getDate()).padStart(2,"0")}`}.json`,ct=JSON.stringify(F,null,2),wn=new Blob([ct],{type:"application/json"}),tt=URL.createObjectURL(wn),b=document.createElement("a");b.href=tt,b.download=pe,b.click(),URL.revokeObjectURL(tt),a(null),console.log("  :",pe)}catch(F){console.error("   :",F),alert("   ")}finally{h(!1)}},[]),re=f.useCallback(async()=>{if(!i)return;h(!0);const F=new FileReader;F.onload=async ne=>{var se;try{const pe=(se=ne.target)==null?void 0:se.result,ct=JSON.parse(pe),wn=await Ix(ct),tt={...xt,...wn};t({type:"LOAD_STATE",payload:tt}),a(null),c(null),console.log("  "),alert("  !")}catch(pe){console.error("   :",pe),alert("   .   .")}finally{h(!1)}},F.onerror=()=>{console.error("  "),alert("  "),h(!1)},F.readAsText(i),s.current&&(s.current.value="")},[i,t]),z=F=>{var se;const ne=(se=F.target.files)==null?void 0:se[0];ne&&(c(ne),a("import"))},W=f.useCallback(()=>{u||o==="profile"&&U||(a(null),c(null),Y(!1),s.current&&(s.current.value=""))},[u,o,U]);return r.jsxs(Yt,{title:"",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>n("/profile"),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),children:[r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:""}),r.jsx("span",{className:"settings-item-desc",children:",   "})]}),r.jsx("button",{className:"btn btn-sm btn-primary",onClick:le,children:""})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("button",{className:"settings-item start-page-row",onClick:ue,children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsxs("div",{className:"start-page-value",children:[r.jsx("span",{children:oe()}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})})]}),_&&r.jsx("div",{className:"action-sheet-overlay",onClick:fe,children:r.jsxs("div",{className:"action-sheet",onClick:F=>F.stopPropagation(),children:[r.jsxs("div",{className:"action-sheet-header",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"action-sheet-header-actions",children:[P&&r.jsx("button",{className:"btn btn-sm btn-primary",onClick:xe,children:""}),r.jsx("button",{className:"action-sheet-close",onClick:fe,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),r.jsxs("div",{className:"action-sheet-content",children:[r.jsxs("label",{className:`action-sheet-option ${G==="default"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:G==="default",onChange:()=>V("default")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"  "})]})]}),r.jsxs("label",{className:`action-sheet-option ${G==="last"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:G==="last",onChange:()=>V("last")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"  "})]})]}),r.jsxs("label",{className:`action-sheet-option ${G==="custom"?"active":""}`,children:[r.jsx("input",{type:"radio",name:"startPageMode",checked:G==="custom",onChange:()=>V("custom")}),r.jsxs("div",{className:"option-content",children:[r.jsx("span",{className:"option-title",children:" "}),r.jsx("span",{className:"option-desc",children:"   "})]})]}),G==="custom"&&r.jsx("div",{className:"page-select-list",children:Xc.map(F=>r.jsxs("label",{className:`page-select-option ${ae===F.value?"active":""}`,children:[r.jsx("input",{type:"radio",name:"customStartPage",checked:ae===F.value,onChange:()=>T(F.value)}),r.jsx("span",{children:F.label}),ae===F.value&&r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})]},F.value))})]})]})}),L&&r.jsx("div",{className:"action-sheet-overlay",onClick:()=>K(!1),children:r.jsxs("div",{className:"discard-confirm-modal",onClick:F=>F.stopPropagation(),children:[r.jsx("h3",{children:" ?"}),r.jsx("p",{children:"       ."}),r.jsxs("div",{className:"discard-confirm-actions",children:[r.jsx("button",{className:"btn",onClick:I,children:" "}),r.jsx("button",{className:"btn btn-primary filled",onClick:ee,children:""})]})]})}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsx("span",{className:"settings-item-desc",children:"    "})]}),r.jsxs("div",{className:"theme-toggle",children:[r.jsx("button",{className:`theme-btn ${((H=e.settings)==null?void 0:H.theme)==="light"?"active":""}`,onClick:()=>C("light"),children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),r.jsx("button",{className:`theme-btn ${((J=e.settings)==null?void 0:J.theme)==="dark"?"active":""}`,onClick:()=>C("dark"),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})})})]})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"settings-list",children:r.jsxs("div",{className:"settings-item backup-section",children:[r.jsxs("div",{className:"settings-item-info",children:[r.jsx("span",{className:"settings-item-title",children:" "}),r.jsx("span",{className:"settings-item-desc",children:"    "})]}),r.jsxs("div",{className:"backup-actions",children:[r.jsx("button",{className:"btn btn-sm",onClick:()=>a("export"),children:""}),r.jsxs("label",{className:"btn btn-sm btn-primary",children:["",r.jsx("input",{ref:s,type:"file",accept:"application/json",onChange:z,style:{display:"none"}})]})]})]})})]}),r.jsxs("div",{className:"settings-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"settings-list",children:[r.jsxs("a",{href:"https://samur000.github.io/SDVIG-INFO//",target:"_blank",rel:"noopener noreferrer",className:"settings-link",children:[r.jsx("div",{className:"settings-link-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),r.jsx("span",{children:" "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"settings-link-arrow",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r.jsxs("a",{href:"https://t.me/qafurov",target:"_blank",rel:"noopener noreferrer",className:"settings-link",children:[r.jsx("div",{className:"settings-link-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),r.jsx("span",{children:"  "}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"settings-link-arrow",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]}),r.jsxs("div",{className:"settings-version",children:[r.jsx("span",{children:" v2.1.1"}),r.jsx("span",{className:"settings-storage-info",children:"   IndexedDB"})]}),r.jsx(Ne,{isOpen:o==="profile",onClose:W,onRequestClose:()=>{if(U){Y(!0);return}a(null)},hasChanges:U,onSave:Q,confirmMessage:"",title:" ",children:r.jsxs("div",{className:"profile-edit-modal",children:[r.jsxs("div",{className:"avatar-edit",children:[r.jsx("div",{className:"avatar-preview",children:x?r.jsx("img",{src:x,alt:""}):r.jsx("div",{className:"avatar-placeholder",children:d?d[0].toUpperCase():"?"})}),r.jsxs("div",{className:"avatar-actions",children:[r.jsxs("label",{className:"btn btn-sm btn-primary",children:[x?"":"",r.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:R,style:{display:"none"}})]}),x&&r.jsx("button",{className:"btn btn-sm",onClick:A,children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:""}),r.jsx("input",{type:"text",value:d,onChange:F=>m(F.target.value),placeholder:"  ?"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" "}),r.jsx("textarea",{value:y,onChange:F=>j(F.target.value),placeholder:"   ...",rows:2})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:" ( 3)"}),r.jsx("div",{className:"goals-selector",children:Q0.map(F=>r.jsx("button",{type:"button",className:`goal-btn ${g.includes(F)?"active":""}`,onClick:()=>ie(F),disabled:!g.includes(F)&&g.length>=3,children:F},F))}),r.jsxs("div",{className:"custom-goal",children:[r.jsx("input",{type:"text",value:v,onChange:F=>p(F.target.value),placeholder:" ...",disabled:g.length>=3}),r.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:ce,disabled:!v.trim()||g.length>=3,children:"+"})]}),g.length>0&&r.jsx("div",{className:"selected-goals",children:g.map((F,ne)=>r.jsxs("span",{className:"chip",children:[F,r.jsx("button",{type:"button",onClick:()=>O(ne),children:""})]},ne))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{className:"btn text-danger",onClick:W,children:""})})]})}),r.jsx(Ne,{isOpen:o==="export",onClose:W,title:" ",children:r.jsxs("div",{className:"confirm-modal",children:[r.jsx("p",{className:"confirm-text",children:"   ?"}),r.jsx("p",{className:"confirm-hint",children:"  JSON-   ."}),r.jsxs("div",{className:"confirm-actions",children:[r.jsx("button",{className:"btn",onClick:W,disabled:u,children:""}),r.jsx("button",{className:"btn btn-primary filled",onClick:te,disabled:u,children:u?"...":""})]})]})}),r.jsx(Ne,{isOpen:o==="import",onClose:W,title:" ",children:r.jsxs("div",{className:"confirm-modal",children:[r.jsx("p",{className:"confirm-text",children:"   ?"}),r.jsx("p",{className:"confirm-hint confirm-warning",children:"    !"}),i&&r.jsxs("p",{className:"confirm-file",children:[": ",i.name]}),r.jsxs("div",{className:"confirm-actions",children:[r.jsx("button",{className:"btn",onClick:W,disabled:u,children:""}),r.jsx("button",{className:"btn btn-primary filled",onClick:re,disabled:u,children:u?"...":""})]})]})})]})}const J0={:"",:"",:"",:"",:"",:"",:""},q0=["","","","","","",""];function Wn(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";case"":return"";default:return J0[e].toLowerCase()+""}}function Z0(e){return e>=70?"good":e>=40?"warning":"danger"}const ev=({completedDates:e,scheduledDates:t,days:n,startDate:s})=>{const l=new Date;l.setHours(23,59,59,999);const o=[];let a;s?(a=new Date(s),a.setHours(0,0,0,0)):(a=new Date(l),a.setDate(a.getDate()-(n-1)),a.setHours(0,0,0,0));const i=new Date(l);i.setHours(23,59,59,999);const c=s?Math.ceil((i.getTime()-a.getTime())/(1e3*60*60*24))+1:n;for(let u=0;u<c;u++){const h=new Date(a);h.setDate(a.getDate()+u);const d=me(h);if(h>l)break;const m=t.includes(d),y=e.includes(d);let j="calendar-square";m?j+=y?" completed":" missed":j+=" inactive",o.push(r.jsx("div",{className:j,title:d},d))}return r.jsx("div",{className:"mini-calendar",children:o})},tv=({percent:e,status:t})=>r.jsx("div",{className:"routine-progress-bar",children:r.jsx("div",{className:`routine-progress-fill ${t}`,style:{width:`${Math.min(100,e)}%`}})});function nv(){const e=Et(),{state:t}=Dt(),[n,s]=f.useState("7days"),[l,o]=f.useState(null),a=f.useMemo(()=>{const d=new Date;d.setHours(23,59,59,999);let m=new Date;if(n==="7days")m.setDate(d.getDate()-6);else if(n==="30days")m.setDate(d.getDate()-29);else{let y=null;if(t.routines.forEach(j=>{if(j.createdAt){const g=new Date(j.createdAt+"T00:00:00");(!y||g<y)&&(y=g)}}),!y){const j=[];if(t.routines.forEach(g=>{Object.keys(g.completed).forEach(k=>{if(g.completed[k]){const v=new Date(k+"T00:00:00"),p=tn(v);g.days.includes(p)&&(!g.createdAt||v>=new Date(g.createdAt+"T00:00:00"))&&j.push(k)}})}),j.length>0){const g=j.sort();y=new Date(g[0]+"T00:00:00")}}y?m=y:m.setDate(d.getDate()-29)}return m.setHours(0,0,0,0),{start:m,end:d}},[n,t.routines]),i=f.useMemo(()=>{const d=m=>{const y=[];let j;if(m.createdAt){const k=new Date(m.createdAt+"T00:00:00");k.setHours(0,0,0,0),n==="all"?j=k:j=k>a.start?k:new Date(a.start)}else j=new Date(a.start);const g=new Date(j);for(;g<=a.end;){const k=tn(g);m.days.includes(k)&&y.push(me(g)),g.setDate(g.getDate()+1)}return y};return t.routines.map(m=>{const y=d(m),j=y.filter(w=>m.completed[w]===!0),g=y.length,k=j.length,v=g-k,p=g>0?Math.round(k/g*100):0,x=Z0(p);return{routine:m,scheduledDates:y,completedDates:j,total:g,completed:k,missed:v,percent:p,status:x}}).sort((m,y)=>m.percent-y.percent)},[t.routines,a]),c=f.useMemo(()=>{const d=t.routines.length;if(d===0)return{averagePercent:0,totalRoutines:0,avgMissedPerWeek:0};const m=i.reduce((x,w)=>x+w.total,0),y=i.reduce((x,w)=>x+w.completed,0),j=i.reduce((x,w)=>x+w.missed,0),g=m>0?Math.round(y/m*100):0,v=(n==="7days"?7:n==="30days"?30:Math.max(1,Math.ceil((a.end.getTime()-a.start.getTime())/(1e3*60*60*24))))/7,p=v>0?Math.round(j/v*10)/10:0;return{averagePercent:g,totalRoutines:d,avgMissedPerWeek:p}},[i,n,a,t.routines.length]),u=f.useMemo(()=>{if(!l)return null;const d=i.find(x=>x.routine.id===l.id);if(!d)return null;const m={:0,:0,:0,:0,:0,:0,:0};d.scheduledDates.forEach(x=>{if(!d.completedDates.includes(x)){const w=new Date(x+"T00:00:00"),C=tn(w);m[C]++}});let y="",j=0;Object.entries(m).forEach(([x,w])=>{w>j&&(j=w,y=x)});let g=0,k=0;[...d.scheduledDates].sort().forEach(x=>{d.completedDates.includes(x)?(k++,k>g&&(g=k)):k=0});let p="";if(l.time){const x=parseInt(l.time.split(":")[0],10);x<12?p="":x>=18&&(p="")}return{...d,missedByDay:m,worstDay:y,bestStreak:g,timeOfDay:p}},[l,i]),h=f.useMemo(()=>{if(i.length===0)return null;const d=i[0];if(!d||d.missed===0)return{icon:"",text:"!    ",variant:"good"};const m={:0,:0,:0,:0,:0,:0,:0};i.forEach(v=>{v.scheduledDates.forEach(p=>{if(!v.completedDates.includes(p)){const x=new Date(p+"T00:00:00"),w=tn(x);m[w]++}})});let y="",j=0;Object.entries(m).forEach(([v,p])=>{p>j&&(j=p,y=v)});const g=i.reduce((v,p)=>v+p.missed,0);if(j>2)return g>10?{icon:"",text:`! ${g} .    ${Wn(y)}`,variant:"danger",skipCount:g}:g>5?{icon:"",text:`${g} .    ${Wn(y)}`,variant:"warning",skipCount:g}:{icon:"",text:`    ${Wn(y)}`,variant:"good",skipCount:g};if(d.missed>10)return{icon:"",text:`${d.routine.title}   ${d.missed} ,   ${d.percent}%`,variant:"danger",skipCount:d.missed};if(d.missed>5)return{icon:"",text:`${d.routine.title}    ${d.missed} ,   ${d.percent}%`,variant:"warning",skipCount:d.missed};if(d.percent<50)return{icon:"",text:`${d.routine.title}      ${d.percent}%`,variant:"good",skipCount:d.missed};const k=i.filter(v=>v.routine.time?parseInt(v.routine.time.split(":")[0],10)<10:!1);return k.length>0&&k.reduce((p,x)=>p+x.percent,0)/k.length<60?{icon:"",text:"  ( 10:00)   ",variant:"good"}:{icon:"",text:"    !     ",variant:"good"}},[i]);return r.jsxs(Yt,{title:" ",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),children:[r.jsxs("div",{className:"routine-analytics",children:[r.jsxs("div",{className:"period-filter",children:[r.jsx("button",{className:`period-chip ${n==="7days"?"active":""}`,onClick:()=>s("7days"),children:"7 "}),r.jsx("button",{className:`period-chip ${n==="30days"?"active":""}`,onClick:()=>s("30days"),children:"30 "}),r.jsx("button",{className:`period-chip ${n==="all"?"active":""}`,onClick:()=>s("all"),children:" "})]}),r.jsxs("div",{className:"overview-card",children:[r.jsxs("div",{className:"overview-stat",children:[r.jsxs("span",{className:"overview-value",children:[c.averagePercent,"%"]}),r.jsx("span",{className:"overview-label",children:" %"})]}),r.jsx("div",{className:"overview-divider"}),r.jsxs("div",{className:"overview-stat",children:[r.jsx("span",{className:"overview-value",children:c.totalRoutines}),r.jsx("span",{className:"overview-label",children:" "})]}),r.jsx("div",{className:"overview-divider"}),r.jsxs("div",{className:"overview-stat",children:[r.jsx("span",{className:"overview-value",children:c.avgMissedPerWeek}),r.jsx("span",{className:"overview-label",children:"/"})]})]}),r.jsxs("div",{className:"routines-section",children:[r.jsx("h3",{className:"section-title",children:""}),i.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"   "})]}):r.jsx("div",{className:"routines-list",children:i.map(({routine:d,percent:m,status:y,missed:j})=>r.jsxs("div",{className:"routine-item",onClick:()=>o(d),children:[r.jsxs("div",{className:"routine-info",children:[r.jsx("span",{className:"routine-title",children:d.title}),r.jsxs("span",{className:"routine-missed",children:[j," "]})]}),r.jsxs("div",{className:"routine-stats",children:[r.jsxs("span",{className:`routine-percent ${y}`,children:[m,"%"]}),r.jsx(tv,{percent:m,status:y})]})]},d.id))})]}),h&&r.jsxs("div",{className:`insight-card insight-${h.variant||"good"}`,children:[r.jsx("span",{className:"insight-icon",children:h.icon}),r.jsx("span",{className:"insight-text",children:h.text})]})]}),r.jsx(Ne,{isOpen:!!l,onClose:()=>o(null),title:(l==null?void 0:l.title)||" ",children:u&&r.jsxs("div",{className:"routine-details",children:[r.jsxs("div",{className:"details-section",children:[r.jsx("h4",{children:"  "}),r.jsx(ev,{completedDates:u.completedDates,scheduledDates:u.scheduledDates,days:n==="7days"?7:n==="30days"?30:60,startDate:n==="all"?a.start:void 0}),r.jsxs("div",{className:"calendar-legend",children:[r.jsxs("span",{className:"legend-item",children:[r.jsx("span",{className:"dot completed"})," "]}),r.jsxs("span",{className:"legend-item",children:[r.jsx("span",{className:"dot missed"})," "]})]})]}),r.jsxs("div",{className:"details-stats",children:[r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value good",children:u.completed}),r.jsx("span",{className:"detail-label",children:""})]}),r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value danger",children:u.missed}),r.jsx("span",{className:"detail-label",children:""})]}),r.jsxs("div",{className:"detail-stat",children:[r.jsx("span",{className:"detail-value",children:u.bestStreak}),r.jsx("span",{className:"detail-label",children:" "})]})]}),r.jsxs("div",{className:"details-section",children:[r.jsx("h4",{children:"   "}),r.jsx("div",{className:"weekday-chart",children:q0.map(d=>{const m=u.missedByDay[d],y=Math.max(...Object.values(u.missedByDay),1),j=m/y*100,g=d===u.worstDay&&m>0;return r.jsxs("div",{className:"weekday-bar-container",children:[r.jsx("div",{className:`weekday-bar ${g?"worst":""}`,style:{height:`${j}%`}}),r.jsx("span",{className:"weekday-label",children:d}),r.jsx("span",{className:"weekday-count",children:m})]},d)})})]}),u.missed>0&&r.jsxs("div",{className:`routine-insight ${u.missed>10?"danger":u.missed>5?"warning":"good"}`,children:[r.jsx("span",{className:"insight-icon",children:u.missed>10?"":u.missed>5?"":""}),r.jsx("span",{className:"insight-text",children:u.missed>10?`! ${u.missed} .     ${Wn(u.worstDay)}`:u.missed>5?`${u.missed} .     ${Wn(u.worstDay)}`:`    ${Wn(u.worstDay)}`})]})]})})]})}const rv={focusDuration:25,shortBreakDuration:5,longBreakDuration:15,sessionsUntilLongBreak:4},sv=[{label:"15",value:15},{label:"25",value:25},{label:"45",value:45},{label:"60",value:60}];function lv(){const e=Et(),{state:t,dispatch:n}=Dt(),[s]=f.useState(rv),l=new Date().toISOString().split("T")[0],o=(t.focusSessions||[]).filter(z=>{var W;return((W=z.date)==null?void 0:W.startsWith(l))&&z.completed}).length,a=t.timerState,[i,c]=f.useState((a==null?void 0:a.mode)||"focus"),[u,h]=f.useState(()=>{if(a!=null&&a.isRunning&&a.startedAt){const z=Math.floor((Date.now()-a.startedAt)/1e3);return Math.max(0,a.timeLeft-z)}return(a==null?void 0:a.timeLeft)||s.focusDuration*60}),[d,m]=f.useState((a==null?void 0:a.isRunning)||!1),[y,j]=f.useState((a==null?void 0:a.sessionsCompleted)??o),[g,k]=f.useState((a==null?void 0:a.currentTask)||""),[v,p]=f.useState((a==null?void 0:a.focusDuration)||s.focusDuration),[x,w]=f.useState(!d),C=f.useRef(null),D=f.useRef((a==null?void 0:a.startedAt)||0),E=f.useRef(!1),_=f.useRef(i),B=f.useRef(u),L=f.useRef(g),K=f.useRef(t),G=f.useRef(d);f.useEffect(()=>{_.current=i},[i]),f.useEffect(()=>{B.current=u},[u]),f.useEffect(()=>{L.current=g},[g]),f.useEffect(()=>{K.current=t},[t]),f.useEffect(()=>{G.current=d},[d]);const V=f.useCallback(z=>{switch(z){case"focus":return v*60;case"shortBreak":return s.shortBreakDuration*60;case"longBreak":return s.longBreakDuration*60}},[s,v]),ae=z=>{const W=Math.floor(z/60),S=z%60;return`${W.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`},T=V(i),P=(T-u)/T*100,X=()=>{switch(i){case"focus":return"#ea580c";case"shortBreak":return"#22c55e";case"longBreak":return"#2186b4"}},M=()=>{switch(i){case"focus":return"";case"shortBreak":return" ";case"longBreak":return" "}},U=f.useCallback((z,W)=>{const S={mode:_.current,timeLeft:B.current,isRunning:z,sessionsCompleted:y,currentTask:L.current,focusDuration:v,startedAt:W||D.current};n({type:"UPDATE_TIMER_STATE",payload:S})},[n,y,v]),Y=f.useCallback(()=>{m(!0),w(!1);const z=Date.now(),W=V(i),S=z-(W-u)*1e3;D.current=S,E.current=!1,U(!0,S)},[U,i,u,V]),oe=f.useCallback(()=>{m(!1),w(!0),U(!1)},[U]),ue=f.useCallback(()=>{m(!1),w(!0),h(V(i)),E.current=!1,n({type:"UPDATE_TIMER_STATE",payload:void 0})},[V,i,n]),xe=f.useCallback((z=!1)=>{if(i!=="focus"||E.current)return;const W=V(i)-u;if(W>=10){E.current=!0;const S={id:Te(),taskId:"",taskTitle:g||"-",duration:W,date:new Date().toISOString(),completed:z};n({type:"ADD_FOCUS_SESSION",payload:S});const N=K.current,H={...N,focusSessions:[...N.focusSessions||[],S]};Js(H).catch(console.error),K.current=H}},[i,V,u,g,n]);f.useEffect(()=>{const z=()=>{if(_.current!=="focus"||E.current)return;const N=V("focus")-B.current;if(N>=10){E.current=!0;const H={id:Te(),taskId:"",taskTitle:L.current||"-",duration:N,date:new Date().toISOString(),completed:!1};n({type:"ADD_FOCUS_SESSION",payload:H});const J=K.current,F={...J,focusSessions:[...J.focusSessions||[],H]};Js(F).catch(console.error)}},W=()=>{z()};return window.addEventListener("beforeunload",W),()=>{if(window.removeEventListener("beforeunload",W),G.current){const S={mode:_.current,timeLeft:B.current,isRunning:!0,sessionsCompleted:y,currentTask:L.current,focusDuration:v,startedAt:D.current};n({type:"UPDATE_TIMER_STATE",payload:S})}}},[V,n,y,v]);const fe=f.useCallback(()=>{if(m(!1),w(!0),i==="focus"){xe(!1);const z=y+1;j(z),setTimeout(()=>{E.current=!1,z%s.sessionsUntilLongBreak===0?(c("longBreak"),h(V("longBreak"))):(c("shortBreak"),h(V("shortBreak"))),n({type:"UPDATE_TIMER_STATE",payload:void 0})},100)}else E.current=!1,c("focus"),h(V("focus")),n({type:"UPDATE_TIMER_STATE",payload:void 0})},[i,V,y,s.sessionsUntilLongBreak,xe,n]),I=f.useCallback(()=>{if(m(!1),w(!0),fn([100,50,100,50,100]),i==="focus"){const z={id:Te(),taskId:"",taskTitle:g||"-",duration:V(i),date:new Date().toISOString(),completed:!0};n({type:"ADD_FOCUS_SESSION",payload:z});const W=K.current,S={...W,focusSessions:[...W.focusSessions||[],z]};Js(S).catch(console.error),K.current=S,E.current=!0;const N=y+1;j(N),setTimeout(()=>{E.current=!1,N%s.sessionsUntilLongBreak===0?(c("longBreak"),h(V("longBreak"))):(c("shortBreak"),h(V("shortBreak"))),n({type:"UPDATE_TIMER_STATE",payload:void 0})},100)}else c("focus"),h(V("focus")),n({type:"UPDATE_TIMER_STATE",payload:void 0})},[i,y,s.sessionsUntilLongBreak,V,n,g]),ee=f.useCallback(z=>{!d&&i==="focus"&&(p(z),h(z*60))},[d,i]),le=f.useCallback(z=>{d||(c(z),h(z==="focus"?v*60:V(z)))},[d,V,v]),ie=f.useRef(0),ce=z=>{ie.current=z.touches[0].clientY},O=z=>{if(!d)return;const W=ie.current-z.changedTouches[0].clientY;Math.abs(W)>50&&w(W<0)};f.useEffect(()=>{if(d&&u>0&&D.current>0){const z=V(i);C.current=window.setInterval(()=>{const W=Date.now(),S=Math.floor((W-D.current)/1e3),N=Math.max(0,z-S);N<=0?(I(),h(0)):h(N)},100)}return()=>{C.current&&clearInterval(C.current)}},[d,I,i,V]),f.useEffect(()=>(d?document.title=`${ae(u)} - ${M()}`:document.title="",()=>{document.title=""}),[u,d,i]);const R=196,A=8,Q=(R-A)/2,te=Q*2*Math.PI,re=te-P/100*te;return r.jsx(Yt,{title:"",headerRight:r.jsx("button",{className:"header-back-btn",onClick:()=>e(-1),children:""}),children:r.jsxs("div",{className:`focus-page ${d&&!x?"minimal":""}`,onTouchStart:ce,onTouchEnd:O,children:[(!d||x)&&r.jsxs("div",{className:"focus-modes",children:[r.jsx("button",{className:`focus-mode-btn ${i==="focus"?"active":""}`,onClick:()=>le("focus"),disabled:d,children:""}),r.jsx("button",{className:`focus-mode-btn ${i==="shortBreak"?"active":""}`,onClick:()=>le("shortBreak"),disabled:d,children:""}),r.jsx("button",{className:`focus-mode-btn ${i==="longBreak"?"active":""}`,onClick:()=>le("longBreak"),disabled:d,children:""})]}),r.jsxs("div",{className:"focus-timer-container",children:[r.jsxs("svg",{className:"focus-timer-ring",width:R,height:R,style:{"--ring-color":X()},children:[r.jsx("circle",{className:"focus-timer-bg",cx:R/2,cy:R/2,r:Q,strokeWidth:A,fill:"none"}),r.jsx("circle",{className:"focus-timer-progress",cx:R/2,cy:R/2,r:Q,strokeWidth:A,fill:"none",strokeDasharray:te,strokeDashoffset:re,strokeLinecap:"round",style:{stroke:X()}})]}),r.jsxs("div",{className:"focus-timer-display",children:[r.jsx("span",{className:"focus-timer-time",style:{color:X()},children:ae(u)}),r.jsx("span",{className:"focus-timer-mode",children:M()}),g&&d&&!x&&r.jsx("span",{className:"focus-timer-task",children:g})]})]}),i==="focus"&&(!d||x)&&!d&&r.jsx("div",{className:"focus-presets",children:sv.map(z=>r.jsx("button",{className:`focus-preset-btn ${v===z.value?"active":""}`,onClick:()=>ee(z.value),children:z.label},z.value))}),i==="focus"&&(!d||x)&&!d&&r.jsx("div",{className:"focus-task-input",children:r.jsx("input",{type:"text",value:g,onChange:z=>k(z.target.value),placeholder:"  ?",className:"focus-task-field"})}),r.jsxs("div",{className:"focus-controls",children:[d?r.jsxs("button",{className:"focus-control-btn primary",onClick:oe,style:{backgroundColor:X()},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),r.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),r.jsx("span",{children:""})]}):r.jsxs("button",{className:"focus-control-btn primary",onClick:Y,style:{backgroundColor:X()},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),r.jsx("span",{children:""})]}),r.jsx("button",{className:"focus-control-btn secondary",onClick:ue,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 4v6h6"}),r.jsx("path",{d:"M3.51 15a9 9 0 102.13-9.36L1 10"})]})}),r.jsx("button",{className:"focus-control-btn secondary",onClick:fe,children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),r.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19",stroke:"currentColor",strokeWidth:"2"})]})})]}),(!d||x)&&r.jsxs("div",{className:"focus-sessions",children:[r.jsx("span",{className:"focus-sessions-label",children:" :"}),r.jsx("div",{className:"focus-sessions-dots",children:Array.from({length:s.sessionsUntilLongBreak}).map((z,W)=>r.jsx("span",{className:`focus-session-dot ${W<y%s.sessionsUntilLongBreak?"completed":""}`},W))}),r.jsx("span",{className:"focus-sessions-count",children:y})]}),(!d||x)&&t.focusSessions&&t.focusSessions.length>0&&r.jsxs("div",{className:"focus-today-stats",children:[r.jsx("span",{className:"focus-stats-label",children:"  :"}),r.jsxs("span",{className:"focus-stats-value",children:[Math.round(t.focusSessions.filter(z=>{var W;return(W=z.date)==null?void 0:W.startsWith(new Date().toISOString().split("T")[0])}).reduce((z,W)=>z+(W.duration||0),0)/60)," "]})]}),d&&!x&&r.jsx("div",{className:"focus-swipe-hint",children:"   "})]})})}const ov="/SDVIG-TEST2/";function av(){var a;const e=jn(),t=Et(),{state:n,dispatch:s}=Dt(),l=f.useRef(!1),o=f.useRef(!0);return f.useEffect(()=>{if(l.current)return;const i=n.settings,c=(i==null?void 0:i.startPageMode)||"default";let u;switch(c){case"last":u=i==null?void 0:i.lastVisitedPage;break;case"custom":u=i==null?void 0:i.customStartPage;break;case"default":default:u="/";break}u&&u!=="/"&&e.pathname==="/"?(l.current=!0,t(u,{replace:!0})):l.current=!0},[n.settings,t,e.pathname]),f.useEffect(()=>{var c;if(o.current){o.current=!1;return}if(e.pathname==="/settings")return;const i=e.pathname;((c=n.settings)==null?void 0:c.lastVisitedPage)!==i&&s({type:"SET_LAST_VISITED_PAGE",payload:i})},[e.pathname,s,(a=n.settings)==null?void 0:a.lastVisitedPage]),null}function iv(){return r.jsxs(r.Fragment,{children:[r.jsx(av,{}),r.jsxs(lx,{children:[r.jsx(jt,{path:"/",element:r.jsx(u0,{})}),r.jsx(jt,{path:"/calendar",element:r.jsx(v0,{})}),r.jsx(jt,{path:"/finance",element:r.jsx(_0,{})}),r.jsx(jt,{path:"/tasks",element:r.jsx(F0,{})}),r.jsx(jt,{path:"/inbox",element:r.jsx(Kc,{})}),r.jsx(jt,{path:"/inbox/note/:id",element:r.jsx(Kc,{})}),r.jsx(jt,{path:"/profile",element:r.jsx(K0,{})}),r.jsx(jt,{path:"/settings",element:r.jsx(X0,{})}),r.jsx(jt,{path:"/focus",element:r.jsx(lv,{})}),r.jsx(jt,{path:"/routine-analytics",element:r.jsx(nv,{})})]})]})}function cv(){return r.jsx(Yx,{children:r.jsx(Gx,{children:r.jsx(mx,{basename:ov,children:r.jsx(iv,{})})})})}ko.createRoot(document.getElementById("root")).render(r.jsx(au.StrictMode,{children:r.jsx(cv,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
